{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"NumericLiteral","value":969,"raw":"969"}}]}}},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":4733,"raw":"4733"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"CP_TALK_TO_SENSEI_WU","raw":"\"CP_TALK_TO_SENSEI_WU\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleStoryBox","raw":"\"ToggleStoryBox\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"pushGameState","raw":"\"pushGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"Story","raw":"\"Story\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"context","raw":"\"context\""}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"Identifier","name":"getContext"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"getContext"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"numOfScrolls"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"TotalScrolls","raw":"\"TotalScrolls\""}]},"right":{"type":"NumericLiteral","value":10,"raw":"10"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scrollName"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ScrollName","raw":"\"ScrollName\""}]},"right":{"type":"StringLiteral","value":"STORY_BOX_NINJAGOSCROLL_","raw":"\"STORY_BOX_NINJAGOSCROLL_\""}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"textVar"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"bScroll","raw":"\"bScroll\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"senderID","raw":"\"senderID\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"Identifier","name":"numOfScrolls"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scrollNum"}],"init":[{"type":"Identifier","name":"i"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"uiNum"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"i"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"scrollNum"},"right":{"type":"NumericLiteral","value":10,"raw":"10"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"scrollNum"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"0","raw":"\"0\""},"right":{"type":"Identifier","name":"scrollNum"}}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"textVar"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"PAGE","raw":"\"PAGE\""},"right":{"type":"Identifier","name":"uiNum"}}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"scrollName"},"right":{"type":"Identifier","name":"scrollNum"}}]}}]}]}}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"textVar"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTerminateInteraction"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleStoryBox","raw":"\"ToggleStoryBox\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":false,"raw":"false"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Close","raw":"\"Close\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyOnHit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleStoryBox","raw":"\"ToggleStoryBox\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"toggleActivatorIcon"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bHide"},{"type":"Identifier","name":"bFromTerminate"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bHide"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"OnHit","raw":"\"OnHit\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bFromTerminate"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"OnHit","raw":"\"OnHit\""}}]}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestPickTypeUpdate"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" client script on the scroll reader in the temple in aura mar","raw":"-- client script on the scroll reader in the temple in aura mar"},{"type":"Comment","value":" player has a mission to interact with the scroll reader ","raw":"-- player has a mission to interact with the scroll reader "},{"type":"Comment","value":" scroll reader allows the player to page through 10 pages of ninjago history","raw":"-- scroll reader allows the player to page through 10 pages of ninjago history"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" brandi 10/28/2010 ","raw":"-- brandi 10/28/2010 "},{"type":"Comment","value":" updated mrb... 12/14/10 -- updated GUI messages and fixed icons","raw":"-- updated mrb... 12/14/10 -- updated GUI messages and fixed icons"},{"type":"Comment","value":" updated abeechler... 1/21/10 -- fixed UI call typo","raw":"-- updated abeechler... 1/21/10 -- fixed UI call typo"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" leaving this in because VFX will probably want to add fx to this object","raw":"-- leaving this in because VFX will probably want to add fx to this object"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" turning on the effects on the binoculars based on whether the player has looked through ","raw":"-- turning on the effects on the binoculars based on whether the player has looked through "},{"type":"Comment","value":" them before or not","raw":"-- them before or not"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" function onRenderComponentReady(self,msg)\t","raw":"-- function onRenderComponentReady(self,msg)\t"},{"type":"Comment","value":" local player = GAMEOBJ:GetControlledID()","raw":"-- local player = GAMEOBJ:GetControlledID()"},{"type":"Comment","value":" -- make sure the player is ready","raw":"-- -- make sure the player is ready"},{"type":"Comment","value":" if player:Exists() then","raw":"-- if player:Exists() then"},{"type":"Comment","value":" if self:GetVar('storyText') then --make sure the script doesnt fail if the binoc doesnt have config data\t\t","raw":"-- if self:GetVar('storyText') then --make sure the script doesnt fail if the binoc doesnt have config data\t\t"},{"type":"Comment","value":" local flagNumber = self:GetVar('altFlagID') or (10000 + LEVEL:GetCurrentZoneID() + tonumber(string.sub(self:GetVar('storyText'), -2))) --make player flag number","raw":"-- local flagNumber = self:GetVar('altFlagID') or (10000 + LEVEL:GetCurrentZoneID() + tonumber(string.sub(self:GetVar('storyText'), -2))) --make player flag number"},{"type":"Comment","value":" if (player:GetFlag{iFlagID = flagNumber}.bFlag == false) then \t\t\t\t","raw":"-- if (player:GetFlag{iFlagID = flagNumber}.bFlag == false) then \t\t\t\t"},{"type":"Comment","value":" --if the player flag is false, the player hasnt looked though the binocs before","raw":"-- --if the player flag is false, the player hasnt looked though the binocs before"},{"type":"Comment","value":" -- turn on the binocular effect","raw":"-- -- turn on the binocular effect"},{"type":"Comment","value":" self:PlayFXEffect{ name = \"plaque_attract\" , effectType = \"attract\" }\t\t\t","raw":"-- self:PlayFXEffect{ name = \"plaque_attract\" , effectType = \"attract\" }\t\t\t"},{"type":"Comment","value":" else\t\t\t","raw":"-- else\t\t\t"},{"type":"Comment","value":" self:PlayFXEffect{ name = \"plaquefx\" , effectType = \"display\" }\t\t\t\t","raw":"-- self:PlayFXEffect{ name = \"plaquefx\" , effectType = \"display\" }\t\t\t\t"},{"type":"Comment","value":" end  ","raw":"-- end  "},{"type":"Comment","value":" end","raw":"-- end"},{"type":"Comment","value":" else ","raw":"-- else "},{"type":"Comment","value":" -- if the player isnt fully loaded to check the player flag status, create 'heartbeat timer'","raw":"-- -- if the player isnt fully loaded to check the player flag status, create 'heartbeat timer'"},{"type":"Comment","value":" GAMEOBJ:GetTimer():AddTimerWithCancel(1.0, \"CheckPlayer\", self)","raw":"-- GAMEOBJ:GetTimer():AddTimerWithCancel(1.0, \"CheckPlayer\", self)"},{"type":"Comment","value":" end","raw":"-- end"},{"type":"Comment","value":" end","raw":"-- end"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" see if the plaque is in use before allowing the player from using it again","raw":"-- see if the plaque is in use before allowing the player from using it again"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":"check to make sure the player has at least accepted the  mission to the use the scroll reader","raw":"--check to make sure the player has at least accepted the  mission to the use the scroll reader"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the local player interacts with the","raw":"-- sent when the local player interacts with the"},{"type":"Comment","value":" object","raw":"-- object"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" check to see if we are the correct player","raw":"-- check to see if we are the correct player"},{"type":"Comment","value":" tell the Story Box UI element to open and what to display, then turn off the interaction icon\t\t","raw":"-- tell the Story Box UI element to open and what to display, then turn off the interaction icon\t\t"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" checks to see if there is config data set in","raw":"-- checks to see if there is config data set in"},{"type":"Comment","value":" HF, if not this returns the default message","raw":"-- HF, if not this returns the default message"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" get the variables from HF or use the default for CP scroll reader","raw":"-- get the variables from HF or use the default for CP scroll reader"},{"type":"Comment","value":" create and ","raw":"-- create and "},{"type":"Comment","value":" set the scroll num","raw":"-- set the scroll num"},{"type":"Comment","value":" ui uses 0 as first value so - 1","raw":"-- ui uses 0 as first value so - 1"},{"type":"Comment","value":" format scrollNum if needed for 01, 02 localization formatting","raw":"-- format scrollNum if needed for 01, 02 localization formatting"},{"type":"Comment","value":" insert the correctly formatted values, PAGE0 = localization key","raw":"-- insert the correctly formatted values, PAGE0 = localization key"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" message sent from the server when the player flag is set","raw":"-- message sent from the server when the player flag is set"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":"function onFireEventClientSide(self,msg)","raw":"--function onFireEventClientSide(self,msg)"},{"type":"Comment","value":"\tif msg.args == \"achieve\" then\t","raw":"--\tif msg.args == \"achieve\" then\t"},{"type":"Comment","value":"\t\tself:StopFXEffect{name = \"plaque_attract\" }","raw":"--\t\tself:StopFXEffect{name = \"plaque_attract\" }"},{"type":"Comment","value":"\t\tself:PlayFXEffect{ name = \"plaquefx\" , effectType = \"display\" }\t","raw":"--\t\tself:PlayFXEffect{ name = \"plaquefx\" , effectType = \"display\" }\t"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" called when the player closes the story plaque","raw":"-- called when the player closes the story plaque"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" player was hit close the UI element and turn on the icon","raw":"-- player was hit close the UI element and turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the object story box is closed;","raw":"-- sent when the object story box is closed;"},{"type":"Comment","value":" this can be done by hitting the x, esc or enter","raw":"-- this can be done by hitting the x, esc or enter"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" UI element has been closed turn on the icon","raw":"-- UI element has been closed turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the object checks it's pick type","raw":"-- sent when the object checks it's pick type"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Interactive pick type     ","raw":"-- Interactive pick type     "},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the requested local player is hit ","raw":"-- sent when the requested local player is hit "},{"type":"Comment","value":" by something, this is used to close the story box","raw":"-- by something, this is used to close the story box"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" player was hit close the UI element and turn on the icon","raw":"-- player was hit close the UI element and turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" toggles the activator Icon based on bHide, ","raw":"-- toggles the activator Icon based on bHide, "},{"type":"Comment","value":" to toggle it on you dont have to pass bHide","raw":"-- to toggle it on you dont have to pass bHide"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" show the icon, cancel notification, set isInUse to false","raw":"-- show the icon, cancel notification, set isInUse to false"},{"type":"Comment","value":" hide the icon, request notification, set isInUse to true","raw":"-- hide the icon, request notification, set isInUse to true"},{"type":"Comment","value":" request the interaction update","raw":"-- request the interaction update"}]}