{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRenderComponentReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckFlags"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckFlags"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CheckFlags"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"storyText","raw":"'storyText'"}]},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"flagNumber"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"altFlagID","raw":"'altFlagID'"}]},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"NumericLiteral","value":10000,"raw":"10000"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetCurrentZoneID"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[]}},"right":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"storyText","raw":"'storyText'"}]},{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":2,"raw":"2"}}]}]},"inParens":true}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"Identifier","name":"flagNumber"}}]}}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"plaque_attract","raw":"\"plaque_attract\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"attract","raw":"\"attract\""}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"plaquefx","raw":"\"plaquefx\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"display","raw":"\"display\""}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"\"isInUse\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"pushGameState","raw":"\"pushGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"Story","raw":"\"Story\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"context","raw":"\"context\""}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"text","raw":"\"text\""}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"Identifier","name":"getText"},"arguments":[{"type":"Identifier","name":"self"}]}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"senderID","raw":"\"senderID\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}}]}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UsedInformationPlaque"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"i64Plaque"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onFireEventClientSide"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"achieve","raw":"\"achieve\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"plaque_attract","raw":"\"plaque_attract\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"plaquefx","raw":"\"plaquefx\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"display","raw":"\"display\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTerminateInteraction"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleStoryBox","raw":"\"ToggleStoryBox\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":false,"raw":"false"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyOnHit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleStoryBox","raw":"\"ToggleStoryBox\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"toggleActivatorIcon"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"getText"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"textVar"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"storyText","raw":"'storyText'"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"textVar"}},"body":[{"type":"ReturnStatement","arguments":[{"type":"StringLiteral","value":"Missing story text, set the correctly localization string in HF configdata.\r\n\r\nFormat = storyText -> 0:stringName","raw":"[[Missing story text, set the correctly localization string in HF configdata.\r\n\r\nFormat = storyText -> 0:stringName]]"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"Identifier","name":"textVar"}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"toggleActivatorIcon"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bHide"},{"type":"Identifier","name":"bFromTerminate"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bHide"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"bHide"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"OnHit","raw":"\"OnHit\""}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bFromTerminate"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"OnHit","raw":"\"OnHit\""}}]}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestPickTypeUpdate"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"CheckPlayer","raw":"\"CheckPlayer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"onRenderComponentReady"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Generic Story Box Interaction script, opens/closes the story","raw":"-- Generic Story Box Interaction script, opens/closes the story"},{"type":"Comment","value":" box UI based on the config data set in HF on the object running","raw":"-- box UI based on the config data set in HF on the object running"},{"type":"Comment","value":" this script. ","raw":"-- this script. "},{"type":"Comment","value":" updated mrb... 5/04/10 -- added altFlagID to fix PC issue","raw":"-- updated mrb... 5/04/10 -- added altFlagID to fix PC issue"},{"type":"Comment","value":" updated brandi... 10/21/10 -- pulled set flag out this script and created a server script","raw":"-- updated brandi... 10/21/10 -- pulled set flag out this script and created a server script"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" ***********************************************************","raw":"-- ***********************************************************"},{"type":"Comment","value":" HF config data format","raw":"-- HF config data format"},{"type":"Comment","value":" storyText -> 0:stringName    -- needed to work","raw":"-- storyText -> 0:stringName    -- needed to work"},{"type":"Comment","value":" altFlagID -> 1:flagID        -- if the flag is different from 10000 + mapNum + storyText number use this","raw":"-- altFlagID -> 1:flagID        -- if the flag is different from 10000 + mapNum + storyText number use this"},{"type":"Comment","value":" ***********************************************************","raw":"-- ***********************************************************"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" turning on the effects on the binoculars based on whether the player has looked through ","raw":"-- turning on the effects on the binoculars based on whether the player has looked through "},{"type":"Comment","value":" them before or not","raw":"-- them before or not"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" tell the zone control object to tell the script when the local player is loaded","raw":"-- tell the zone control object to tell the script when the local player is loaded"},{"type":"Comment","value":" custom function","raw":"-- custom function"},{"type":"Comment","value":" the zone control object says the player is loaded","raw":"-- the zone control object says the player is loaded"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" custom function to see if the players flag is set","raw":"-- custom function to see if the players flag is set"},{"type":"Comment","value":" cancel the notification request","raw":"-- cancel the notification request"},{"type":"Comment","value":"make sure the script doesnt fail if the binoc doesnt have config data\t\t","raw":"--make sure the script doesnt fail if the binoc doesnt have config data\t\t"},{"type":"Comment","value":"make player flag number","raw":"--make player flag number"},{"type":"Comment","value":"if the player flag is false, the player hasnt looked though the binocs before","raw":"--if the player flag is false, the player hasnt looked though the binocs before"},{"type":"Comment","value":" turn on the binocular effect","raw":"-- turn on the binocular effect"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":" see if the plaque is in use before allowing the player from using it again","raw":"-- see if the plaque is in use before allowing the player from using it again"},{"type":"Comment","value":"-----------------------------------------","raw":"-------------------------------------------"},{"type":"Comment","value":"check to make sure the player isnt currently using the binoculars","raw":"--check to make sure the player isnt currently using the binoculars"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the local player interacts with the","raw":"-- sent when the local player interacts with the"},{"type":"Comment","value":" object","raw":"-- object"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" check to see if we are the correct player","raw":"-- check to see if we are the correct player"},{"type":"Comment","value":" tell the Story Box UI element to open and what to display, then turn off the interaction icon","raw":"-- tell the Story Box UI element to open and what to display, then turn off the interaction icon"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" message sent from the server when the player flag is set","raw":"-- message sent from the server when the player flag is set"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" called when the player closes the story plaque","raw":"-- called when the player closes the story plaque"},{"type":"Comment","value":"---------------------------------------------","raw":"-----------------------------------------------"},{"type":"Comment","value":" player was hit close the UI element and turn on the icon","raw":"-- player was hit close the UI element and turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the object story box is closed;","raw":"-- sent when the object story box is closed;"},{"type":"Comment","value":" this can be done by hitting the x, esc or enter","raw":"-- this can be done by hitting the x, esc or enter"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" UI element has been closed turn on the icon","raw":"-- UI element has been closed turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the object checks it's pick type","raw":"-- sent when the object checks it's pick type"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Interactive pick type     ","raw":"-- Interactive pick type     "},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the requested local player is hit ","raw":"-- sent when the requested local player is hit "},{"type":"Comment","value":" by something, this is used to close the story box","raw":"-- by something, this is used to close the story box"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" player was hit close the UI element and turn on the icon","raw":"-- player was hit close the UI element and turn on the icon"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" checks to see if there is config data set in","raw":"-- checks to see if there is config data set in"},{"type":"Comment","value":" HF, if not this returns the default message","raw":"-- HF, if not this returns the default message"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" default story box text message, tells the developer how to put in the localization string","raw":"-- default story box text message, tells the developer how to put in the localization string"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" toggles the activator Icon based on bHide, ","raw":"-- toggles the activator Icon based on bHide, "},{"type":"Comment","value":" to toggle it on you dont have to pass bHide","raw":"-- to toggle it on you dont have to pass bHide"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" show the icon, cancel notification, set isInUse to false","raw":"-- show the icon, cancel notification, set isInUse to false"},{"type":"Comment","value":" hide the icon, request notification, set isInUse to true","raw":"-- hide the icon, request notification, set isInUse to true"},{"type":"Comment","value":" request the interaction update","raw":"-- request the interaction update"}]}