{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"railGUIDs"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKey","key":{"type":"NumericLiteral","value":6,"raw":"6"},"value":{"type":"StringLiteral","value":"{50b96be9-4307-40f0-918a-b2bf36b76432}","raw":"\"{50b96be9-4307-40f0-918a-b2bf36b76432}\""}},{"type":"TableKey","key":{"type":"NumericLiteral","value":7,"raw":"7"},"value":{"type":"StringLiteral","value":"{3f34aa02-9508-4130-9bd0-3b70da3fe329}","raw":"\"{3f34aa02-9508-4130-9bd0-3b70da3fe329}\""}},{"type":"TableKey","key":{"type":"NumericLiteral","value":8,"raw":"8"},"value":{"type":"StringLiteral","value":"{2d5fa868-2c78-46b4-9a67-f40c09bb2b9e}","raw":"\"{2d5fa868-2c78-46b4-9a67-f40c09bb2b9e}\""}},{"type":"TableKey","key":{"type":"NumericLiteral","value":9,"raw":"9"},"value":{"type":"StringLiteral","value":"{37bc1725-90dc-40c2-ab00-0dd1f2b31cd0}","raw":"\"{37bc1725-90dc-40c2-ab00-0dd1f2b31cd0}\""}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"railComp"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iTemplateID"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetComponentTemplateID"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iComponent"},"value":{"type":"NumericLiteral","value":104,"raw":"104"}}]}}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myGUID","raw":"\"myGUID\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"railGUIDs"},"index":{"type":"Identifier","name":"railComp"}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScopeChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bEnteredScope"},"base":{"type":"Identifier","name":"msg"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckActiveState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckActiveState"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CheckActiveState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseCheckActiveState"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"baseCheckActiveState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NotActive","raw":"\"NotActive\""}]}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"active","raw":"\"active\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"active","raw":"\"active\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"attract","raw":"\"attract\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"attract","raw":"\"attract\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayNDAudioEmitter"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"m_NDAudioEventGUID"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myGUID","raw":"\"myGUID\""}]}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"active","raw":"\"active\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"attract","raw":"\"attract\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopNDAudioEmitter"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"m_NDAudioEventGUID"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myGUID","raw":"\"myGUID\""}]}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopNDAudioEmitter"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"m_NDAudioEventGUID"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myGUID","raw":"\"myGUID\""}]}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScriptNetworkVarUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"tableOfVars"},"base":{"type":"Identifier","name":"msg"}}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"k"},"right":{"type":"StringLiteral","value":"NetworkNotActive","raw":"\"NetworkNotActive\""}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"v"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NotActive","raw":"\"NotActive\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"k"},"right":{"type":"StringLiteral","value":"NetworkNotActive","raw":"\"NetworkNotActive\""}},"right":{"type":"Identifier","name":"v"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NotActive","raw":"\"NotActive\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckActiveState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}],"comments":[{"type":"Comment","value":"--------------------------------------","raw":"----------------------------------------"},{"type":"Comment","value":" client side script on rail posts for ninjago rails","raw":"-- client side script on rail posts for ninjago rails"},{"type":"Comment","value":" check the server side script for set up info scripts\\02_server\\Map\\General\\Ninjago\\L_RAIL_POST_SERVER.lua","raw":"-- check the server side script for set up info scripts\\02_server\\Map\\General\\Ninjago\\L_RAIL_POST_SERVER.lua"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" created by brandi... 6/14/11","raw":"-- created by brandi... 6/14/11"},{"type":"Comment","value":"-------------------------------------------","raw":"---------------------------------------------"},{"type":"Comment","value":" GUIDs for rails, based on rail activator component","raw":"-- GUIDs for rails, based on rail activator component"},{"type":"Comment","value":" earth","raw":"-- earth"},{"type":"Comment","value":" lightning","raw":"-- lightning"},{"type":"Comment","value":" ice","raw":"-- ice"},{"type":"Comment","value":" fire","raw":"-- fire"},{"type":"Comment","value":" get the rail activator component, use it to find the GUID for this activator","raw":"-- get the rail activator component, use it to find the GUID for this activator"},{"type":"Comment","value":" if the player entered ghosting range","raw":"-- if the player entered ghosting range"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" tell the zone control object to tell the script when the local player is loaded","raw":"-- tell the zone control object to tell the script when the local player is loaded"},{"type":"Comment","value":" custom function","raw":"-- custom function"},{"type":"Comment","value":" the zone control object says the player is loaded","raw":"-- the zone control object says the player is loaded"},{"type":"Comment","value":" custom function to see if the the fx should be on","raw":"-- custom function to see if the the fx should be on"},{"type":"Comment","value":" cancel the notification request","raw":"-- cancel the notification request"},{"type":"Comment","value":" not not active, so active and play the fx","raw":"-- not not active, so active and play the fx"},{"type":"Comment","value":" play sound fx","raw":"-- play sound fx"},{"type":"Comment","value":" not active, dont player the fx","raw":"-- not active, dont player the fx"},{"type":"Comment","value":" stop sound fx","raw":"-- stop sound fx"},{"type":"Comment","value":" parse through the table of network vars that were updated","raw":"-- parse through the table of network vars that were updated"},{"type":"Comment","value":" not not active, set notactive to false (its active)","raw":"-- not not active, set notactive to false (its active)"},{"type":"Comment","value":" not active, set notactive to true (its not active)","raw":"-- not active, set notactive to true (its not active)"},{"type":"Comment","value":" check the active state again to turn fx on and off","raw":"-- check the active state again to turn fx on and off"}]}