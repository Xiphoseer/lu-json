{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionT"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKey","key":{"type":"StringLiteral","value":"earth","raw":"\"earth\""},"value":{"type":"NumericLiteral","value":1796,"raw":"1796"}},{"type":"TableKey","key":{"type":"StringLiteral","value":"lightning","raw":"\"lightning\""},"value":{"type":"NumericLiteral","value":1952,"raw":"1952"}},{"type":"TableKey","key":{"type":"StringLiteral","value":"ice","raw":"\"ice\""},"value":{"type":"NumericLiteral","value":1959,"raw":"1959"}},{"type":"TableKey","key":{"type":"StringLiteral","value":"fire","raw":"\"fire\""},"value":{"type":"NumericLiteral","value":1962,"raw":"1962"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"element"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"element","raw":"\"element\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"element"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PreloadAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"spinjitzu-canned-","raw":"\"spinjitzu-canned-\""},"right":{"type":"Identifier","name":"element"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"respondObjID"},"value":{"type":"Identifier","name":"self"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"element"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"element","raw":"\"element\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"element"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsComplete"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"missionT"},"index":{"type":"Identifier","name":"element"}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"StringLiteral","value":"StartCam","raw":"\"StartCam\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onAnimationComplete"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"element"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"element","raw":"\"element\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"element"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"animationID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"spinjitzu-canned-","raw":"\"spinjitzu-canned-\""},"right":{"type":"Identifier","name":"element"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"stopCinematic","raw":"\"stopCinematic\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"OfferNextMission","raw":"\"OfferNextMission\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"StringLiteral","value":"POP","raw":"\"POP\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantMove"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bIgnoreImmunity"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantTurn"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantEquip"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"EndCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ForcePlayerToInteract"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objToInteractWith"},"value":{"type":"Identifier","name":"self"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlayAnim","raw":"\"PlayAnim\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"element"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"element","raw":"\"element\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"element"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"secondaryAnimationID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetCurrentAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"","raw":"\"\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":"0.5"},{"type":"StringLiteral","value":"PlayAnim","raw":"\"PlayAnim\""},{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"spinjitzu-canned-","raw":"\"spinjitzu-canned-\""},"right":{"type":"Identifier","name":"element"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bPlayImmediate"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"StartCam","raw":"\"StartCam\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"element"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"element","raw":"\"element\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"element"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"StringLiteral","value":"PUSH","raw":"\"PUSH\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantMove"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bIgnoreImmunity"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantTurn"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantEquip"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"HandleInteractionCamera"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"cameraTargetID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"actionType"},"value":{"type":"StringLiteral","value":"ACTION_TYPE_ENABLE","raw":"\"ACTION_TYPE_ENABLE\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1.5,"raw":"1.5"},{"type":"StringLiteral","value":"PlayAnim","raw":"\"PlayAnim\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":7,"raw":"7"},{"type":"StringLiteral","value":"OfferNextMission","raw":"\"OfferNextMission\""},{"type":"Identifier","name":"self"}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" client side script for the 4 elemental ninjas in the dojos","raw":"-- client side script for the 4 elemental ninjas in the dojos"},{"type":"Comment","value":" the script has the npc perform a spinjitzu then force the player to interact with the npc for the next mission offer","raw":"-- the script has the npc perform a spinjitzu then force the player to interact with the npc for the next mission offer"},{"type":"Comment","value":" created by Brandi... 7/14/11","raw":"-- created by Brandi... 7/14/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" table of the mission based on the element","raw":"-- table of the mission based on the element"},{"type":"Comment","value":" preload the anim of the npc spinjitzuing ","raw":"-- preload the anim of the npc spinjitzuing "},{"type":"Comment","value":"get the element that is placed on the npc in hf","raw":"--get the element that is placed on the npc in hf"},{"type":"Comment","value":" the player has completed the mission to put on the elemental gear","raw":"-- the player has completed the mission to put on the elemental gear"},{"type":"Comment","value":" if we're the last animation in the table stop the cinematic","raw":"-- if we're the last animation in the table stop the cinematic"},{"type":"Comment","value":" unstun the player","raw":"-- unstun the player"},{"type":"Comment","value":" end the camera","raw":"-- end the camera"},{"type":"Comment","value":"forcing player interaction to offer next mission","raw":"--forcing player interaction to offer next mission"},{"type":"Comment","value":" play the spinjitzu animatation","raw":"-- play the spinjitzu animatation"},{"type":"Comment","value":" stun the player","raw":"-- stun the player"},{"type":"Comment","value":"push the camera to the mission camera","raw":"--push the camera to the mission camera"},{"type":"Comment","value":" timer to play the animation","raw":"-- timer to play the animation"},{"type":"Comment","value":" timer to offer the next mission","raw":"-- timer to offer the next mission"}]}