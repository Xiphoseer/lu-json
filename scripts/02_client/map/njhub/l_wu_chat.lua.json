{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"FinalMisID"}],"init":[{"type":"NumericLiteral","value":1964,"raw":"1964"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"middleMisChat"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"NumericLiteral","value":1795,"raw":"1795"}},{"type":"TableValue","value":{"type":"NumericLiteral","value":1797,"raw":"1797"}},{"type":"TableValue","value":{"type":"StringLiteral","value":"NINJAGO_WU_CHAT1","raw":"\"NINJAGO_WU_CHAT1\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"NumericLiteral","value":1798,"raw":"1798"}},{"type":"TableValue","value":{"type":"NumericLiteral","value":1953,"raw":"1953"}},{"type":"TableValue","value":{"type":"StringLiteral","value":"NINJAGO_WU_CHAT2","raw":"\"NINJAGO_WU_CHAT2\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"NumericLiteral","value":1956,"raw":"1956"}},{"type":"TableValue","value":{"type":"NumericLiteral","value":1960,"raw":"1960"}},{"type":"TableValue","value":{"type":"StringLiteral","value":"NINJAGO_WU_CHAT3","raw":"\"NINJAGO_WU_CHAT3\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"NumericLiteral","value":1961,"raw":"1961"}},{"type":"TableValue","value":{"type":"NumericLiteral","value":1963,"raw":"1963"}},{"type":"TableValue","value":{"type":"StringLiteral","value":"NINJAGO_WU_CHAT4","raw":"\"NINJAGO_WU_CHAT4\""}}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":30,"raw":"30"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"collisionGroup"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"conductRadius","raw":"\"conductRadius\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"randomseed"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"Identifier","name":"os"}},"arguments":[]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionForPlayer"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"playerID"},"value":{"type":"Identifier","name":"player"}}]}}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"conductRadius","raw":"\"conductRadius\""}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bComplete"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionCompleteTimestamp"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"Identifier","name":"FinalMisID"}}]}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":5,"raw":"5"},{"type":"NumericLiteral","value":7,"raw":"7"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"NINJAGO_WU_CHAT","raw":"\"NINJAGO_WU_CHAT\""},"right":{"type":"Identifier","name":"num"}}]}}]}}}]},{"type":"ElseClause","body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"middleMisChat"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"misState1"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"v"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"misState1"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"misState2"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"v"},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"misState2"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"v"},"index":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}]}}},{"type":"ReturnStatement","arguments":[]}]}]}]}]}]}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":"--------------------------------------","raw":"----------------------------------------"},{"type":"Comment","value":" client side script on Wu to say mission relevent chat depending on where the player is in the mission chain","raw":"-- client side script on Wu to say mission relevent chat depending on where the player is in the mission chain"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" created by brandi... 6/14/11","raw":"-- created by brandi... 6/14/11"},{"type":"Comment","value":"-------------------------------------------","raw":"---------------------------------------------"},{"type":"Comment","value":" last mission in Wu's chain","raw":"-- last mission in Wu's chain"},{"type":"Comment","value":" between the first and second mission, say that chat","raw":"-- between the first and second mission, say that chat"},{"type":"Comment","value":" set proximity on Wu","raw":"-- set proximity on Wu"},{"type":"Comment","value":" get the intruder","raw":"-- get the intruder"},{"type":"Comment","value":" if the npc is going to open a mission dialogue, this skips the ambient interact","raw":"-- if the npc is going to open a mission dialogue, this skips the ambient interact"},{"type":"Comment","value":" someone entered the vendors bubble","raw":"-- someone entered the vendors bubble"},{"type":"Comment","value":" does the intruder really exist?","raw":"-- does the intruder really exist?"},{"type":"Comment","value":" player has finished the mission chain","raw":"-- player has finished the mission chain"},{"type":"Comment","value":" player has accepted the first mission, but not the second mission","raw":"-- player has accepted the first mission, but not the second mission"}]}