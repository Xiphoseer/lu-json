{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"02_client/Map/Property/AG_Small/L_ZONE_AG_PROPERTY_CLIENT","raw":"'02_client/Map/Property/AG_Small/L_ZONE_AG_PROPERTY_CLIENT'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"flags"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"defeatedPropFlag"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Groups"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"PlaqueGroup"},"value":{"type":"StringLiteral","value":"PropertyPlaque","raw":"\"PropertyPlaque\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Guard"},"value":{"type":"StringLiteral","value":"Guard","raw":"\"Guard\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"MaelMusicCue"}],"init":[{"type":"StringLiteral","value":"AG_Survival_2","raw":"\"AG_Survival_2\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"ClearedMusicCue"}],"init":[{"type":"StringLiteral","value":"Property_Peaceful","raw":"\"Property_Peaceful\""}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setGameVariables"},"arguments":[{"type":"Identifier","name":"Groups"},{"type":"Identifier","name":"flags"},{"type":"Identifier","name":"ClearedMusicCue"},{"type":"Identifier","name":"MaelMusicCue"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GUIDPeaceful3D","raw":"\"GUIDPeaceful3D\""},{"type":"Identifier","name":"GUIDPeaceful3D"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onServerDoneLoadingAllObjects"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleActivityCloseButton","raw":"\"ToggleActivityCloseButton\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"bShow","raw":"\"bShow\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"GameObject","raw":"\"GameObject\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"MessageName","raw":"\"MessageName\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"toLua","raw":"\"toLua\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"senderID","raw":"\"senderID\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ExitBox"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"text"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"SURVIVAL_EXIT_QUESTION","raw":"\"SURVIVAL_EXIT_QUESTION\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetNetworkVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"wavesStarted","raw":"\"wavesStarted\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"text"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"SURVIVAL_PLAYING_EXIT_QUESTION","raw":"\"SURVIVAL_PLAYING_EXIT_QUESTION\""}]}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"Identifier","name":"text"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"Exit","raw":"\"Exit\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ActivityCloseButtonPressed","raw":"\"ActivityCloseButtonPressed\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ExitBox"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]}]}],"comments":[{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" level specific client script for Property Pushback in AG small property","raw":"-- level specific client script for Property Pushback in AG small property"},{"type":"Comment","value":" this script requires a base script","raw":"-- this script requires a base script"},{"type":"Comment","value":" this script should be in the zone script in the DB","raw":"-- this script should be in the zone script in the DB"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" updated abeechler ... 7/14/11 - now extends from AG Property script","raw":"-- updated abeechler ... 7/14/11 - now extends from AG Property script"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"//////////////////////////////////////////////////////////////////////////////////","raw":"--//////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" User Config local variables","raw":"-- User Config local variables"},{"type":"Comment","value":" player flags. These have to be different for each property map. these are set up in the db","raw":"-- player flags. These have to be different for each property map. these are set up in the db"},{"type":"Comment","value":" when the player builds the claimmarker defeating the maelstrom on this property","raw":"-- when the player builds the claimmarker defeating the maelstrom on this property"},{"type":"Comment","value":"GROUPS, set in Happy Flower on objects, make sure these match the server script","raw":"--GROUPS, set in Happy Flower on objects, make sure these match the server script"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Store music var references","raw":"-- Store music var references"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Startup, Sets up us some variables","raw":"-- Startup, Sets up us some variables"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" leave the functions below alone","raw":"-- leave the functions below alone"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" \"Your time will not be recorded if you exit before the game is over. Exit anyway?\"","raw":"-- \"Your time will not be recorded if you exit before the game is over. Exit anyway?\""},{"type":"Comment","value":" display exit box","raw":"-- display exit box"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Sent from a player when responding from a messagebox","raw":"-- Sent from a player when responding from a messagebox"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" when the player hits the activity close button, the x in the top right","raw":"-- when the player hits the activity close button, the x in the top right"}]}