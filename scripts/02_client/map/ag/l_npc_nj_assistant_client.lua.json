{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"misID"}],"init":[{"type":"NumericLiteral","value":1728,"raw":"1728"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"cinName"}],"init":[{"type":"StringLiteral","value":"LookAtNinjago","raw":"\"LookAtNinjago\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"eventSet"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fx"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"anim"},"value":{"type":"StringLiteral","value":"missionState3","raw":"\"missionState3\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fx"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"anim"},"value":{"type":"StringLiteral","value":"whirlwind-start-earth1","raw":"\"whirlwind-start-earth1\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fx"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"anim"},"value":{"type":"StringLiteral","value":"idle-misc2","raw":"\"idle-misc2\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fx"},"value":{"type":"NumericLiteral","value":6647,"raw":"6647"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"anim"},"value":{"type":"StringLiteral","value":"whirlwind-end","raw":"\"whirlwind-end\""}}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"meshFX"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fxID"},"value":{"type":"NumericLiteral","value":6776,"raw":"6776"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fx"},"value":{"type":"StringLiteral","value":"cast","raw":"\"cast\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"start"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"stop"},"value":{"type":"NumericLiteral","value":4,"raw":"4"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"Identifier","name":"misID"}}]}}},"right":{"type":"NumericLiteral","value":8,"raw":"8"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RunEvent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"preloadAnims"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScopeChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bEnteredScope"},"base":{"type":"Identifier","name":"msg"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"Identifier","name":"misID"}}]}}},"right":{"type":"NumericLiteral","value":8,"raw":"8"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"checkHideEquip"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"player"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"preloadAnims"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bHidden","raw":"\"bHidden\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"checkHideEquip"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bHidden","raw":"\"bHidden\""}]},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"visible"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVisible"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.25,"raw":"0.25"},{"type":"StringLiteral","value":"check","raw":"\"check\""},{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bHidden","raw":"\"bHidden\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"hide","raw":"\"hide\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"preloadAnims"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"key"},{"type":"Identifier","name":"tSet"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"eventSet"}]}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PreloadAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"anim"},"base":{"type":"Identifier","name":"tSet"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"respondObjID"},"value":{"type":"Identifier","name":"self"}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyClientObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"switch","raw":"\"switch\""}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RunEvent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"RunEvent"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bTransition"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"type"}],"init":[{"type":"StringLiteral","value":"ACTION_TYPE_ENABLE","raw":"\"ACTION_TYPE_ENABLE\""}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"HandleInteractionCamera"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsCameraPath"},"value":{"type":"Identifier","name":"cinName"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"cameraTargetID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"actionType"},"value":{"type":"Identifier","name":"type"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyCinematicUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"event"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"STARTED","raw":"\"STARTED\""}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pathName"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"cinName"}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bHidden","raw":"\"bHidden\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UnHideEquipedWeapon"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bHidden","raw":"\"bHidden\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":"0.5"},{"type":"StringLiteral","value":"startAnim","raw":"\"startAnim\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"playAnims"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"animID"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"key"},{"type":"Identifier","name":"tSet"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"eventSet"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"key"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"eventSet"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"animID"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"animID"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"anim"},"base":{"type":"Identifier","name":"tSet"}}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newKey"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"key"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newSet"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"eventSet"},"index":{"type":"Identifier","name":"newKey"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"animID"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"newSet"}],"init":[{"type":"Identifier","name":"tSet"}]}]},{"type":"ElseifClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"eventSet"},"index":{"type":"Identifier","name":"key"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"cast","raw":"\"cast\""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"eventSet"},"index":{"type":"Identifier","name":"key"}}}}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"animID"},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"start"},"base":{"type":"Identifier","name":"meshFX"}},"right":{"type":"Identifier","name":"newKey"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"tornadoMesh","raw":"\"tornadoMesh\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"Identifier","name":"meshFX"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fxID"},"base":{"type":"Identifier","name":"meshFX"}}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"stop"},"base":{"type":"Identifier","name":"meshFX"}},"right":{"type":"Identifier","name":"newKey"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"tornadoMesh","raw":"\"tornadoMesh\""}}]}}}]}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"anim"},"base":{"type":"Identifier","name":"newSet"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":4,"raw":"4.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bPlayImmediate"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bTriggerOnCompleteMsg"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"Identifier","name":"newSet"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"cast","raw":"\"cast\""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"Identifier","name":"newSet"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"cast","raw":"\"cast\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fx"},"base":{"type":"Identifier","name":"newSet"}}}]}}}]}]},{"type":"BreakStatement"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onAnimationComplete"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"animationID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"anim"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"eventSet"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"eventSet"}]}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"stopCinematic","raw":"\"stopCinematic\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"playAnims"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"animationID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"check","raw":"\"check\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"checkHideEquip"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"hide","raw":"\"hide\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"HideEquipedWeapon"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"startAnim","raw":"\"startAnim\""}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"secondaryAnimationID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetCurrentAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"","raw":"\"\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":"0.5"},{"type":"StringLiteral","value":"startAnim","raw":"\"startAnim\""},{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"playAnims"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NilLiteral","value":null,"raw":"nil"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"stopCinematic","raw":"\"stopCinematic\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"EndCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"Identifier","name":"cinName"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" plays animations for the assistant","raw":"-- plays animations for the assistant"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" created mrb... 5/17/11","raw":"-- created mrb... 5/17/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" camera path","raw":"-- camera path"},{"type":"Comment","value":" animations & fx to play","raw":"-- animations & fx to play"},{"type":"Comment","value":" mesh fx and when to play it","raw":"-- mesh fx and when to play it"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Sent when the object checks its pick type","raw":"-- Sent when the object checks its pick type"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Interactive pick type","raw":"-- Interactive pick type"},{"type":"Comment","value":" do nothing if the player is not in the correct mission state","raw":"-- do nothing if the player is not in the correct mission state"},{"type":"Comment","value":" do the event","raw":"-- do the event"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" The zone control object says when the player is loaded","raw":"-- The zone control object says when the player is loaded"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" custom function to preload necessary animations","raw":"-- custom function to preload necessary animations"},{"type":"Comment","value":" cancel the notification request","raw":"-- cancel the notification request"},{"type":"Comment","value":" do nothing if the player is not in the correct mission state","raw":"-- do nothing if the player is not in the correct mission state"},{"type":"Comment","value":" see if the staff should be there or not","raw":"-- see if the staff should be there or not"},{"type":"Comment","value":" obtain the local player object","raw":"-- obtain the local player object"},{"type":"Comment","value":" subscribe to a zone control object notification alerting the script","raw":"-- subscribe to a zone control object notification alerting the script"},{"type":"Comment","value":" when the local player object is ready","raw":"-- when the local player object is ready"},{"type":"Comment","value":" preload all the animations that are going to be played","raw":"-- preload all the animations that are going to be played"},{"type":"Comment","value":" staff is not hidden","raw":"-- staff is not hidden"},{"type":"Comment","value":" do nothingn if the staff is not hidden","raw":"-- do nothingn if the staff is not hidden"},{"type":"Comment","value":" keep checking until we're visible","raw":"-- keep checking until we're visible"},{"type":"Comment","value":" set timer to hide weapon","raw":"-- set timer to hide weapon"},{"type":"Comment","value":" preload the anims in the preAnims table","raw":"-- preload the anims in the preAnims table"},{"type":"Comment","value":" do nothing if this isn't the correct message","raw":"-- do nothing if this isn't the correct message"},{"type":"Comment","value":" do the event","raw":"-- do the event"},{"type":"Comment","value":" request notification from the player when the cinematic is done","raw":"-- request notification from the player when the cinematic is done"},{"type":"Comment","value":" play the cinematic, this message also hides any players and npcs nearby the target ID","raw":"-- play the cinematic, this message also hides any players and npcs nearby the target ID"},{"type":"Comment","value":" do nothing if the cinematic is not starting","raw":"-- do nothing if the cinematic is not starting"},{"type":"Comment","value":" unhide weapon","raw":"-- unhide weapon"},{"type":"Comment","value":" cancel the luanotification and start the event","raw":"-- cancel the luanotification and start the event"},{"type":"Comment","value":" loop through the event table and play the next set","raw":"-- loop through the event table and play the next set"},{"type":"Comment","value":" do nothing if the animID is the last in the table","raw":"-- do nothing if the animID is the last in the table"},{"type":"Comment","value":" goto next key if this isn't the correct set","raw":"-- goto next key if this isn't the correct set"},{"type":"Comment","value":" this is the first time through so adjust the set","raw":"-- this is the first time through so adjust the set"},{"type":"Comment","value":" the last time through played an FX so stop it","raw":"-- the last time through played an FX so stop it"},{"type":"Comment","value":" this is the correct set to start the meshFX","raw":"-- this is the correct set to start the meshFX"},{"type":"Comment","value":" this is the correct set to stop the meshFX","raw":"-- this is the correct set to stop the meshFX"},{"type":"Comment","value":" play this set anim","raw":"-- play this set anim"},{"type":"Comment","value":" there is an fx for this set so play it","raw":"-- there is an fx for this set so play it"},{"type":"Comment","value":" if we're the last animation in the table stop the cinematic","raw":"-- if we're the last animation in the table stop the cinematic"},{"type":"Comment","value":" run the correct animation/fx","raw":"-- run the correct animation/fx"},{"type":"Comment","value":" check if visible","raw":"-- check if visible"},{"type":"Comment","value":" hide weapon","raw":"-- hide weapon"},{"type":"Comment","value":" start the anims","raw":"-- start the anims"},{"type":"Comment","value":" event is over, clean up","raw":"-- event is over, clean up"}]}