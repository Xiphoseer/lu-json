{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionID"}],"init":[{"type":"NumericLiteral","value":768,"raw":"768"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PrePushbackTable"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKey","key":{"type":"StringLiteral","value":"Ambient_Audio_Birds","raw":"\"Ambient_Audio_Birds\""},"value":{"type":"StringLiteral","value":"{c7d1870c-85f5-4def-907c-4d766200f472}","raw":"\"{c7d1870c-85f5-4def-907c-4d766200f472}\""}},{"type":"TableKey","key":{"type":"StringLiteral","value":"Ambient_Audio_Edge","raw":"\"Ambient_Audio_Edge\""},"value":{"type":"StringLiteral","value":"{445b845d-fa7d-427d-a5cc-0e548356aed1}","raw":"\"{445b845d-fa7d-427d-a5cc-0e548356aed1}\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PostPushbackTable"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKey","key":{"type":"StringLiteral","value":"Ambient_Audio_Birds","raw":"\"Ambient_Audio_Birds\""},"value":{"type":"StringLiteral","value":"{6fe9f62e-cce1-4628-85f8-c909f203651f}","raw":"\"{6fe9f62e-cce1-4628-85f8-c909f203651f}\""}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"playAmbientCues"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"emitterGroup"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"configData"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetStoredConfigData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"optionalKey"},"value":{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}}]}}},"index":{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":2,"raw":"2"}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"emitterTable"}],"init":[{"type":"Identifier","name":"PostPushbackTable"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"Identifier","name":"missionID"}}]}}},"right":{"type":"NumericLiteral","value":8,"raw":"8"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"emitterTable"}],"init":[{"type":"Identifier","name":"PrePushbackTable"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"IndexExpression","base":{"type":"Identifier","name":"emitterTable"},"index":{"type":"Identifier","name":"emitterGroup"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Play3DAmbientSound"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"m_NDAudioEventGUID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"emitterTable"},"index":{"type":"Identifier","name":"emitterGroup"}}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScopeChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bEnteredScope"},"base":{"type":"Identifier","name":"msg"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"player"},"inParens":true},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"inParens":true}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsReady"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPlayerReady"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"inParens":true},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"playAmbientCues"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"playAmbientCues"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" L_AG_PICNIC_EMITTER_CLIENT.lua","raw":"-- L_AG_PICNIC_EMITTER_CLIENT.lua"},{"type":"Comment","value":" Client side script for picnic area audio emitter events","raw":"-- Client side script for picnic area audio emitter events"},{"type":"Comment","value":" created by abeechler.. 7/5/11","raw":"-- created by abeechler.. 7/5/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Mission to check for picnic zone Maelstrom clearance","raw":"-- Mission to check for picnic zone Maelstrom clearance"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Process the emitter for appropriate sound output","raw":"-- Process the emitter for appropriate sound output"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Obtain our group name for appropriate sound cue processing","raw":"-- Obtain our group name for appropriate sound cue processing"},{"type":"Comment","value":" Obtain the emitter cue table to use based on Maelstrom state","raw":"-- Obtain the emitter cue table to use based on Maelstrom state"},{"type":"Comment","value":" Play the Maelstrom amb cues","raw":"-- Play the Maelstrom amb cues"},{"type":"Comment","value":" Do we have a cue to play?","raw":"-- Do we have a cue to play?"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Catch when the local player comes within ghosting distance","raw":"-- Catch when the local player comes within ghosting distance"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Has the player entered ghosting range?","raw":"-- Has the player entered ghosting range?"},{"type":"Comment","value":" Obtain the local player object","raw":"-- Obtain the local player object"},{"type":"Comment","value":" Subscribe to a zone control object notification alerting the script","raw":"-- Subscribe to a zone control object notification alerting the script"},{"type":"Comment","value":" when the local player object is ready","raw":"-- when the local player object is ready"},{"type":"Comment","value":" Custom function to play the appropriate ambient sound cues","raw":"-- Custom function to play the appropriate ambient sound cues"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" The zone control object says when the player is loaded","raw":"-- The zone control object says when the player is loaded"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Get the player","raw":"-- Get the player"},{"type":"Comment","value":" Custom function to play the appropriate ambient sound cues","raw":"-- Custom function to play the appropriate ambient sound cues"},{"type":"Comment","value":" Cancel the notification request","raw":"-- Cancel the notification request"}]}