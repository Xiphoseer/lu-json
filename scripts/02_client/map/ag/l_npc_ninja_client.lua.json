{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"disappearMission"}],"init":[{"type":"NumericLiteral","value":1882,"raw":"1882"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"disappearAnim"}],"init":[{"type":"StringLiteral","value":"smokebomb","raw":"\"smokebomb\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"disappearFX"}],"init":[{"type":"StringLiteral","value":"cast","raw":"\"cast\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"animStartWait"}],"init":[{"type":"NumericLiteral","value":1.5,"raw":"1.5"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"defaultAnimPause"}],"init":[{"type":"NumericLiteral","value":2.5,"raw":"2.5"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"disappearMission"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionState"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"missionState"},"right":{"type":"NumericLiteral","value":4,"raw":"4"},"inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"missionState"},"right":{"type":"NumericLiteral","value":12,"raw":"12"},"inParens":true},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"\"isInUse\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestPickTypeUpdate"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"intID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"interaction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPlayerInteraction"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleInteractionChoices","raw":"\"ToggleInteractionChoices\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"interactionID","raw":"\"interactionID\""}},{"type":"TableValue","value":{"type":"Identifier","name":"intID"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"animStartWait"},{"type":"StringLiteral","value":"VanishStart","raw":"\"VanishStart\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isInUse","raw":"'isInUse'"}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Disappear"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"animTimer"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAnimationTime"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"disappearAnim"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"animTimer"},"right":{"type":"Identifier","name":"defaultAnimPause"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"animTimer"}],"init":[{"type":"Identifier","name":"defaultAnimPause"}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"animTimer"},{"type":"StringLiteral","value":"VanishComplete","raw":"\"VanishComplete\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"smokebomb","raw":"\"smokebomb\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"Identifier","name":"disappearFX"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"priority"},"value":{"type":"NumericLiteral","value":4,"raw":"4.0"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"VanishStart","raw":"\"VanishStart\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"Disappear"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"VanishComplete","raw":"\"VanishComplete\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DeleteObject"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" L_NPC_NINJA_CLIENT.lua","raw":"-- L_NPC_NINJA_CLIENT.lua"},{"type":"Comment","value":" Client side script for the picnic ninja vendor/mission giver","raw":"-- Client side script for the picnic ninja vendor/mission giver"},{"type":"Comment","value":" created by abeechler.. 6/21/11","raw":"-- created by abeechler.. 6/21/11"},{"type":"Comment","value":" updated mrb... 6/27/11","raw":"-- updated mrb... 6/27/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Mission to deliver Maelstrom cube to Hu, on successful completion tele away","raw":"-- Mission to deliver Maelstrom cube to Hu, on successful completion tele away"},{"type":"Comment","value":" Anim to play when the ninja must disappear","raw":"-- Anim to play when the ninja must disappear"},{"type":"Comment","value":" FX to play","raw":"-- FX to play"},{"type":"Comment","value":" period of time to wait before starting the animation actions","raw":"-- period of time to wait before starting the animation actions"},{"type":"Comment","value":" Default period of time to pause between missing animation actions","raw":"-- Default period of time to pause between missing animation actions"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Catch and parse dialogue acceptance messages","raw":"-- Catch and parse dialogue acceptance messages"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" If we're not on the right mission do nothing","raw":"-- If we're not on the right mission do nothing"},{"type":"Comment","value":" make the npc non-interactable","raw":"-- make the npc non-interactable"},{"type":"Comment","value":" get the interactionID for the player","raw":"-- get the interactionID for the player"},{"type":"Comment","value":" close the multi-interactaion menu","raw":"-- close the multi-interactaion menu"},{"type":"Comment","value":" Prepare a timer for post vanish","raw":"-- Prepare a timer for post vanish"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the object checks it's pick type","raw":"-- sent when the object checks it's pick type"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Interactive pick type     ","raw":"-- Interactive pick type     "},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Process ninja teleportation events","raw":"-- Process ninja teleportation events"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Get the anim time","raw":"-- Get the anim time"},{"type":"Comment","value":" If we have an animation play it","raw":"-- If we have an animation play it"},{"type":"Comment","value":" Prepare a timer for post vanish","raw":"-- Prepare a timer for post vanish"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Called when timers are done","raw":"-- Called when timers are done"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Tell the client to disable itneraction and teleport the ","raw":"-- Tell the client to disable itneraction and teleport the "}]}