{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scannerLotID"}],"init":[{"type":"NumericLiteral","value":13403,"raw":"13403"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scannerAnimID"}],"init":[{"type":"StringLiteral","value":"scan","raw":"\"scan\""}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bIsScanning","raw":"\"bIsScanning\""}],"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myGroup"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"gsub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}]},{"type":"StringLiteral","value":"%;","raw":"\"%;\""},{"type":"StringLiteral","value":"","raw":"\"\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scannerObjects"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"Identifier","name":"myGroup"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSelf"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"scanObject"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"scannerObjects"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"scanObject"}},"arguments":[],"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"scanObject"}},"arguments":[]}},"right":{"type":"Identifier","name":"scannerLotID"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bIsScanning","raw":"\"bIsScanning\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"scanObject"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"scannerAnimID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":2,"raw":"2.0"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"scanAnimTime"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAnimationTime"},"base":{"type":"Identifier","name":"scanObject"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"scannerAnimID"}}]}}},"right":{"type":"NumericLiteral","value":3,"raw":"3"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"scanAnimTime"},{"type":"StringLiteral","value":"ScanComplete","raw":"\"ScanComplete\""},{"type":"Identifier","name":"self"}]}},{"type":"BreakStatement"}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ScanComplete","raw":"\"ScanComplete\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bIsScanning","raw":"\"bIsScanning\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" L_NT_SCANNER_CLIENT.lua","raw":"-- L_NT_SCANNER_CLIENT.lua"},{"type":"Comment","value":" Runs animation and behaviors of Security Scanner object","raw":"-- Runs animation and behaviors of Security Scanner object"},{"type":"Comment","value":" created abeechler ... 5/4/11","raw":"-- created abeechler ... 5/4/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Scanner object valid for playing the scan FX","raw":"-- Scanner object valid for playing the scan FX"},{"type":"Comment","value":" The animation to play on triggered scan events","raw":"-- The animation to play on triggered scan events"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Catch player scanner collisions and process ","raw":"-- Catch player scanner collisions and process "},{"type":"Comment","value":" functions when applicable","raw":"-- functions when applicable"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Have we sensed a collision, and are we ready to run the scanner?","raw":"-- Have we sensed a collision, and are we ready to run the scanner?"},{"type":"Comment","value":" Process the scan event for every valid scanner object in my group","raw":"-- Process the scan event for every valid scanner object in my group"},{"type":"Comment","value":" Do we have a valid scanner object?","raw":"-- Do we have a valid scanner object?"},{"type":"Comment","value":" Lock the scanner animation until complete","raw":"-- Lock the scanner animation until complete"},{"type":"Comment","value":" Run the scanner animation","raw":"-- Run the scanner animation"},{"type":"Comment","value":" Run an unlock timer to allow subsequent scans","raw":"-- Run an unlock timer to allow subsequent scans"},{"type":"Comment","value":" We found a valid scanner to run, stop looping","raw":"-- We found a valid scanner to run, stop looping"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Process timer events to allow subsequent scans","raw":"-- Process timer events to allow subsequent scans"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Ready to scan again","raw":"-- Ready to scan again"}]}