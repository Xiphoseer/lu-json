{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"plinthRebuiltFlag"}],"init":[{"type":"NumericLiteral","value":1919,"raw":"1919"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScopeChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bEnteredScope"},"base":{"type":"Identifier","name":"msg"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"player"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckFlag"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckFlag"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"PlayerReady","raw":"\"PlayerReady\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CheckFlag"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"Identifier","name":"plinthRebuiltFlag"}}]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SpawnStaticPlinth"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyClientObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlinthBuilt","raw":"\"PlinthBuilt\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SpawnStaticPlinth"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SpawnStaticPlinth"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mypos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myrot"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":14180,"raw":"14180"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"Identifier","name":"myrot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"myrot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"myrot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"myrot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" L_NT_IMAGIMETER_VISIBILITY_CLIENT.lua","raw":"-- L_NT_IMAGIMETER_VISIBILITY_CLIENT.lua"},{"type":"Comment","value":" Client side NT Imagimeter Plinth script","raw":"-- Client side NT Imagimeter Plinth script"},{"type":"Comment","value":" Process character flag updates, rebuild status, and static object visibility","raw":"-- Process character flag updates, rebuild status, and static object visibility"},{"type":"Comment","value":" created abeechler ... 4/14/11","raw":"-- created abeechler ... 4/14/11"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Player flag representing the rebuild state of the Imagineter Plinth","raw":"-- Player flag representing the rebuild state of the Imagineter Plinth"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Catch when the local player comes within ghosting distance","raw":"-- Catch when the local player comes within ghosting distance"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Has the player entered ghosting range?","raw":"-- Has the player entered ghosting range?"},{"type":"Comment","value":" Obtain the local player object","raw":"-- Obtain the local player object"},{"type":"Comment","value":" Subscribe to a zone control object notification alerting the script","raw":"-- Subscribe to a zone control object notification alerting the script"},{"type":"Comment","value":" when the local player object is ready","raw":"-- when the local player object is ready"},{"type":"Comment","value":" Custom function to check the status of the plinth player flag","raw":"-- Custom function to check the status of the plinth player flag"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" The zone control object says when the player is loaded","raw":"-- The zone control object says when the player is loaded"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Get the player","raw":"-- Get the player"},{"type":"Comment","value":" Custom function to check the status of the plinth player flag","raw":"-- Custom function to check the status of the plinth player flag"},{"type":"Comment","value":" Cancel the notification request","raw":"-- Cancel the notification request"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Utility function used by the plinth to determine if its","raw":"-- Utility function used by the plinth to determine if its"},{"type":"Comment","value":" rebuilt flag is set by a given player","raw":"-- rebuilt flag is set by a given player"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Determine if the player has built the plinth","raw":"-- Determine if the player has built the plinth"},{"type":"Comment","value":" The player has already built the plinth, ","raw":"-- The player has already built the plinth, "},{"type":"Comment","value":" spawn its static counterpart","raw":"-- spawn its static counterpart"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Catch and process calls from the object server counterpart","raw":"-- Catch and process calls from the object server counterpart"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" The player has built the quickbuild plinth","raw":"-- The player has built the quickbuild plinth"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Object spawn function for the Imagimeter Plinth","raw":"-- Object spawn function for the Imagimeter Plinth"},{"type":"Comment","value":" called when the local player has already completed","raw":"-- called when the local player has already completed"},{"type":"Comment","value":" the object quickbuild","raw":"-- the object quickbuild"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" Get the position and rotation of the quickbuild plinth","raw":"-- Get the position and rotation of the quickbuild plinth"},{"type":"Comment","value":" Spawn in the static plinth at the quickbuild plinth's position","raw":"-- Spawn in the static plinth at the quickbuild plinth's position"}]}