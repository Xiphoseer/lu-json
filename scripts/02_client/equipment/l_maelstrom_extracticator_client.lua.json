{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"checkProx"}],"init":[{"type":"NumericLiteral","value":12,"raw":"12"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"sampleLOTs"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"NumericLiteral","value":14718,"raw":"14718"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRenderComponentReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"checkProx"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"checkSample","raw":"\"checkSample\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"collisionGroup"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetProximityObjects"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"checkSample","raw":"\"checkSample\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bIsVisible"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"visible"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVisible"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"foundSample","raw":"\"foundSample\""}],"inParens":true},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"checkSample","raw":"\"checkSample\""},"inParens":true}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""},"inParens":true}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"inParens":true}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bIsVisible"},"inParens":true},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"key"},{"type":"Identifier","name":"LOT"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"sampleLOTs"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"Identifier","name":"LOT"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"foundSample","raw":"\"foundSample\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEventServerSide"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"StringLiteral","value":"attemptCollection","raw":"\"attemptCollection\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}}]}}},{"type":"BreakStatement"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScriptNetworkVarUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"varName"},{"type":"Identifier","name":"varValue"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"tableOfVars"},"base":{"type":"Identifier","name":"msg"}}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"varName"},"right":{"type":"StringLiteral","value":"current_anim","raw":"\"current_anim\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"varValue"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":4,"raw":"4.0"}}]}}}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Spawned object that collects maelstrom samples","raw":"-- Spawned object that collects maelstrom samples"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" created mrb... 6/22/11","raw":"-- created mrb... 6/22/11"},{"type":"Comment","value":" updated abeechler ... 8/30/11 - added client side proximity checking to incorporate visibility check","raw":"-- updated abeechler ... 8/30/11 - added client side proximity checking to incorporate visibility check"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Distance that the sample will collect ","raw":"-- Distance that the sample will collect "},{"type":"Comment","value":" Lots that can be collected","raw":"-- Lots that can be collected"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" When this object is visible on the client, establish its sense ","raw":"-- When this object is visible on the client, establish its sense "},{"type":"Comment","value":" proximity and pulse immediately","raw":"-- proximity and pulse immediately"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Set the proximity for collection","raw":"-- Set the proximity for collection"},{"type":"Comment","value":" Pulse the proximity","raw":"-- Pulse the proximity"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Our object has gotten a proximity hit from a potential valid","raw":"-- Our object has gotten a proximity hit from a potential valid"},{"type":"Comment","value":" collection sample - process it accordingly","raw":"-- collection sample - process it accordingly"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Checking to see if we should look for the object","raw":"-- Checking to see if we should look for the object"},{"type":"Comment","value":" Is it visible?","raw":"-- Is it visible?"},{"type":"Comment","value":" NOT a valid condition","raw":"-- NOT a valid condition"},{"type":"Comment","value":" We have a valid message with a visible object while searching,","raw":"-- We have a valid message with a visible object while searching,"},{"type":"Comment","value":" now determine if it is the correct object type","raw":"-- now determine if it is the correct object type"},{"type":"Comment","value":" We have found a collection sample","raw":"-- We have found a collection sample"},{"type":"Comment","value":" Notify the server for final object verification and collection\t\t\t","raw":"-- Notify the server for final object verification and collection\t\t\t"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Receive animation names for client side processing","raw":"-- Receive animation names for client side processing"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Check to see if we have the correct message and deal with it","raw":"-- Check to see if we have the correct message and deal with it"},{"type":"Comment","value":" Play the up animation","raw":"-- Play the up animation"}]}