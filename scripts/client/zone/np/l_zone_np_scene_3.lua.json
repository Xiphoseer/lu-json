{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene3Startup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Scene3Complete","raw":"\"Scene3Complete\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddMissionHelp"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"MISSION_DATA"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_3_MISSION_4_ID","raw":"\"SCENE_3_MISSION_4_ID\""}},{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE"},{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"scene_3_mission_4_ready_to_complete","raw":"\"scene_3_mission_4_ready_to_complete\""}}]}}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddMissionHelp"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"MISSION_DATA"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_3_MISSION_4_ID","raw":"\"SCENE_3_MISSION_4_ID\""}},{"type":"Identifier","name":"MISSION_COMPLETE"},{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"scene_3_mission_4_ready_to_complete","raw":"\"scene_3_mission_4_ready_to_complete\""}}]}}}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene3OnTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"BBlockDance","raw":"\"BBlockDance\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"start","raw":"\"start\""}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene3OnPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NO_OBJECT","raw":"\"NO_OBJECT\""}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"m4"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_3_MISSION_4_ID","raw":"\"SCENE_3_MISSION_4_ID\""}}}]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ActivateHelp"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"MISSION_DATA"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_3_MISSION_4_ID","raw":"\"SCENE_3_MISSION_4_ID\""}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"Identifier","name":"m4"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene3ActorReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"actor"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bScene3Complete"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Scene3Complete","raw":"\"Scene3Complete\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bScene3Complete"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsValidActor"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"actor"}},"arguments":[]}}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"Identifier","name":"actor"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"concert","raw":"\"concert\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"Identifier","name":"actor"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"cheer","raw":"\"cheer\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"Identifier","name":"actor"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"start","raw":"\"start\""}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene3OnNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_3_mission_3_complete","raw":"\"scene_3_mission_3_complete\""},"inParens":true},"body":[]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_3_mission_4_accept","raw":"\"scene_3_mission_4_accept\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"wait","raw":"\"wait\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_3_mission_4_ready_to_complete","raw":"\"scene_3_mission_4_ready_to_complete\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Scene3Complete","raw":"\"Scene3Complete\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"concert","raw":"\"concert\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"cheer","raw":"\"cheer\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"pump","raw":"\"pump\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_3_BBOY_DANCE_DELAY","raw":"\"SCENE_3_BBOY_DANCE_DELAY\""}},{"type":"StringLiteral","value":"BBlockDance","raw":"\"BBlockDance\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_3_mission_4_complete","raw":"\"scene_3_mission_4_complete\""},"inParens":true},"body":[]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Nimbus Park - Scene 3 Specific Client Zone Script Functions","raw":"-- Nimbus Park - Scene 3 Specific Client Zone Script Functions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Startup","raw":"-- Startup"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" var to record if scene 3 has been completed, so we can setup animations and effects","raw":"-- var to record if scene 3 has been completed, so we can setup animations and effects"},{"type":"Comment","value":" load Mission State information","raw":"-- load Mission State information"},{"type":"Comment","value":" Mission 4 (dance for me)","raw":"-- Mission 4 (dance for me)"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Timers","raw":"-- Timers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when Player Ready from loading into zone","raw":"-- Called when Player Ready from loading into zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if local character is ready","raw":"-- if local character is ready"},{"type":"Comment","value":" check for mission state help, this will setup the scene","raw":"-- check for mission state help, this will setup the scene"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when zone object gets an onFireEvent for \"SceneActorReady\"","raw":"-- Called when zone object gets an onFireEvent for \"SceneActorReady\""},{"type":"Comment","value":" event.","raw":"-- event."},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" If this is a valid actor and the scene is complete","raw":"-- If this is a valid actor and the scene is complete"},{"type":"Comment","value":" start any concert effects","raw":"-- start any concert effects"},{"type":"Comment","value":" play cheer animations on actors","raw":"-- play cheer animations on actors"},{"type":"Comment","value":" see what scene this object is for","raw":"-- see what scene this object is for"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Generic notification message","raw":"-- Generic notification message"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" mic returned","raw":"-- mic returned"},{"type":"Comment","value":"        DoSceneAction(3,\"anim\",\"cheer\")","raw":"--        DoSceneAction(3,\"anim\",\"cheer\")"},{"type":"Comment","value":" set state of the scene","raw":"-- set state of the scene"},{"type":"Comment","value":" start any concert effects","raw":"-- start any concert effects"},{"type":"Comment","value":" play cheer animations on actors","raw":"-- play cheer animations on actors"},{"type":"Comment","value":" play pump animations on bboys","raw":"-- play pump animations on bboys"},{"type":"Comment","value":" start a timer to trigger dancing/singing animations on bboys when pump is complete","raw":"-- start a timer to trigger dancing/singing animations on bboys when pump is complete"},{"type":"Comment","value":"        DoSceneAction(3,\"anim\",\"breakdance\")","raw":"--        DoSceneAction(3,\"anim\",\"breakdance\")"}]}