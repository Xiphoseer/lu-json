{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2Startup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Scene2Complete","raw":"\"Scene2Complete\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddMissionHelp"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"MISSION_DATA"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_MISSION_1_ID","raw":"\"SCENE_2_MISSION_1_ID\""}},{"type":"Identifier","name":"MISSION_COMPLETE"},{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"doNothing"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2OnChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2OnNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_2_mission_1_complete","raw":"\"scene_2_mission_1_complete\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"building","raw":"\"building\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_MONUMENT_BUILD_TIME","raw":"\"SCENE_2_MONUMENT_BUILD_TIME\""}},{"type":"StringLiteral","value":"MonumentBuildDone","raw":"\"MonumentBuildDone\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_2_start","raw":"\"scene_2_start\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"StringLiteral","value":"MeteorPath_01","raw":"\"MeteorPath_01\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"anim","raw":"\"anim\""},{"type":"StringLiteral","value":"scene","raw":"\"scene\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"StringLiteral","value":"PlayerTeleAndAnimate","raw":"\"PlayerTeleAndAnimate\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_CINE_TIMING_STATUE_HIT","raw":"\"SCENE_2_CINE_TIMING_STATUE_HIT\""}},{"type":"StringLiteral","value":"BreakMonument","raw":"\"BreakMonument\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_CINE_LENGTH","raw":"\"SCENE_2_CINE_LENGTH\""}},{"type":"StringLiteral","value":"CinematicEnd","raw":"\"CinematicEnd\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"scene_2_end","raw":"\"scene_2_end\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2OnPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NO_OBJECT","raw":"\"NO_OBJECT\""}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"m1"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_MISSION_1_ID","raw":"\"SCENE_2_MISSION_1_ID\""}}}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bMissionComplete"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"ActivateHelp"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"MISSION_DATA"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_MISSION_1_ID","raw":"\"SCENE_2_MISSION_1_ID\""}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"Identifier","name":"m1"}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tooltipMsg"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTooltipFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iToolTip"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_EVENT_FLAG_BIT","raw":"\"SCENE_2_EVENT_FLAG_BIT\""}}}]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"tooltipMsg","inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"Identifier","name":"tooltipMsg"}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bMissionComplete"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"working","raw":"\"working\""}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"broken","raw":"\"broken\""}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2ActorReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"actor"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bScene2Complete"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Scene2Complete","raw":"\"Scene2Complete\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsValidActor"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"actor"}},"arguments":[]}}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bScene2Complete"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"working","raw":"\"working\""}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"broken","raw":"\"broken\""}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Scene2OnTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"MonumentBuildDone","raw":"\"MonumentBuildDone\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"working","raw":"\"working\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"MonumentBreakDone","raw":"\"MonumentBreakDone\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"broken","raw":"\"broken\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"BreakMonument","raw":"\"BreakMonument\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoSceneAction"},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"breaking","raw":"\"breaking\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_MONUMENT_BREAK_TIME","raw":"\"SCENE_2_MONUMENT_BREAK_TIME\""}},{"type":"StringLiteral","value":"MonumentBreakDone","raw":"\"MonumentBreakDone\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"CinematicEnd","raw":"\"CinematicEnd\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlayerTeleAndAnimate","raw":"\"PlayerTeleAndAnimate\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Teleport"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_PLAYER_CINE_POS","raw":"\"SCENE_2_PLAYER_CINE_POS\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_PLAYER_CINE_ROT","raw":"\"SCENE_2_PLAYER_CINE_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_PLAYER_CINE_ROT","raw":"\"SCENE_2_PLAYER_CINE_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_PLAYER_CINE_ROT","raw":"\"SCENE_2_PLAYER_CINE_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"w"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SCENE_2_PLAYER_CINE_ROT","raw":"\"SCENE_2_PLAYER_CINE_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bSetRotation"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bIgnoreY"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"meteor-reaction","raw":"\"meteor-reaction\""}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Nimbus Park - Scene 2 Specific Client Zone Script Functions","raw":"-- Nimbus Park - Scene 2 Specific Client Zone Script Functions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" var to record if scene 2 has been completed, so we can setup animations and effects","raw":"-- var to record if scene 2 has been completed, so we can setup animations and effects"},{"type":"Comment","value":" load Mission State information","raw":"-- load Mission State information"},{"type":"Comment","value":" Mission 1 (collection)","raw":"-- Mission 1 (collection)"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when a Child is loaded","raw":"-- Called when a Child is loaded"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"\t-- Do scene 2 stuff\r\n\tif (msg.templateID == CONSTANTS[\"SCENE_2_METEOR_LOT\"]) then\r\n\r\n\t\t-- get the platform moving\r\n\t\tmsg.childID:SetMovingPlatformParams{ wsPlatformPath = CONSTANTS[\"SCENE_2_METEOR_PATH\"], iStartIndex = 0 }\r\n\r\n\telseif (msg.templateID == CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"]) then\r\n\r\n\t\t-- get the platform moving\r\n\t\tmsg.childID:SetMovingPlatformParams{ wsPlatformPath = CONSTANTS[\"SCENE_2_METEOR_SHARD_PATH\"], iStartIndex = 0 }\r\n\r\n\telseif (msg.templateID == CONSTANTS[\"SCENE_2_CAMERA_LOT\"]) then\r\n\r\n\t\t-- give the camera path data, and start it moving\r\n\t\tmsg.childID:SetVar(\"camPath\", CONSTANTS[\"SCENE_2_CAMERA_PATH\"])\r\n\t\tmsg.childID:NotifyObject{ name = \"startCam\", param1 = 2 }\r\n\r\n\tend\r\n--","raw":"--[[\r\n\t-- Do scene 2 stuff\r\n\tif (msg.templateID == CONSTANTS[\"SCENE_2_METEOR_LOT\"]) then\r\n\r\n\t\t-- get the platform moving\r\n\t\tmsg.childID:SetMovingPlatformParams{ wsPlatformPath = CONSTANTS[\"SCENE_2_METEOR_PATH\"], iStartIndex = 0 }\r\n\r\n\telseif (msg.templateID == CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"]) then\r\n\r\n\t\t-- get the platform moving\r\n\t\tmsg.childID:SetMovingPlatformParams{ wsPlatformPath = CONSTANTS[\"SCENE_2_METEOR_SHARD_PATH\"], iStartIndex = 0 }\r\n\r\n\telseif (msg.templateID == CONSTANTS[\"SCENE_2_CAMERA_LOT\"]) then\r\n\r\n\t\t-- give the camera path data, and start it moving\r\n\t\tmsg.childID:SetVar(\"camPath\", CONSTANTS[\"SCENE_2_CAMERA_PATH\"])\r\n\t\tmsg.childID:NotifyObject{ name = \"startCam\", param1 = 2 }\r\n\r\n\tend\r\n--]]"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Generic notification message","raw":"-- Generic notification message"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" the scene mission has been completed","raw":"-- the scene mission has been completed"},{"type":"Comment","value":" trigger the 'building' state","raw":"-- trigger the 'building' state"},{"type":"Comment","value":" timer to trigger next state after build","raw":"-- timer to trigger next state after build"},{"type":"Comment","value":" the trigger was hit to start the scene","raw":"-- the trigger was hit to start the scene"},{"type":"Comment","value":" pause player","raw":"-- pause player"},{"type":"Comment","value":" start cinematic","raw":"-- start cinematic"},{"type":"Comment","value":" timer to delay player teleport and animation","raw":"-- timer to delay player teleport and animation"},{"type":"Comment","value":" timer to break the monument based on animations","raw":"-- timer to break the monument based on animations"},{"type":"Comment","value":" timer to end cinematic","raw":"-- timer to end cinematic"},{"type":"Comment","value":"        \t\t\r\n\t\t-- Load Camera Object\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_CAMERA_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\t\t\r\n\t\t-- Load Meteor\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_METEOR_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\r\n\t\t-- Load Shard\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\t\t\r\n\t\t-- @TODO: OnCollision/play animation on monument (breaking)\r\n--","raw":"--[[        \t\t\r\n\t\t-- Load Camera Object\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_CAMERA_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\t\t\r\n\t\t-- Load Meteor\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_METEOR_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\r\n\t\t-- Load Shard\r\n\t\tRESMGR:LoadObject { objectTemplate = CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"],\r\n\t\t                    x = 142,\r\n\t\t                    y = 275,\r\n\t\t                    z = -342,\r\n\t\t                    owner = self }\t\t\r\n\t\t\r\n\t\t-- @TODO: OnCollision/play animation on monument (breaking)\r\n--]]"},{"type":"Comment","value":" the cinematic has ended","raw":"-- the cinematic has ended"},{"type":"Comment","value":" unpause player","raw":"-- unpause player"},{"type":"Comment","value":"\telseif (msg.name == \"meteor_path_complete\") then\r\n\r\n\t\t-- if the object is the shard\r\n\t\tif (msg.param1 == CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"]) then\r\n\r\n\t\t\tDoSceneAction(2, \"stopeffects\")\r\n\t\t\tDoSceneAction(2, \"effect\", \"breaking\")\t\t\r\n\t\t\t\r\n\t\t\t-- timer to trigger next state after build\r\n\t\t\tGAMEOBJ:GetTimer():AddTimerWithCancel( CONSTANTS[\"SCENE_2_MONUMENT_BREAK_TIME\"], \"MonumentBreakDone\",self )\r\n\t\t\t\r\n\t\tend\t\r\n--","raw":"--[[\r\n\telseif (msg.name == \"meteor_path_complete\") then\r\n\r\n\t\t-- if the object is the shard\r\n\t\tif (msg.param1 == CONSTANTS[\"SCENE_2_METEOR_SHARD_LOT\"]) then\r\n\r\n\t\t\tDoSceneAction(2, \"stopeffects\")\r\n\t\t\tDoSceneAction(2, \"effect\", \"breaking\")\t\t\r\n\t\t\t\r\n\t\t\t-- timer to trigger next state after build\r\n\t\t\tGAMEOBJ:GetTimer():AddTimerWithCancel( CONSTANTS[\"SCENE_2_MONUMENT_BREAK_TIME\"], \"MonumentBreakDone\",self )\r\n\t\t\t\r\n\t\tend\t\r\n--]]"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when Player Ready from loading into zone","raw":"-- Called when Player Ready from loading into zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if local character is ready","raw":"-- if local character is ready"},{"type":"Comment","value":" check for mission state help","raw":"-- check for mission state help"},{"type":"Comment","value":" get tooltip flag for this event","raw":"-- get tooltip flag for this event"},{"type":"Comment","value":" if the player has NOT seen the event OR the player has completed the mission","raw":"-- if the player has NOT seen the event OR the player has completed the mission"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when zone object gets an onFireEvent for \"SceneActorReady\"","raw":"-- Called when zone object gets an onFireEvent for \"SceneActorReady\""},{"type":"Comment","value":" event.","raw":"-- event."},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" If this is a valid actor and the scene is complete","raw":"-- If this is a valid actor and the scene is complete"},{"type":"Comment","value":" set the state of the scene","raw":"-- set the state of the scene"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Timers","raw":"-- Timers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" timer to trigger next state after build","raw":"-- timer to trigger next state after build"},{"type":"Comment","value":" the cinematic has ended","raw":"-- the cinematic has ended"},{"type":"Comment","value":" unpause player","raw":"-- unpause player"},{"type":"Comment","value":" teleport the player to the right location in the scene","raw":"-- teleport the player to the right location in the scene"},{"type":"Comment","value":" play an animation on the player","raw":"-- play an animation on the player"}]}