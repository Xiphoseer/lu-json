{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tLobby"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"checkChatServer"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"checkInProximity"},"arguments":[{"type":"Identifier","name":"self"},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemCount"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetInvItemCount"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCheckItemDefaultInv"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":3140,"raw":"3140"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_RACE_BUILD_A_CAR_FAIL","raw":"\"MINIGAME_LOBBY_RACE_BUILD_A_CAR_FAIL\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"preConVar"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CheckPrecondition","raw":"\"CheckPrecondition\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"preConVar"},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"preConVar"},"right":{"type":"StringLiteral","value":"","raw":"\"\""}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"check"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CheckListOfPreconditionsFromLua"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"PreconditionsToCheck"},"value":{"type":"Identifier","name":"preConVar"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"requestingID"},"value":{"type":"Identifier","name":"self"}}]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bPass"},"base":{"type":"Identifier","name":"check"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"IconID"},"base":{"type":"Identifier","name":"check"}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"FailedReason"},"base":{"type":"Identifier","name":"check"}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Interaction_Distance","raw":"\"Interaction_Distance\""}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"RequestUseItemOn","raw":"\"RequestUseItemOn\""}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"RequestUseItemOn","raw":"\"RequestUseItemOn\""}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyRequestUseItemOn"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemToUse"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"other"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"UseObjectID","raw":"\"UseObjectID\""},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"\"|\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemToUse"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetInteractionDetails"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"instanceType"}],"init":[{"type":"IndexExpression","base":{"type":"CallExpression","base":{"type":"Identifier","name":"split"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"UI_Type"},"base":{"type":"Identifier","name":"tVars"}},{"type":"StringLiteral","value":"_","raw":"\"_\""}]},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"Race","raw":"\"Race\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"TextDetails"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_RACE_DRAG_A_CAR_INTERACT","raw":"\"MINIGAME_LOBBY_RACE_DRAG_A_CAR_INTERACT\""}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"baseSetVars"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"table"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""},{"type":"Identifier","name":"table"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actNum"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"activityID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actTable"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetDBTable"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"table"},"value":{"type":"StringLiteral","value":"Activities","raw":"'Activities'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"keyname"},"value":{"type":"StringLiteral","value":"ActivityID","raw":"'ActivityID'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"key"},"value":{"type":"Identifier","name":"actNum"}}]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"},{"type":"Identifier","name":"actTable"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"costLOT"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"optionalCostLOT"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"costCount"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"optionalCostCount"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActCost","raw":"'ActCost'"},{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"LOT"},"value":{"type":"Identifier","name":"costLOT"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Count"},"value":{"type":"Identifier","name":"costCount"}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyOfZoneTransferObject"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"actNum"},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":78,"raw":"78"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"overrideIcon"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"iconID","raw":"\"iconID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"overrideIcon"},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"Identifier","name":"overrideIcon"}]}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"instanceType"}],"init":[{"type":"IndexExpression","base":{"type":"CallExpression","base":{"type":"Identifier","name":"split"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"UI_Type"},"base":{"type":"Identifier","name":"table"}},{"type":"StringLiteral","value":"_","raw":"\"_\""}]},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"Survival","raw":"\"Survival\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"Waves","raw":"\"Waves\""}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":79,"raw":"79"}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"Dragon","raw":"\"Dragon\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":91,"raw":"91"}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"SG","raw":"\"SG\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":81,"raw":"81"}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"instanceType"},"right":{"type":"StringLiteral","value":"Prototype","raw":"\"Prototype\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":98,"raw":"98"}]}]}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iconID"},"value":{"type":"Identifier","name":"instanceIcon"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":35,"raw":"35"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Icon_Display_Distance","raw":"\"Icon_Display_Distance\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"interaction_distance","raw":"\"interaction_distance\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Interaction_Distance","raw":"\"Interaction_Distance\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"checkChatServer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bChatServerOnline"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetServerState"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_CHAT_SERVER_DOWN","raw":"\"MINIGAME_LOBBY_CHAT_SERVER_DOWN\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":3000,"raw":"3000"}}]}}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"checkCost"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actCost"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActCost","raw":"'ActCost'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"itemCheck"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemCount"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetInvItemCount"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"eInvType"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"itemCheck"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"itemCheck"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemCount"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetInvItemCount"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"eInvType"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}}]}}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"itemCheck"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"itemCheck"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemCount"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetInvItemCount"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"eInvType"},"value":{"type":"NumericLiteral","value":5,"raw":"5"}}]}}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"itemCheck"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"itemCheck"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemCount"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetInvItemCount"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"eInvType"},"value":{"type":"NumericLiteral","value":12,"raw":"12"}}]}}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"itemCheck"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Count"},"base":{"type":"Identifier","name":"actCost"}}},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"showFirstScreen"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""}]},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"checkChatServer"},"arguments":[{"type":"Identifier","name":"player"}]}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"misID"},"base":{"type":"Identifier","name":"tVars"}},"right":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"misID"},"base":{"type":"Identifier","name":"tVars"}}}]}}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"Identifier","name":"tVars"}}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"failText"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":3000,"raw":"3000"}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actCost"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActCost","raw":"'ActCost'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"uiContext"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"HelpVisible","raw":"\"HelpVisible\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"show","raw":"\"show\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"type","raw":"\"type\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"UI_Type"},"base":{"type":"Identifier","name":"tVars"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"bHasCost","raw":"\"bHasCost\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"uiContext"},"index":{"type":"NumericLiteral","value":5,"raw":"5"}},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"checkCost"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"uiContext"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"optionalCostLOT","raw":"\"optionalCostLOT\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"LOT"},"base":{"type":"Identifier","name":"actCost"}}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"uiContext"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"optionalCostCount","raw":"\"optionalCostCount\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Count"},"base":{"type":"Identifier","name":"actCost"}}}]}]}}]}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"pushGameState","raw":"\"pushGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"Lobby","raw":"\"Lobby\""}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"context","raw":"\"context\""}},{"type":"TableValue","value":{"type":"Identifier","name":"uiContext"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"ServerStateNotify","raw":"\"ServerStateNotify\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"HitOrHealResult","raw":"\"HitOrHealResult\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"Die","raw":"\"Die\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":115,"raw":"115"}}]}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"StringLiteral","value":"FOOT_RACE_STOP_QUESTION","raw":"\"FOOT_RACE_STOP_QUESTION\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"FootRaceCancel","raw":"\"FootRaceCancel\""}}]}}}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"modObj"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemID"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFirstInventoryItemByLOT"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"inventoryType"},"value":{"type":"NumericLiteral","value":5,"raw":"5"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"modObj"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"itemInteract"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}},{"type":"Identifier","name":"modObj"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"failItem"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":3000,"raw":"3000"}}]}}}]}]}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"showFirstScreen"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"checkInProximity"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"playerID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"playerID"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetProximityObjects"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Interaction_Distance","raw":"\"Interaction_Distance\""}}]}}}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"v"}},"arguments":[]},"right":{"type":"Identifier","name":"playerID"}},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"checkDoubleClickInteract"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"playerID"},{"type":"Identifier","name":"objID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"playerID"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"objID"}}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"checkInProximity"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"playerID"}]}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"playerID"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"objID"}]}},"arguments":[]}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"modObj"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemID"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFirstInventoryItemByLOT"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iObjTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"inventoryType"},"value":{"type":"NumericLiteral","value":5,"raw":"5"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"modObj"},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPlayerInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"interaction"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"itemInteract"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}},{"type":"Identifier","name":"modObj"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onScriptNetworkVarUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"tableOfVars"},"base":{"type":"Identifier","name":"msg"}},"index":{"type":"StringLiteral","value":"bPassedCheck.1","raw":"\"bPassedCheck.1\""}},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"checkDoubleClickInteract"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"tableOfVars"},"base":{"type":"Identifier","name":"msg"}},"index":{"type":"StringLiteral","value":"bPassedCheck.1","raw":"\"bPassedCheck.1\""}},{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"tableOfVars"},"base":{"type":"Identifier","name":"msg"}},"index":{"type":"StringLiteral","value":"bPassedCheck.2","raw":"\"bPassedCheck.2\""}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onUseItemOnClient"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPlayerInteraction"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"interaction"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"itemInteract"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemLOT"},"base":{"type":"Identifier","name":"msg"}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemToUse"},"base":{"type":"Identifier","name":"msg"}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"itemInteract"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"itemLOT"},{"type":"Identifier","name":"itemToUse"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"itemLOT"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"itemType"},"base":{"type":"Identifier","name":"tVars"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":115,"raw":"115"}}]}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"StringLiteral","value":"FOOT_RACE_STOP_QUESTION","raw":"\"FOOT_RACE_STOP_QUESTION\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"FootRaceCancel","raw":"\"FootRaceCancel\""}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"showFirstScreen"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"itemToUse"}},"arguments":[]}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"failItem"},"base":{"type":"Identifier","name":"tVars"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":3000,"raw":"3000"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTerminateInteraction"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"StringLiteral","value":"FOOT_RACE_STOP_QUESTION","raw":"\"FOOT_RACE_STOP_QUESTION\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"FootRaceCancel","raw":"\"FootRaceCancel\""}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"misID"},"base":{"type":"Identifier","name":"tVars"}},"right":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"misID"},"base":{"type":"Identifier","name":"tVars"}}}]}}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"Identifier","name":"tVars"}}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ClearInstancer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"optPlayer"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"Identifier","name":"optPlayer"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleInstanceEnter","raw":"\"ToggleInstanceEnter\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"LeaveLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"ServerStateNotify","raw":"\"ServerStateNotify\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"HitOrHealResult","raw":"\"HitOrHealResult\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"Die","raw":"\"Die\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"popGameState","raw":"\"popGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"Lobby","raw":"\"Lobby\""}}]}}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlayButton","raw":"\"PlayButton\""}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnterLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"LobbyReady","raw":"\"LobbyReady\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MatchRequest"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"LobbyUnready","raw":"\"LobbyUnready\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MatchRequest"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FootRaceCancel","raw":"\"FootRaceCancel\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tFootRaceStarters"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"FootRaceStarter","raw":"'FootRaceStarter'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"tFootRaceStarters"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bExists"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityUserExists"},"base":{"type":"Identifier","name":"v"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientObject"},"base":{"type":"Identifier","name":"v"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"stop_timer","raw":"\"stop_timer\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"BreakStatement"}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"showFirstScreen"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":115,"raw":"115"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bFlag"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"CloseButton","raw":"\"CloseButton\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FootRaceCancel","raw":"\"FootRaceCancel\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"LobbyExit","raw":"\"LobbyExit\""}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"InstanceEnterLeaderboardButton","raw":"\"InstanceEnterLeaderboardButton\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleLeaderboard","raw":"\"ToggleLeaderboard\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"id","raw":"\"id\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ActivityID"},"base":{"type":"Identifier","name":"actTable"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"hideReplay","raw":"\"hideReplay\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}]}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bTransfering","raw":"\"bTransfering\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyServerStateNotify"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bChatServerOnline"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"other"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_CHAT_SERVER_DOWN","raw":"\"MINIGAME_LOBBY_CHAT_SERVER_DOWN\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":3000,"raw":"3000"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyHitOrHealResult"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"receiver"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[]}},"right":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"lifeDamageDealt"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"armorDamageDealt"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyMatchUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"msg"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"type"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tempTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tempTable2"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bAdd"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"tempTable"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tempTable"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"tempTable2"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tempTable2"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}},"arguments":[]}},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"bAdd"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"bAdd"},"body":[{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}},"arguments":[]}}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable2"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}},"arguments":[]}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerName"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"},{"type":"Identifier","name":"tempTable"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"},{"type":"Identifier","name":"tempTable2"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"type"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"NumOfPlayers"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumberOfPlayers","raw":"\"NumberOfPlayers\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"NumOfPlayers"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeamSize"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeams"},"base":{"type":"Identifier","name":"actTable"}},"inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"LeaveLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"type"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":5,"raw":"5"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ReadyInstance"},"arguments":[{"type":"Identifier","name":"self"},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}},"arguments":[]},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"type"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":6,"raw":"6"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ReadyInstance"},"arguments":[{"type":"Identifier","name":"self"},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"player"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}},"arguments":[]},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"countdownTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"floor"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"data"},"base":{"type":"Identifier","name":"msg"}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"type"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bOpenedLobbyOnce","raw":"\"bOpenedLobbyOnce\""}]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bOpenedLobbyOnce","raw":"\"bOpenedLobbyOnce\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"resetWaitingForPlayers","raw":"\"resetWaitingForPlayers\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"UpdateInstanceLobby","raw":"\"UpdateInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"resetWaitingForPlayers","raw":"\"resetWaitingForPlayers\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}]}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"countdownTime"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"resetWaitingForPlayers","raw":"\"resetWaitingForPlayers\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"resetWaitingForPlayers","raw":"\"resetWaitingForPlayers\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"UpdateInstanceLobby","raw":"\"UpdateInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"resetWaitingForPlayers","raw":"\"resetWaitingForPlayers\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CountdownTick","raw":"'CountdownTick'"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"countdownTime"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"StartTimer","raw":"\"StartTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"countdownTime"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CountdownTick","raw":"'CountdownTick'"},{"type":"Identifier","name":"countdownTime"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"StartTimer","raw":"\"StartTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"waitTime"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}}]}}]}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateLobby"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"optionalTime"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tPlayers"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tPlayerNames"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"minigameVars"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"Identifier","name":"player"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"tPlayers"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tPlayers"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tPlayers"},"index":{"type":"Identifier","name":"playerID"}}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"},{"type":"Identifier","name":"tPlayers"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tPlayerNames"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tPlayerNames"},"index":{"type":"Identifier","name":"playerID"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetDisplayName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"},{"type":"Identifier","name":"tPlayerNames"}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"count"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"tPlayers"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"name"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tPlayerNames"},"index":{"type":"Identifier","name":"k"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"name"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"name"},"right":{"type":"StringLiteral","value":"","raw":"\"\""}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"count"},"right":{"type":"StringLiteral","value":"_name","raw":"\"_name\""}}}},{"type":"TableValue","value":{"type":"Identifier","name":"name"}}]}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"count"},"right":{"type":"StringLiteral","value":"_name","raw":"\"_name\""}}}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINGAME_LOBBY_UNKNOWN_PLAYER","raw":"\"MINGAME_LOBBY_UNKNOWN_PLAYER\""}]}}]}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"v"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"count"},"right":{"type":"StringLiteral","value":"_check","raw":"\"_check\""}}}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"count"},"right":{"type":"StringLiteral","value":"_check","raw":"\"_check\""}}}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"count"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"count"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"Identifier","name":"count"},"end":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxTeamSize"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxTeams"},"base":{"type":"Identifier","name":"actTable"}}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"i"},"right":{"type":"StringLiteral","value":"_name","raw":"\"_name\""}}}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_WAITING_FOR_PLAYER","raw":"\"MINIGAME_LOBBY_WAITING_FOR_PLAYER\""}]},"right":{"type":"StringLiteral","value":"...","raw":"\"...\""}}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"p","raw":"\"p\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"i"},"right":{"type":"StringLiteral","value":"_check","raw":"\"_check\""}}}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playersNeeded"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeamSize"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeams"},"base":{"type":"Identifier","name":"actTable"}},"inParens":true},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"count"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"playersNeeded"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"updatePlayersNeeded","raw":"\"updatePlayersNeeded\""}},{"type":"TableValue","value":{"type":"Identifier","name":"playersNeeded"}}]}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"optionalTime"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"minigameVars"},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"countdownTime","raw":"\"countdownTime\""}},{"type":"TableValue","value":{"type":"Identifier","name":"optionalTime"}}]}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumberOfPlayers","raw":"\"NumberOfPlayers\""},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"count"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"UpdateInstanceLobby","raw":"\"UpdateInstanceLobby\""},{"type":"Identifier","name":"minigameVars"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"freezePlayer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bFreeze"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"eChangeType"}],"init":[{"type":"StringLiteral","value":"POP","raw":"\"POP\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bVisible"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"bFreeze"},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"eChangeType"}],"init":[{"type":"StringLiteral","value":"PUSH","raw":"\"PUSH\""}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"bVisible"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVisible"},"base":{"type":"Identifier","name":"playerID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"visible"},"value":{"type":"Identifier","name":"bVisible"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fadeTime"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"Identifier","name":"playerID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"Identifier","name":"eChangeType"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantMove"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantAttack"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantInteract"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"EnterLobby"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"checkChatServer"},"arguments":[{"type":"Identifier","name":"player"}]}},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"item"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"UseObjectID","raw":"\"UseObjectID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"item"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"item"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"item"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"playerID"}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"item"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MatchRequest"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ActivityID"},"base":{"type":"Identifier","name":"actTable"}}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MatchRequest"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ActivityID"},"base":{"type":"Identifier","name":"actTable"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"activator"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"playerChoices"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"droppedItem"},"value":{"type":"Identifier","name":"item"}}]}}]}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"freezePlayer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actNameKey"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Activities_","raw":"\"Activities_\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ActivityID"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"StringLiteral","value":"_ActivityName","raw":"\"_ActivityName\""}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxTeamSize"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxTeams"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"NoRevive"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_WAIT_MESSAGE_START","raw":"\"MINIGAME_LOBBY_WAIT_MESSAGE_START\""}]},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" ","raw":"\" \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"actNameKey"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" ","raw":"\" \""},"right":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_WAIT_MESSAGE_END","raw":"\"MINIGAME_LOBBY_WAIT_MESSAGE_END\""}]}}}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":100000,"raw":"100000"}}]}}}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tVars"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tVars","raw":"\"tVars\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"MatchUpdate","raw":"\"MatchUpdate\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleInstanceLobby","raw":"\"ToggleInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"type","raw":"\"type\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"UI_Type"},"base":{"type":"Identifier","name":"tVars"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"minPlayersRequired","raw":"\"minPlayersRequired\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeamSize"},"base":{"type":"Identifier","name":"actTable"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"minTeams"},"base":{"type":"Identifier","name":"actTable"}},"inParens":true}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"activityName","raw":"\"activityName\""}},{"type":"TableValue","value":{"type":"Identifier","name":"actNameKey"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ReadyInstance"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"playerID"},{"type":"Identifier","name":"ready"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tempTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"tempTable"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tempTable"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"findplayer"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"Identifier","name":"playerID"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"findplayer"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"ready"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"Identifier","name":"playerID"}}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"Identifier","name":"playerID"}}],"init":[{"type":"Identifier","name":"ready"}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"},{"type":"Identifier","name":"tempTable"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"LeaveLobby"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bTransfering","raw":"\"bTransfering\""}]},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MatchRequest"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"helpOpen","raw":"\"helpOpen\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"},{"type":"TableConstructorExpression","fields":[]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"},{"type":"TableConstructorExpression","fields":[]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"UpdateInstanceLobby","raw":"\"UpdateInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"countdownTime","raw":"\"countdownTime\""}},{"type":"TableValue","value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"waitTime"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}}}]}}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleInstanceLobby","raw":"\"ToggleInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"visible","raw":"\"visible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"MatchUpdate","raw":"\"MatchUpdate\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"freezePlayer"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TerminateInteraction"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"type"},"value":{"type":"StringLiteral","value":"fromInteraction","raw":"'fromInteraction'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDTerminator"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bOpenedLobbyOnce","raw":"\"bOpenedLobbyOnce\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"removePlayerFromLobby"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateLobby"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"removePlayerFromLobby"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tempTable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tempTable2"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}],"init":[{"type":"NilLiteral","value":null,"raw":"nil"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"tempTable2"},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}],"init":[{"type":"NilLiteral","value":null,"raw":"nil"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayers","raw":"'tLobbyPlayers'"},{"type":"Identifier","name":"tempTable"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tLobbyPlayerNames","raw":"'tLobbyPlayerNames'"},{"type":"Identifier","name":"tempTable2"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"split"},"isLocal":false,"parameters":[{"type":"Identifier","name":"str"},{"type":"Identifier","name":"pat"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"t"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"gsub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"str"},"right":{"type":"Identifier","name":"pat"}},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"(.-)","raw":"\"(.-)\""},"right":{"type":"Identifier","name":"pat"}},{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"result"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"t"},{"type":"Identifier","name":"result"}]}}]}]}},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"t"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"LobbyOpen","raw":"'LobbyOpen'"}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"StartTimer","raw":"\"StartTimer\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"countdownTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CountdownTick","raw":"'CountdownTick'"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"UpdateInstanceLobby","raw":"\"UpdateInstanceLobby\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"user","raw":"\"user\""}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"callbackObj","raw":"\"callbackObj\""}},{"type":"TableValue","value":{"type":"Identifier","name":"self"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"countdownTime","raw":"\"countdownTime\""}},{"type":"TableValue","value":{"type":"Identifier","name":"countdownTime"}}]}}]}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"countdownTime"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CountdownTick","raw":"'CountdownTick'"},{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"countdownTime"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"StartTimer","raw":"\"StartTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"countdownTime"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bTransfering","raw":"\"bTransfering\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestPickTypeUpdate"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]}]}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actNameKey"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Activities_","raw":"\"Activities_\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ActivityID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ActivityTable","raw":"'ActivityTable'"}]}},"right":{"type":"StringLiteral","value":"_ActivityName","raw":"\"_ActivityName\""}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ClearInstancer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"NoRevive"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_WAIT_MESSAGE_START","raw":"\"MINIGAME_LOBBY_WAIT_MESSAGE_START\""}]},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" ","raw":"\" \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"actNameKey"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" ","raw":"\" \""},"right":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"MINIGAME_LOBBY_WAIT_MESSAGE_END","raw":"\"MINIGAME_LOBBY_WAIT_MESSAGE_END\""}]}}}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":100000,"raw":"100000"}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"nofade","raw":"\"nofade\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":120,"raw":"120"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bFlag"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Description: Base Client script for Shooting Gallery NPC ","raw":"-- Description: Base Client script for Shooting Gallery NPC "},{"type":"Comment","value":" in GF area. Lets client know the object can be interacted with","raw":"-- in GF area. Lets client know the object can be interacted with"},{"type":"Comment","value":" players are stored as a table with the playerID as a key and ","raw":"-- players are stored as a table with the playerID as a key and "},{"type":"Comment","value":" the readyState as a value. ","raw":"-- the readyState as a value. "},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" ALSO: Add L_BASE_DRAG_INTERACT_INSTANCER_SERVER.lua ","raw":"-- ALSO: Add L_BASE_DRAG_INTERACT_INSTANCER_SERVER.lua "},{"type":"Comment","value":" to server side to make instancer use drag to interact","raw":"-- to server side to make instancer use drag to interact"},{"type":"Comment","value":" and double click functionality (racing)","raw":"-- and double click functionality (racing)"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" updated mrb... 9/7/11 -- updated for taking damage","raw":"-- updated mrb... 9/7/11 -- updated for taking damage"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the local player interacts with the","raw":"-- sent when the local player interacts with the"},{"type":"Comment","value":" object before ClientUse, checks to see if we ","raw":"-- object before ClientUse, checks to see if we "},{"type":"Comment","value":" in a beta 1 and sends a fail message.","raw":"-- in a beta 1 and sends a fail message."},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" if this is an item interaction and they havent build a car/modular obj do this stuff","raw":"-- if this is an item interaction and they havent build a car/modular obj do this stuff"},{"type":"Comment","value":" needs localization","raw":"-- needs localization"},{"type":"Comment","value":" if the player is using a racing instancer and they entered into the interaction range then set lua notification","raw":"-- if the player is using a racing instancer and they entered into the interaction range then set lua notification"},{"type":"Comment","value":" set the object that was double clicked","raw":"-- set the object that was double clicked"},{"type":"Comment","value":"print(msg.itemToUse:GetName().name)","raw":"--print(msg.itemToUse:GetName().name)"},{"type":"Comment","value":" 5 --  ","raw":"-- 5 --  "},{"type":"Comment","value":" save out the activity table","raw":"-- save out the activity table"},{"type":"Comment","value":" we notify the game object system so it can predownload our zone assets","raw":"-- we notify the game object system so it can predownload our zone assets"},{"type":"Comment","value":" set up the two proximity radius for icon display","raw":"-- set up the two proximity radius for icon display"},{"type":"Comment","value":" check to see if the chat server is down","raw":"-- check to see if the chat server is down"},{"type":"Comment","value":" {LOT = actTable.optionalCostLOT, Count = actTable.optionalCostCount})    ","raw":"-- {LOT = actTable.optionalCostLOT, Count = actTable.optionalCostCount})    "},{"type":"Comment","value":" default","raw":"-- default"},{"type":"Comment","value":" brick","raw":"-- brick"},{"type":"Comment","value":" model","raw":"-- model"},{"type":"Comment","value":" quest","raw":"-- quest"},{"type":"Comment","value":" if help window is open or chat server is down dont showFirstScreen ","raw":"-- if help window is open or chat server is down dont showFirstScreen "},{"type":"Comment","value":" check if the this object has been unlocked.","raw":"-- check if the this object has been unlocked."},{"type":"Comment","value":" {LOT = actTable.optionalCostLOT, Count = actTable.optionalCostCount})","raw":"-- {LOT = actTable.optionalCostLOT, Count = actTable.optionalCostCount})"},{"type":"Comment","value":" send message to the UI to open the lobby\t\t            ","raw":"-- send message to the UI to open the lobby\t\t            "},{"type":"Comment","value":" set lua notifications","raw":"-- set lua notifications"},{"type":"Comment","value":" check if this is the local palyer or not","raw":"-- check if this is the local palyer or not"},{"type":"Comment","value":" if the player is in a foot race then ask if they want to quit","raw":"-- if the player is in a foot race then ask if they want to quit"},{"type":"Comment","value":" see if this is an item interaction or a normal interaction","raw":"-- see if this is an item interaction or a normal interaction"},{"type":"Comment","value":" if we have an obj use it to interact or display the fail text","raw":"-- if we have an obj use it to interact or display the fail text"},{"type":"Comment","value":" do we have the required variables passed to us?","raw":"-- do we have the required variables passed to us?"},{"type":"Comment","value":" see if the player is within the client side interaction proximity","raw":"-- see if the player is within the client side interaction proximity"},{"type":"Comment","value":" if not then return false","raw":"-- if not then return false"},{"type":"Comment","value":" do we have the required variables passed to us?","raw":"-- do we have the required variables passed to us?"},{"type":"Comment","value":" check to make sure we have the correct player and that the object double clicked was the correct LOT","raw":"-- check to make sure we have the correct player and that the object double clicked was the correct LOT"},{"type":"Comment","value":" find the first LOT in the players inventory","raw":"-- find the first LOT in the players inventory"},{"type":"Comment","value":" if we have an obj then sen the interaction","raw":"-- if we have an obj then sen the interaction"},{"type":"Comment","value":" set the player interaction","raw":"-- set the player interaction"},{"type":"Comment","value":" send message to use the obj as the drag interaction","raw":"-- send message to use the obj as the drag interaction"},{"type":"Comment","value":" check to see if we have the correct message and deal with it","raw":"-- check to see if we have the correct message and deal with it"},{"type":"Comment","value":" if we aren't an item interaction return out of this function","raw":"-- if we aren't an item interaction return out of this function"},{"type":"Comment","value":" set the player interaction","raw":"-- set the player interaction"},{"type":"Comment","value":" check to see if the itemLOT matches the interaction item in tVars","raw":"-- check to see if the itemLOT matches the interaction item in tVars"},{"type":"Comment","value":" if the player is in a foot race then ask if they want to quit","raw":"-- if the player is in a foot race then ask if they want to quit"},{"type":"Comment","value":" open the help window","raw":"-- open the help window"},{"type":"Comment","value":" Store the item they dropped on us","raw":"-- Store the item they dropped on us"},{"type":"Comment","value":" check to see if the help window is open","raw":"-- check to see if the help window is open"},{"type":"Comment","value":" see if the player fails the mission state check","raw":"-- see if the player fails the mission state check"},{"type":"Comment","value":" close the UI window because the interaction was terminated should return iButton -1","raw":"-- close the UI window because the interaction was terminated should return iButton -1"},{"type":"Comment","value":" when the player hit's ok or hits enter transfer to new zone","raw":"-- when the player hit's ok or hits enter transfer to new zone"},{"type":"Comment","value":"print(msg.identifier .. \" : \" .. msg.iButton)","raw":"--print(msg.identifier .. \" : \" .. msg.iButton)"},{"type":"Comment","value":" handle UI button responses","raw":"-- handle UI button responses"},{"type":"Comment","value":" type: 1 = REQUEST_READY; value = (1 = ready, 0 = notready)            ","raw":"-- type: 1 = REQUEST_READY; value = (1 = ready, 0 = notready)            "},{"type":"Comment","value":" player is in a foot race and said they want to quit","raw":"-- player is in a foot race and said they want to quit"},{"type":"Comment","value":" find the race starters in the zone","raw":"-- find the race starters in the zone"},{"type":"Comment","value":" check the race starters to see if the player is in it's activity","raw":"-- check the race starters to see if the player is in it's activity"},{"type":"Comment","value":" remove the user","raw":"-- remove the user"},{"type":"Comment","value":" done","raw":"-- done"},{"type":"Comment","value":" show the mini-game start screen","raw":"-- show the mini-game start screen"},{"type":"Comment","value":" turn off the player flag for is player in foot race","raw":"-- turn off the player flag for is player in foot race"},{"type":"Comment","value":"LeaveLobby(self,player)","raw":"--LeaveLobby(self,player)"},{"type":"Comment","value":" set the pick type","raw":"-- set the pick type"},{"type":"Comment","value":" Interactive pick type","raw":"-- Interactive pick type"},{"type":"Comment","value":" check to see if the chat server is online","raw":"-- check to see if the chat server is online"},{"type":"Comment","value":" close the UI window because the interaction was terminated should return iButton -1","raw":"-- close the UI window because the interaction was terminated should return iButton -1"},{"type":"Comment","value":"print(\"**** Type = \" .. msg.type)","raw":"--print(\"**** Type = \" .. msg.type)"},{"type":"Comment","value":"print(\"** \" .. tostring(self:GetVar('LobbyOpen')))","raw":"--print(\"** \" .. tostring(self:GetVar('LobbyOpen')))"},{"type":"Comment","value":" check to make sure we were sent a msg and the lobby is open","raw":"-- check to make sure we were sent a msg and the lobby is open"},{"type":"Comment","value":"print('**** - ' .. msg.type .. ' = ' .. msg.data.playerName .. \" Added\")","raw":"--print('**** - ' .. msg.type .. ' = ' .. msg.data.playerName .. \" Added\")"},{"type":"Comment","value":" create a tempTable if there isn't tLobbyPlayers in GetVar","raw":"-- create a tempTable if there isn't tLobbyPlayers in GetVar"},{"type":"Comment","value":" create a tempTable2 if there isn't tLobbyPlayerNames in GetVar","raw":"-- create a tempTable2 if there isn't tLobbyPlayerNames in GetVar"},{"type":"Comment","value":" add the player sent to tempTable","raw":"-- add the player sent to tempTable"},{"type":"Comment","value":" add all this data, save the vars and update the lobby","raw":"-- add all this data, save the vars and update the lobby"},{"type":"Comment","value":"print('**** - ' .. msg.type .. ' = ' .. msg.data.playerName .. \" Removed\")","raw":"--print('**** - ' .. msg.type .. ' = ' .. msg.data.playerName .. \" Removed\")"},{"type":"Comment","value":" check and see if there are not enough players to start","raw":"-- check and see if there are not enough players to start"},{"type":"Comment","value":" player ready","raw":"-- player ready"},{"type":"Comment","value":"print('**** - ' .. msg.type .. ' = ' .. msg.data.player:GetName().name .. \" Ready\")","raw":"--print('**** - ' .. msg.type .. ' = ' .. msg.data.player:GetName().name .. \" Ready\")"},{"type":"Comment","value":" player not ready","raw":"-- player not ready"},{"type":"Comment","value":"print('**** - ' .. msg.type .. ' = ' .. msg.data.player:GetName().name .. \" not Ready\")","raw":"--print('**** - ' .. msg.type .. ' = ' .. msg.data.player:GetName().name .. \" not Ready\")"},{"type":"Comment","value":" update the time and UI","raw":"-- update the time and UI"},{"type":"Comment","value":"print('first time')","raw":"--print('first time')"},{"type":"Comment","value":"print('lost a player')","raw":"--print('lost a player')"},{"type":"Comment","value":" if tPlayers doens't exist then create a new table with the nessessary variables","raw":"-- if tPlayers doens't exist then create a new table with the nessessary variables"},{"type":"Comment","value":" loop through all the players in the tPlayers and update the settings","raw":"-- loop through all the players in the tPlayers and update the settings"},{"type":"Comment","value":" Use Unknown Player if we cannot find the player name","raw":"-- Use Unknown Player if we cannot find the player name"},{"type":"Comment","value":"shouldn't ever get this case","raw":"--shouldn't ever get this case"},{"type":"Comment","value":" if the player is in the ready state then check the box","raw":"-- if the player is in the ready state then check the box"},{"type":"Comment","value":" send message to UI to update the lobby","raw":"-- send message to UI to update the lobby"},{"type":"Comment","value":" freeze and hide the player if bFreeze is true","raw":"-- freeze and hide the player if bFreeze is true"},{"type":"Comment","value":" update the player stunned/visible state","raw":"-- update the player stunned/visible state"},{"type":"Comment","value":" check to see if the chat server is down","raw":"-- check to see if the chat server is down"},{"type":"Comment","value":" if they didn't double-click a car, use their default","raw":"-- if they didn't double-click a car, use their default"},{"type":"Comment","value":" check for item interaction and send appropriate requests","raw":"-- check for item interaction and send appropriate requests"},{"type":"Comment","value":" type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)        ","raw":"-- type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)        "},{"type":"Comment","value":" type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)        ","raw":"-- type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)        "},{"type":"Comment","value":" freeze and hide player","raw":"-- freeze and hide player"},{"type":"Comment","value":" if max num of players is 1 transfer straight into mini game","raw":"-- if max num of players is 1 transfer straight into mini game"},{"type":"Comment","value":" send Lua notifications, open and update lobby","raw":"-- send Lua notifications, open and update lobby"},{"type":"Comment","value":" make a new table if it didn't exist","raw":"-- make a new table if it didn't exist"},{"type":"Comment","value":" if there is a player then set the appropriate ready state","raw":"-- if there is a player then set the appropriate ready state"},{"type":"Comment","value":" if this is the local player then reset everything back to beginning state","raw":"-- if this is the local player then reset everything back to beginning state"},{"type":"Comment","value":" type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)   ","raw":"-- type: 0 = REQUEST_JOIN; value = (0 = exit, any other # = activityID)   "},{"type":"Comment","value":" not local player so just update the lobby and remove the player from the table","raw":"-- not local player so just update the lobby and remove the player from the table"},{"type":"Comment","value":" clear the player from the tables","raw":"-- clear the player from the tables"},{"type":"Comment","value":" update the tables","raw":"-- update the tables"},{"type":"Comment","value":" splits a string based on the given pattern and returns a table","raw":"-- splits a string based on the given pattern and returns a table"},{"type":"Comment","value":" todo: need to break out the timers into start and wait, so if there is network lag it wont close ui on first timer; or a bool","raw":"-- todo: need to break out the timers into start and wait, so if there is network lag it wont close ui on first timer; or a bool"},{"type":"Comment","value":" update the UI with the new time","raw":"-- update the UI with the new time"},{"type":"Comment","value":" start another 1 sec timer","raw":"-- start another 1 sec timer"},{"type":"Comment","value":" all done close out the lobby UI and pop up the waiting message","raw":"-- all done close out the lobby UI and pop up the waiting message"}]}