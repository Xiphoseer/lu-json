{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_Zorillo","raw":"'c_Zorillo'"}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetZoneState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ZoneState","raw":"\"ZoneState\""}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetZoneState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"state"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"prevState"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ZoneState","raw":"\"ZoneState\""},{"type":"Identifier","name":"state"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"prevState"},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"prevState"},"right":{"type":"Identifier","name":"state"}},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnableEffect"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"peaceTime","raw":"\"peaceTime\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"idle_light","raw":"\"idle_light\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_TRANSITION","raw":"\"ZONE_STATE_TRANSITION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnableEffect"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"red","raw":"\"red\""}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"delay"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"anim_delay","raw":"\"anim_delay\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"delay"},"right":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"delay"}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"delay"}]},{"type":"StringLiteral","value":"PlayAnim_LightToAlarm","raw":"\"PlayAnim_LightToAlarm\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"light_to_alarm","raw":"\"light_to_alarm\""}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_HIGH_ALERT","raw":"\"ZONE_STATE_HIGH_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnableEffect"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"red","raw":"\"red\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"idle_alarm","raw":"\"idle_alarm\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_MEDIUM_ALERT","raw":"\"ZONE_STATE_MEDIUM_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnableEffect"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"orange","raw":"\"orange\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"idle_alarm","raw":"\"idle_alarm\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_LOW_ALERT","raw":"\"ZONE_STATE_LOW_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"EnableEffect"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"yellow","raw":"\"yellow\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"idle_alarm","raw":"\"idle_alarm\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RemoveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"alarm_to_light","raw":"\"alarm_to_light\""}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SpawnDetector"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myChild"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"ChildDetector","raw":"\"ChildDetector\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"myChild"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"myChild"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"myChild"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"zone_state_change","raw":"\"zone_state_change\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mypos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"LAMP_DETECTOR_LOT","raw":"\"LAMP_DETECTOR_LOT\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"NumericLiteral","value":0.7071,"raw":"0.7071"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":0.7071,"raw":"0.7071"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"RemoveDetector"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myChild"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"ChildDetector","raw":"\"ChildDetector\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"myChild"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"myChild"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"myChild"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"myChild"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"LAMP_DETECTOR_LOT","raw":"\"LAMP_DETECTOR_LOT\""}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[{"type":"StringLiteral","value":"ZoneState","raw":"\"ZoneState\""},{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"ChildDetector","raw":"\"ChildDetector\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetAnimation"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"name"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bRenderReady","raw":"\"bRenderReady\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"name"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"EnableEffect"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"action"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bRenderReady","raw":"\"bRenderReady\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myEffect"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentEffect","raw":"\"currentEffect\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"myEffect","inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"lamp","raw":"\"lamp\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"Identifier","name":"action"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentEffect","raw":"\"currentEffect\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"RemoveEffect"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bRenderReady","raw":"\"bRenderReady\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myEffect"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentEffect","raw":"\"currentEffect\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"myEffect","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"lamp","raw":"\"lamp\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentEffect","raw":"\"currentEffect\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRenderComponentReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bRenderReady","raw":"\"bRenderReady\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"StringLiteral","value":"ZoneStateClientObjectReady","raw":"\"ZoneStateClientObjectReady\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"registerWithZoneControlObject"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentEffect","raw":"\"currentEffect\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NO_OBJECT","raw":"\"NO_OBJECT\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INFO","raw":"\"ZONE_STATE_NO_INFO\""}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"zone_state_change","raw":"\"zone_state_change\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"param1"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlayAnim_LightToAlarm","raw":"\"PlayAnim_LightToAlarm\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"light_to_alarm","raw":"\"light_to_alarm\""}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PlayAnim_AlarmToLight","raw":"\"PlayAnim_AlarmToLight\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"alarm_to_light","raw":"\"alarm_to_light\""}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Client script for single lamp posts. Handles their effect","raw":"-- Client script for single lamp posts. Handles their effect"},{"type":"Comment","value":" based on the state of the zone","raw":"-- based on the state of the zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Get the state of the zone","raw":"-- Get the state of the zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Set the state of the zone","raw":"-- Set the state of the zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get current state","raw":"-- get current state"},{"type":"Comment","value":" perform actions based on zone state","raw":"-- perform actions based on zone state"},{"type":"Comment","value":" if no invasion play the peace effect    ","raw":"-- if no invasion play the peace effect    "},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":" disable the effect in this state","raw":"-- disable the effect in this state"},{"type":"Comment","value":" play animation with optional delay","raw":"-- play animation with optional delay"},{"type":"Comment","value":" disable the effect in this state","raw":"-- disable the effect in this state"},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":" disable the effect in this state","raw":"-- disable the effect in this state"},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":" disable the effect in this state","raw":"-- disable the effect in this state"},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":" if no invasion play the peace effect    ","raw":"-- if no invasion play the peace effect    "},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" adds a detector to this object, if one does not exist","raw":"-- adds a detector to this object, if one does not exist"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if we have a child detector already, we are done","raw":"-- if we have a child detector already, we are done"},{"type":"Comment","value":" send state information","raw":"-- send state information"},{"type":"Comment","value":" get position","raw":"-- get position"},{"type":"Comment","value":" Add a detector here","raw":"-- Add a detector here"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" removes a detector spawned by this object","raw":"-- removes a detector spawned by this object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Remove the child","raw":"-- Remove the child"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" called when a child is loaded","raw":"-- called when a child is loaded"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" store current state","raw":"-- store current state"},{"type":"Comment","value":" store the object and it's parent","raw":"-- store the object and it's parent"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Plays and sets the animation","raw":"-- Plays and sets the animation"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return early if render is not ready","raw":"-- return early if render is not ready"},{"type":"Comment","value":" play animation","raw":"-- play animation"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Enables an effect on the spout unless one is already present","raw":"-- Enables an effect on the spout unless one is already present"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return early if render is not ready","raw":"-- return early if render is not ready"},{"type":"Comment","value":" return out if we already have an effect","raw":"-- return out if we already have an effect"},{"type":"Comment","value":" make a new effect","raw":"-- make a new effect"},{"type":"Comment","value":" save the effect\t","raw":"-- save the effect\t"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Removes an effect on the spout","raw":"-- Removes an effect on the spout"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return early if render is not ready","raw":"-- return early if render is not ready"},{"type":"Comment","value":" get current effect","raw":"-- get current effect"},{"type":"Comment","value":" remove the effect","raw":"-- remove the effect"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when the render is ready on the client","raw":"-- Called when the render is ready on the client"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" let the zone control object know we are ready to be instructed","raw":"-- let the zone control object know we are ready to be instructed"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when object is added to world","raw":"-- Called when object is added to world"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" register ourself with the client-side zone script to be instructed later","raw":"-- register ourself with the client-side zone script to be instructed later"},{"type":"Comment","value":" set state to No Info, waiting for state information","raw":"-- set state to No Info, waiting for state information"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when object gets a notification","raw":"-- Called when object gets a notification"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set the state","raw":"-- set the state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" called when timer complete","raw":"-- called when timer complete"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" play an animation","raw":"-- play an animation"}]}