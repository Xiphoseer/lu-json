{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionID"}],"init":[{"type":"StringLiteral","value":"","raw":"''"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"cinemaName"}],"init":[{"type":"StringLiteral","value":"","raw":"''"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"cinemaTime"}],"init":[{"type":"StringLiteral","value":"","raw":"''"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"StringLiteral","value":"","raw":"''"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"missionID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"missionID","raw":"\"missionID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"missionID"},"right":{"type":"StringLiteral","value":"","raw":"''"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"Missing missionID in ConfigData","raw":"'Missing missionID in ConfigData'"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"cinemaName"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"cinemaName","raw":"\"cinemaName\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cinemaName"},"right":{"type":"StringLiteral","value":"","raw":"''"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"Missing cinemaName in ConfigData","raw":"'Missing cinemaName in ConfigData'"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"cinemaTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"cinemaTime","raw":"\"cinemaTime\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"cinemaTime"},"right":{"type":"StringLiteral","value":"","raw":"''"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"Missing cinemaTime in ConfigData","raw":"'Missing cinemaTime in ConfigData'"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"missionID"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"cinemaName"}}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"cinemaTime"}}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsComplete"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"missionID"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"Identifier","name":"cinemaName"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"cinemaTime"},{"type":"StringLiteral","value":"missionCamera","raw":"\"missionCamera\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"missionCamera","raw":"\"missionCamera\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":" Script that can be attached to any misison giver on the client in HF. Config data","raw":"-- Script that can be attached to any misison giver on the client in HF. Config data"},{"type":"Comment","value":" variables must be set in HF. missionID, cinemaName, cinemaTime","raw":"-- variables must be set in HF. missionID, cinemaName, cinemaTime"},{"type":"Comment","value":" Created: 4/09/09 mrb...","raw":"-- Created: 4/09/09 mrb..."},{"type":"Comment","value":"//////////////////////////////////////////////////////////////////////////////////","raw":"--//////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" local variables","raw":"-- local variables"},{"type":"Comment","value":" missionID from DB","raw":"-- missionID from DB"},{"type":"Comment","value":" name of cinematic in HF","raw":"-- name of cinematic in HF"},{"type":"Comment","value":" time of cinematic and to release player","raw":"-- time of cinematic and to release player"},{"type":"Comment","value":"//////////////////////////////////////////////////////////////////////////////////","raw":"--//////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" get the varables set in HF in the mission givers configData, if mission print error","raw":"-- get the varables set in HF in the mission givers configData, if mission print error"},{"type":"Comment","value":" missionID from DB","raw":"-- missionID from DB"},{"type":"Comment","value":" name of cinematic in HF","raw":"-- name of cinematic in HF"},{"type":"Comment","value":" time of cinematic and to release player","raw":"-- time of cinematic and to release player"},{"type":"Comment","value":" the player","raw":"-- the player"},{"type":"Comment","value":" freeze player and play cinematic","raw":"-- freeze player and play cinematic"},{"type":"Comment","value":" start timer to release player movement","raw":"-- start timer to release player movement"},{"type":"Comment","value":" release player movement       ","raw":"-- release player movement       "}]}