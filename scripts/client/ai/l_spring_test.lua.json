{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"isBouncing"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"faction"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"faction"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"faction"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"isBouncing"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}},"body":[{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"isBouncing"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"elast"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"springpad_bouncemod","raw":"\"springpad_bouncemod\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"elast"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"elast"}],"init":[{"type":"NumericLiteral","value":250,"raw":"250"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"maximumSpeed"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"springpad_maxspeed","raw":"\"springpad_maxspeed\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"maximumSpeed"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"maximumSpeed"}],"init":[{"type":"NumericLiteral","value":1000,"raw":"1000"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vec"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"niUpVector"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetUpVector"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vel"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"linVelocity"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLinearVelocity"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pVel"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"linVelocity"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLinearVelocity"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Deflect"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"direction"},"value":{"type":"Identifier","name":"vec"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"velocity"},"value":{"type":"Identifier","name":"vel"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"playerVelocity"},"value":{"type":"Identifier","name":"pVel"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"elasticity"},"value":{"type":"Identifier","name":"elast"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"maxSpeed"},"value":{"type":"Identifier","name":"maximumSpeed"}}]}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"BounceCooldown","raw":"\"BounceCooldown\""},{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"onTimerDone"}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"BounceCooldown","raw":"\"BounceCooldown\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"isBouncing"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]}]}],"comments":[{"type":"Comment","value":"print(\"******** Bounce ***********\")","raw":"--print(\"******** Bounce ***********\")"},{"type":"Comment","value":" If a player collided with me, then do our stuff","raw":"-- If a player collided with me, then do our stuff"},{"type":"Comment","value":"local elast = 2.0\t\t\t-- Will load from level file","raw":"--local elast = 2.0\t\t\t-- Will load from level file"},{"type":"Comment","value":"print('******************' .. elast)","raw":"--print('******************' .. elast)"},{"type":"Comment","value":"local maximumSpeed = 100.0\t\t-- Will load from level file","raw":"--local maximumSpeed = 100.0\t\t-- Will load from level file"},{"type":"Comment","value":"print('******************' .. maximumSpeed)","raw":"--print('******************' .. maximumSpeed)"}]}