{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PropertyLauncher"}],"init":[{"type":"NumericLiteral","value":7678,"raw":"7678"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"RocketText"}],"init":[{"type":"StringLiteral","value":"ROCKET_SIGNAGE","raw":"\"ROCKET_SIGNAGE\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PropertyRocketText"}],"init":[{"type":"StringLiteral","value":"ROCKET_SIGNAGE_PROPERTY","raw":"\"ROCKET_SIGNAGE_PROPERTY\""}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":30,"raw":"30"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"RocketSign","raw":"\"RocketSign\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":74,"raw":"74"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"right":{"type":"Identifier","name":"PropertyLauncher"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"instanceIcon"}],"init":[{"type":"NumericLiteral","value":83,"raw":"83"}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iconID"},"value":{"type":"Identifier","name":"instanceIcon"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":80,"raw":"80"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Icon_Display_Distance","raw":"\"Icon_Display_Distance\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"split"},"isLocal":false,"parameters":[{"type":"Identifier","name":"str"},{"type":"Identifier","name":"pat"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"t"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"str"},"right":{"type":"Identifier","name":"pat"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"gsub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"str"},"right":{"type":"Identifier","name":"pat"}},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"(.-)","raw":"\"(.-)\""},"right":{"type":"Identifier","name":"pat"}},{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"result"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"insert"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"t"},{"type":"Identifier","name":"result"}]}}]}]}}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"t"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"isFromUI"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"preConVar"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CheckPrecondition","raw":"\"CheckPrecondition\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bPass"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"preConVar"},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"preConVar"},"right":{"type":"StringLiteral","value":"","raw":"\"\""}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"check"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CheckListOfPreconditionsFromLua"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"PreconditionsToCheck"},"value":{"type":"Identifier","name":"preConVar"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"requestingID"},"value":{"type":"Identifier","name":"self"}}]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bPass"},"base":{"type":"Identifier","name":"check"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"IconID"},"base":{"type":"Identifier","name":"check"}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"FailedReason"},"base":{"type":"Identifier","name":"check"}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"bPass"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"bPass"},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":2872,"raw":"2872"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"right":{"type":"Identifier","name":"PropertyLauncher"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"Identifier","name":"PropertyRocketText"}]}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"Identifier","name":"RocketText"}]}]}]}]}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"playerID"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"RocketSign","raw":"\"RocketSign\""}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mapNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"transferZoneID","raw":"\"transferZoneID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"mapNum"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"mapNum"}],"init":[{"type":"NumericLiteral","value":20,"raw":"20"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mapName"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"ZoneTable_","raw":"\"ZoneTable_\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"mapNum"},"right":{"type":"StringLiteral","value":"_DisplayDescription","raw":"\"_DisplayDescription\""}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleRocketSignage","raw":"\"ToggleRocketSignage\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"bVisible","raw":"\"bVisible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"name","raw":"\"name\""}},{"type":"TableValue","value":{"type":"Identifier","name":"mapName"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"zoneNumber","raw":"\"zoneNumber\""}},{"type":"TableValue","value":{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"Identifier","name":"mapNum"}]}}]}}]},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"LEAVE","raw":"\"LEAVE\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"ToggleRocketSignage","raw":"\"ToggleRocketSignage\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"bVisible","raw":"\"bVisible\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]},{"type":"Identifier","name":"self"}]}}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Displays a fancy animation as you walk up to the rocket pad","raw":"-- Displays a fancy animation as you walk up to the rocket pad"},{"type":"Comment","value":" created by cassie","raw":"-- created by cassie"},{"type":"Comment","value":" updated brandi... 6/8/10 added local variable, and different text based on launcher types, and localized text","raw":"-- updated brandi... 6/8/10 added local variable, and different text based on launcher types, and localized text"},{"type":"Comment","value":" updated mrb... 7/21/10 - added check all preconditions","raw":"-- updated mrb... 7/21/10 - added check all preconditions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"object id of the property rocket launcher","raw":"--object id of the property rocket launcher"},{"type":"Comment","value":" localization string for normal rocket launchers","raw":"-- localization string for normal rocket launchers"},{"type":"Comment","value":" localization string for property rocket launchers","raw":"-- localization string for property rocket launchers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent when the script is started.","raw":"-- Sent when the script is started."},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set up the proximity radius","raw":"-- set up the proximity radius"},{"type":"Comment","value":" set up the two proximity radius for icon display","raw":"-- set up the two proximity radius for icon display"},{"type":"Comment","value":" set the pick type","raw":"-- set the pick type"},{"type":"Comment","value":" Interactive pick type","raw":"-- Interactive pick type"},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" sent when the local player interacts with the","raw":"-- sent when the local player interacts with the"},{"type":"Comment","value":" object before ClientUse, checks to see if we ","raw":"-- object before ClientUse, checks to see if we "},{"type":"Comment","value":" in a beta 1 and sends a fail message.","raw":"-- in a beta 1 and sends a fail message."},{"type":"Comment","value":"--------------------------------------------","raw":"----------------------------------------------"},{"type":"Comment","value":" if we dont have CheckPreconditions set in HF then return out of this function","raw":"-- if we dont have CheckPreconditions set in HF then return out of this function"},{"type":"Comment","value":" if its a property rocket launcher, display different text than if its a normal rocket launcher","raw":"-- if its a property rocket launcher, display different text than if its a normal rocket launcher"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent when a player enter/leave a Proximity Radius","raw":"-- Sent when a player enter/leave a Proximity Radius"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check to see if we are the correct player","raw":"-- check to see if we are the correct player"},{"type":"Comment","value":" send the correct UI message ","raw":"-- send the correct UI message "},{"type":"Comment","value":"UI:SendMessage( \"TurnOn\", {}, self )","raw":"--UI:SendMessage( \"TurnOn\", {}, self )"},{"type":"Comment","value":"UI:SendMessage( \"TurnOff\", {}, self )    ","raw":"--UI:SendMessage( \"TurnOff\", {}, self )    "}]}