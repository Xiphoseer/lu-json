{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"misID"}],"init":[{"type":"NumericLiteral","value":474,"raw":"474"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"misID"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CelebrationCompleted","raw":"\"CelebrationCompleted\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyCelebrationCompleted"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"other"}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ForcePlayerToInteract"},"base":{"type":"Identifier","name":"other"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objToInteractWith"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"other"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CelebrationCompleted","raw":"\"CelebrationCompleted\""}}]}}}]}],"comments":[{"type":"Comment","value":"---------------------------------------------------------","raw":"-----------------------------------------------------------"},{"type":"Comment","value":" This script is on the faction rep","raw":"-- This script is on the faction rep"},{"type":"Comment","value":" after selecting a faction, the player does a celeb and when it's complete is ","raw":"-- after selecting a faction, the player does a celeb and when it's complete is "},{"type":"Comment","value":" offered the correct mission to go talk to their new faction rep","raw":"-- offered the correct mission to go talk to their new faction rep"},{"type":"Comment","value":" ","raw":"-- "},{"type":"Comment","value":" updated mrb... 3/9/11 - changed to event based logic","raw":"-- updated mrb... 3/9/11 - changed to event based logic"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" join a faction mission","raw":"-- join a faction mission"},{"type":"Comment","value":" set the lua notification to catch that the player has completed the celebration","raw":"-- set the lua notification to catch that the player has completed the celebration"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" when the celebration is completed, put the env settings back","raw":"-- when the celebration is completed, put the env settings back"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" make sure the player is still there","raw":"-- make sure the player is still there"},{"type":"Comment","value":" make the player the player interact to get the next mission","raw":"-- make the player the player interact to get the next mission"},{"type":"Comment","value":" clear the lua notification","raw":"-- clear the lua notification"}]}