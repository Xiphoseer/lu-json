{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoDisableCLUTLightning"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"StartFlash","raw":"\"StartFlash\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"EndFlash","raw":"\"EndFlash\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"EyeFlashAdjustment","raw":"\"EyeFlashAdjustment\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CLUTEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"StringLiteral","value":"(none)","raw":"\"(none)\""},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onOffCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoDisableCLUTLightning"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onShutdown"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoDisableCLUTLightning"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CLUTEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"StringLiteral","value":"GF_LightningLUT.dds","raw":"\"GF_LightningLUT.dds\""},{"type":"NumericLiteral","value":0.2,"raw":"0.2"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"StringLiteral","value":"StartFlash","raw":"\"StartFlash\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"StartFlash","raw":"\"StartFlash\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.4,"raw":"0.4"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"StringLiteral","value":"EndFlash","raw":"\"EndFlash\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"EndFlash","raw":"\"EndFlash\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CLUTEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"StringLiteral","value":"(none)","raw":"\"(none)\""},{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.05,"raw":"0.05"},{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.2,"raw":"0.2"},{"type":"StringLiteral","value":"EyeFlashAdjustment","raw":"\"EyeFlashAdjustment\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"EyeFlashAdjustment","raw":"\"EyeFlashAdjustment\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.05,"raw":"0.05"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0.5,"raw":"0.5"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"randVal"}],"init":[{"type":"BinaryExpression","operator":"/","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1000,"raw":"1000"}]},"right":{"type":"NumericLiteral","value":1000,"raw":"1000.0"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"chanceVal"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":3,"raw":"3"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"chanceVal"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"NumericLiteral","value":0.1,"raw":"0.1"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"randVal"},"right":{"type":"NumericLiteral","value":0.1,"raw":"0.1"},"inParens":true}},{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"chanceVal"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"NumericLiteral","value":2,"raw":"2.0"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"randVal"},"right":{"type":"NumericLiteral","value":3,"raw":"3.0"},"inParens":true}},{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"NumericLiteral","value":5,"raw":"5.0"},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"randVal"},"right":{"type":"NumericLiteral","value":10,"raw":"10.0"},"inParens":true}},{"type":"StringLiteral","value":"StartCLUTLightning","raw":"\"StartCLUTLightning\""},{"type":"Identifier","name":"self"}]}}]}]}]}]}]}],"comments":[{"type":"Comment","value":" Helper function that disables all of the CLUT timers and resets all effects back to a neutral state","raw":"-- Helper function that disables all of the CLUT timers and resets all effects back to a neutral state"},{"type":"Comment","value":" Reset our rendering back to untinted / unCLUT'ed","raw":"-- Reset our rendering back to untinted / unCLUT'ed"},{"type":"Comment","value":" We start our effect when we hit the collision phantom","raw":"-- We start our effect when we hit the collision phantom"},{"type":"Comment","value":" We disable our effect when we leave the collision phantom","raw":"-- We disable our effect when we leave the collision phantom"},{"type":"Comment","value":" We also disable the effect if the script component is shut down for any reason","raw":"-- We also disable the effect if the script component is shut down for any reason"},{"type":"Comment","value":" Timers control every aspect of the lightning; this is where the effect itself lives","raw":"-- Timers control every aspect of the lightning; this is where the effect itself lives"},{"type":"Comment","value":" We do this because random can't output a floating point value","raw":"-- We do this because random can't output a floating point value"},{"type":"Comment","value":" Start another flash some random period of time in the future, but we want \"epic\" times only.  A short flash, a medium flash, and a long flash.","raw":"-- Start another flash some random period of time in the future, but we want \"epic\" times only.  A short flash, a medium flash, and a long flash."},{"type":"Comment","value":" (if we just set this as 0.1 to 10.0, double flashes would almost never happen)","raw":"-- (if we just set this as 0.1 to 10.0, double flashes would almost never happen)"},{"type":"Comment","value":" With that <=1, quick flashes are twice as likely as the othe flashes, for extra epicness","raw":"-- With that <=1, quick flashes are twice as likely as the othe flashes, for extra epicness"}]}