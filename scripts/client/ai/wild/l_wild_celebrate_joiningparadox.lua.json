{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"char"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1.267,"raw":"1.267"},{"type":"StringLiteral","value":"FaceAnim1","raw":"\"FaceAnim1\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":3.7,"raw":"3.7"},{"type":"StringLiteral","value":"WhiteFlash","raw":"\"WhiteFlash\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAnimationTime"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"idle","raw":"\"idle\""}}]}}},{"type":"StringLiteral","value":"Reset","raw":"\"Reset\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"WhiteFlash","raw":"\"WhiteFlash\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.00"},{"type":"NumericLiteral","value":0.2,"raw":"0.2"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.2,"raw":"0.2"},{"type":"StringLiteral","value":"EndFlash","raw":"\"EndFlash\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"EndFlash","raw":"\"EndFlash\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FadeEffect"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1,"raw":"1.0"},{"type":"NumericLiteral","value":0,"raw":"0.0"},{"type":"NumericLiteral","value":1.5,"raw":"1.5"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FaceAnim1","raw":"\"FaceAnim1\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFaceDecalAnimation"},"base":{"type":"Identifier","name":"char"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"Focused","raw":"\"Focused\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"useAllDecals"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":2.2,"raw":"2.2"},{"type":"StringLiteral","value":"FaceAnim2","raw":"\"FaceAnim2\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FaceAnim2","raw":"\"FaceAnim2\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFaceDecalAnimation"},"base":{"type":"Identifier","name":"char"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"Angry","raw":"\"Angry\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"useAllDecals"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1.3,"raw":"1.3"},{"type":"StringLiteral","value":"FaceAnim3","raw":"\"FaceAnim3\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FaceAnim3","raw":"\"FaceAnim3\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFaceDecalAnimation"},"base":{"type":"Identifier","name":"char"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"Shocked","raw":"\"Shocked\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"useAllDecals"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2.0"},{"type":"StringLiteral","value":"FaceAnim4","raw":"\"FaceAnim4\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FaceAnim4","raw":"\"FaceAnim4\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFaceDecalAnimation"},"base":{"type":"Identifier","name":"char"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"Frustrated","raw":"\"Frustrated\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"useAllDecals"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1.4,"raw":"1.4"},{"type":"StringLiteral","value":"FaceAnim5","raw":"\"FaceAnim5\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FaceAnim5","raw":"\"FaceAnim5\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFaceDecalAnimation"},"base":{"type":"Identifier","name":"char"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"Angry","raw":"\"Angry\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"useAllDecals"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Reset","raw":"\"Reset\""},"inParens":true},"body":[]}]}]}],"comments":[{"type":"Comment","value":" Turn off UI","raw":"-- Turn off UI"},{"type":"Comment","value":"UI:SendMessage( \"pushGameState\", {{\"state\", \"Celebration\" }} )","raw":"--UI:SendMessage( \"pushGameState\", {{\"state\", \"Celebration\" }} )"},{"type":"Comment","value":" Start Facial Animation","raw":"-- Start Facial Animation"},{"type":"Comment","value":" Play a white flash when Nexus Symbol hits Minifig","raw":"-- Play a white flash when Nexus Symbol hits Minifig"},{"type":"Comment","value":" Turn on UI","raw":"-- Turn on UI"},{"type":"Comment","value":"Start fade","raw":"--Start fade"},{"type":"Comment","value":"fades into white","raw":"--fades into white"},{"type":"Comment","value":" Fades from white to normal","raw":"-- Fades from white to normal"},{"type":"Comment","value":" Focused 0.1","raw":"-- Focused 0.1"},{"type":"Comment","value":" Angry 2.3","raw":"-- Angry 2.3"},{"type":"Comment","value":" Shocked 3.6","raw":"-- Shocked 3.6"},{"type":"Comment","value":" Frustrated 5.6","raw":"-- Frustrated 5.6"},{"type":"Comment","value":" Angry 7.0","raw":"-- Angry 7.0"},{"type":"Comment","value":" Reenable UI","raw":"-- Reenable UI"},{"type":"Comment","value":" UI:SendMessage( \"popGameState\", {{\"state\", \"Celebration\" }} )","raw":"-- UI:SendMessage( \"popGameState\", {{\"state\", \"Celebration\" }} )"}]}