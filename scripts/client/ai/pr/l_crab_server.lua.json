{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsPetWild"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsPetWild"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tamer","raw":"\"tamer\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetNetworkVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"crabtamer","raw":"\"crabtamer\""},{"type":"Identifier","name":"player"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":45,"raw":"45"},{"type":"StringLiteral","value":"killSelf","raw":"\"killSelf\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyPetTamingMinigame"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"notifyType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"BEGIN","raw":"\"BEGIN\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"killSelf","raw":"\"killSelf\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"notifyType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"QUIT","raw":"\"QUIT\"","inParens":true}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"notifyType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FAILED","raw":"\"FAILED\"","inParens":true}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"notifyType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"SUCCESS","raw":"\"SUCCESS\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"PlayerTamingID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CommandPet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iPetCommandType"},"value":{"type":"NumericLiteral","value":6,"raw":"6"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RemoveObjectFromGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"crab","raw":"\"crab\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"killSelf","raw":"\"killSelf\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsPetWild"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsPetWild"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Server side script on the crab pet","raw":"-- Server side script on the crab pet"},{"type":"Comment","value":" this script control the crab life before he is tamed by a player","raw":"-- this script control the crab life before he is tamed by a player"},{"type":"Comment","value":" created by Brandi... 2/17/10","raw":"-- created by Brandi... 2/17/10"},{"type":"Comment","value":" updated by Dallas    7/29/10 - fixed 'or' statement","raw":"-- updated by Dallas    7/29/10 - fixed 'or' statement"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if the pet is someones tamed pet, ignore the rest of the script","raw":"-- if the pet is someones tamed pet, ignore the rest of the script"},{"type":"Comment","value":"kill the lion after 2 minutes if the player who spawned it doesn't tame it","raw":"--kill the lion after 2 minutes if the player who spawned it doesn't tame it"},{"type":"Comment","value":"if the player begins the taming minigame, cancel the timer that kills the lion","raw":"--if the player begins the taming minigame, cancel the timer that kills the lion"},{"type":"Comment","value":"if the player fails or quits the minigame, kill the lion","raw":"--if the player fails or quits the minigame, kill the lion"},{"type":"Comment","value":"if the player succeeds in the minigame, command the lion to go to the player, otherwise he could teleport off ","raw":"--if the player succeeds in the minigame, command the lion to go to the player, otherwise he could teleport off "},{"type":"Comment","value":" because the minigame tells him to go to his spawn point, and he doesnt have one","raw":"-- because the minigame tells him to go to his spawn point, and he doesnt have one"},{"type":"Comment","value":" kill the lion if he's been alive for too long. Lions have a very short life span","raw":"-- kill the lion if he's been alive for too long. Lions have a very short life span"},{"type":"Comment","value":"double check not to kill a lion that is actually someones pet","raw":"--double check not to kill a lion that is actually someones pet"}]}