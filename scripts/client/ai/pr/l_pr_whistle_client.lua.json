{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":110,"raw":"110"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEventServerSide"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"StringLiteral","value":"unlockEmote","raw":"'unlockEmote'"}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":688,"raw":"688"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFlag"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":67,"raw":"67"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bFlag"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"group"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"lionstuff","raw":"\"lionstuff\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"group"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"v"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestPickTypeUpdate"},"base":{"type":"Identifier","name":"v"}},"arguments":[]}}]}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Client side script on Coalessa in pet rock","raw":"-- Client side script on Coalessa in pet rock"},{"type":"Comment","value":" this script checks the missions state and player flags","raw":"-- this script checks the missions state and player flags"},{"type":"Comment","value":" created by Brandi... 2/17/10","raw":"-- created by Brandi... 2/17/10"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print('onMissionDialogueOK ' .. msg.iMissionState .. ' - ' .. msg.missionID)","raw":"--print('onMissionDialogueOK ' .. msg.iMissionState .. ' - ' .. msg.missionID)"},{"type":"Comment","value":"checks if mission is tame a pet mission","raw":"--checks if mission is tame a pet mission"},{"type":"Comment","value":"if the player just accepted the mission, give them the pet taming emote","raw":"--if the player just accepted the mission, give them the pet taming emote"},{"type":"Comment","value":"print('unlocking emote')","raw":"--print('unlocking emote')"},{"type":"Comment","value":"have to send to a server script because the emotes cant be unlocked from the client","raw":"--have to send to a server script because the emotes cant be unlocked from the client"},{"type":"Comment","value":"if the mission is the tame every other pet in the game mission (more to be added to this later)","raw":"--if the mission is the tame every other pet in the game mission (more to be added to this later)"},{"type":"Comment","value":"*** once the pets have scripts on them to set the player flags when they are tamed, need to add a check to see","raw":"--*** once the pets have scripts on them to set the player flags when they are tamed, need to add a check to see"},{"type":"Comment","value":"\t  how many different pets the player has tamed to up date this mission","raw":"--\t  how many different pets the player has tamed to up date this mission"},{"type":"Comment","value":"if the player completed the mission set their flag on ","raw":"--if the player completed the mission set their flag on "},{"type":"Comment","value":"wont actually need this in the real game, the object to spawn the lion is in a different map","raw":"--wont actually need this in the real game, the object to spawn the lion is in a different map"}]}