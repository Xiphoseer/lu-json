{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_AvantGardens","raw":"'c_AvantGardens'"}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetInteractDistance"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"KIPPER_NPC_INTERACT_DISTANCE","raw":"\"KIPPER_NPC_INTERACT_DISTANCE\""}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddObjectToGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"Minimap_MissionGivers","raw":"\"Minimap_MissionGivers\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"InitializeChat"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetInteractDistance"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"dist"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"self"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"self"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"interactDistance","raw":"\"interactDistance\""},{"type":"Identifier","name":"dist"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCursorOn"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsMissionComplete"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPickType"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ePickType"},"value":{"type":"NumericLiteral","value":14,"raw":"14"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DisplayChat"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPickType"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ePickType"},"value":{"type":"NumericLiteral","value":4,"raw":"4"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsMissionComplete"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"player"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"player"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionState"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"KIPPER_MISSION_ID","raw":"\"KIPPER_MISSION_ID\""}}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"IsActiveMissionState"},"arguments":[{"type":"Identifier","name":"missionState"}],"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsActiveMissionState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"state"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":9,"raw":"9"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":10,"raw":"10"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"InitializeChat"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddInteraction"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"interactionText","raw":"\"interactionText\""},{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NIM_AG_KIPPER_MISSION_GIVER_VIGILANT","raw":"\"NPC_NIM_AG_KIPPER_MISSION_GIVER_VIGILANT\""}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddInteraction"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"interactionText","raw":"\"interactionText\""},{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NIM_AG_KIPPER_MISSION_GIVER_REPORTER","raw":"\"NPC_NIM_AG_KIPPER_MISSION_GIVER_REPORTER\""}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddInteraction"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"interactionText","raw":"\"interactionText\""},{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NIM_AG_KIPPER_MISSION_GIVER_NICE_WORK","raw":"\"NPC_NIM_AG_KIPPER_MISSION_GIVER_NICE_WORK\""}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddInteraction"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"interactionText","raw":"\"interactionText\""},{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NIM_AG_KIPPER_MISSION_GIVER_KNEW_YOU_COULD","raw":"\"NPC_NIM_AG_KIPPER_MISSION_GIVER_KNEW_YOU_COULD\""}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"AddInteraction"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"type"},{"type":"Identifier","name":"action"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"self"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"self"}},"arguments":[]},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"table"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"type"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"table"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"table"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"table"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"table"},"index":{"type":"Identifier","name":"num"}}],"init":[{"type":"Identifier","name":"action"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"type"},{"type":"Identifier","name":"table"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DisplayChat"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"texts"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"interactionText","raw":"\"interactionText\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"texts"},"right":{"type":"BinaryExpression","operator":">","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"texts"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"texts"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"texts"},"index":{"type":"Identifier","name":"num"}}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsMissionComplete"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"salute","raw":"\"salute\""}}]}}}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Startup","raw":"-- Startup"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" let the mini-map know that this NPC is a mission giver","raw":"-- let the mini-map know that this NPC is a mission giver"},{"type":"Comment","value":" remember what the NPC should say after the mission is finished","raw":"-- remember what the NPC should say after the mission is finished"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" sets the mouse over distance for interactions","raw":"-- sets the mouse over distance for interactions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" mouseover","raw":"-- mouseover"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" which cursor to use depends on whether the player has already finished the mission","raw":"-- which cursor to use depends on whether the player has already finished the mission"},{"type":"Comment","value":" PICK_LIST_INTERACTIVE","raw":"-- PICK_LIST_INTERACTIVE"},{"type":"Comment","value":" PICK_LIST_MISSION_NPC","raw":"-- PICK_LIST_MISSION_NPC"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" returns whether or not the player his completed the mission","raw":"-- returns whether or not the player his completed the mission"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if the mission is either available or active, then use the mission cursor","raw":"-- if the mission is either available or active, then use the mission cursor"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" returns whether or not the mission is still in progress ( or not started yet )","raw":"-- returns whether or not the mission is still in progress ( or not started yet )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" returns whether the given mission state should have a mission cursor","raw":"-- returns whether the given mission state should have a mission cursor"},{"type":"Comment","value":" LWO_MISSION_STATE_STATE_AVAILABLE","raw":"-- LWO_MISSION_STATE_STATE_AVAILABLE"},{"type":"Comment","value":" LWO_MISSION_STATE_STATE_ACTIVE","raw":"-- LWO_MISSION_STATE_STATE_ACTIVE"},{"type":"Comment","value":" LWO_MISSION_STATE_READY_TO_COMPLETE","raw":"-- LWO_MISSION_STATE_READY_TO_COMPLETE"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" remember the chat bubble messages used if the NPC is clicked on after the mission is finished","raw":"-- remember the chat bubble messages used if the NPC is clicked on after the mission is finished"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" you can find the text for these in client \\ locale \\ translation.xml","raw":"-- you can find the text for these in client \\ locale \\ translation.xml"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" adds an interaction, possible types include:","raw":"-- adds an interaction, possible types include:"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" mouseOverEffect, mouseOverAnim, mouseOverText, ","raw":"-- mouseOverEffect, mouseOverAnim, mouseOverText, "},{"type":"Comment","value":" interactionEffect, interactionAnim, interactionText, ","raw":"-- interactionEffect, interactionAnim, interactionText, "},{"type":"Comment","value":" proximityEffect, proximityAnim, proximityText, ","raw":"-- proximityEffect, proximityAnim, proximityText, "},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" init table if need to","raw":"-- init table if need to"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" pop up a chat bubble recognizing that the player finished the mission","raw":"-- pop up a chat bubble recognizing that the player finished the mission"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" display random chat","raw":"-- display random chat"},{"type":"Comment","value":" get a random text","raw":"-- get a random text"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" handle client use (click)","raw":"-- handle client use (click)"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"}]}