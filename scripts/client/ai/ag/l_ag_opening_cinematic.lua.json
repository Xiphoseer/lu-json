{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"cinemaName"}],"init":[{"type":"StringLiteral","value":"Flythrough","raw":"'Flythrough'"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"npcCam"}],"init":[{"type":"StringLiteral","value":"LookAtFirstNPC","raw":"\"LookAtFirstNPC\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"finishCam"}],"init":[{"type":"StringLiteral","value":"LookAtBob","raw":"\"LookAtBob\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tutDelay"}],"init":[{"type":"StringLiteral","value":"2","raw":"'2'"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"NumericLiteral","value":1727,"raw":"1727"}}]}}},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"StringLiteral","value":"PUSH","raw":"\"PUSH\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantMove"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantTurn"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantAttack"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantEquip"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantInteract"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"Identifier","name":"cinemaName"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"lockPlayer"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"pushGameState","raw":"\"pushGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"cinematic","raw":"\"cinematic\""}}]}}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyCinematicUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"zoneObj"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"event"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENDED","raw":"\"ENDED\""}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pathName"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"cinemaName"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"zoneObj"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"StringLiteral","value":"POP","raw":"\"POP\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantInteract"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"StringLiteral","value":"lookAt","raw":"\"lookAt\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pathName"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"finishCam"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetStunned"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"StateChangeType"},"value":{"type":"StringLiteral","value":"POP","raw":"\"POP\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantMove"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantTurn"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantAttack"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantEquip"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bCantInteract"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"tutDelay"},{"type":"StringLiteral","value":"displayWASD","raw":"\"displayWASD\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationCancel"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"zoneObj"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"lookAt","raw":"\"lookAt\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendMessage"},"base":{"type":"Identifier","name":"UI"}},"arguments":[{"type":"StringLiteral","value":"popGameState","raw":"\"popGameState\""},{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"state","raw":"\"state\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"cinematic","raw":"\"cinematic\""}}]}}]}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"HandleInteractionCamera"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsCameraPath"},"value":{"type":"Identifier","name":"npcCam"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"actionType"},"value":{"type":"StringLiteral","value":"ACTION_TYPE_TRANSISTION","raw":"\"ACTION_TYPE_TRANSISTION\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"CinematicUpdate","raw":"\"CinematicUpdate\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"displayWASD","raw":"\"displayWASD\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Help"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iHelpID"},"value":{"type":"NumericLiteral","value":6,"raw":"6"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":" Script that can be attached to a trigger volume to play the opening cinematic","raw":"-- Script that can be attached to a trigger volume to play the opening cinematic"},{"type":"Comment","value":" on the space ship.","raw":"-- on the space ship."},{"type":"Comment","value":" Updated 7/13/11 mrb... using handleInteractionCamera instead of playCinematic","raw":"-- Updated 7/13/11 mrb... using handleInteractionCamera instead of playCinematic"},{"type":"Comment","value":"//////////////////////////////////////////////////////////////////////////////////","raw":"--//////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" name of cinematic in HF","raw":"-- name of cinematic in HF"},{"type":"Comment","value":" time after player is released from cinematic before displaying the wasd tut","raw":"-- time after player is released from cinematic before displaying the wasd tut"},{"type":"Comment","value":"////////////////////////////////////////////////////////////////////////////////// 1727","raw":"--////////////////////////////////////////////////////////////////////////////////// 1727"},{"type":"Comment","value":" Don't do this unless it's the local player","raw":"-- Don't do this unless it's the local player"},{"type":"Comment","value":" freeze player and play cinematic and sounds\t\t","raw":"-- freeze player and play cinematic and sounds\t\t"},{"type":"Comment","value":" play the cinematic, but dont lock the player","raw":"-- play the cinematic, but dont lock the player"},{"type":"Comment","value":" request notification from the player when the cinematic is done","raw":"-- request notification from the player when the cinematic is done"},{"type":"Comment","value":" change ui state to CinematicBars","raw":"-- change ui state to CinematicBars"},{"type":"Comment","value":" if the cinematic isn't ending then do nothings","raw":"-- if the cinematic isn't ending then do nothings"},{"type":"Comment","value":" cancel notification","raw":"-- cancel notification"},{"type":"Comment","value":" start look at timer","raw":"-- start look at timer"},{"type":"Comment","value":" recieved from the onAccept camera from the first mission","raw":"-- recieved from the onAccept camera from the first mission"},{"type":"Comment","value":" remove the stunned state","raw":"-- remove the stunned state"},{"type":"Comment","value":" display tooltip timer","raw":"-- display tooltip timer"},{"type":"Comment","value":" cancel notification","raw":"-- cancel notification"},{"type":"Comment","value":" change ui state to normal","raw":"-- change ui state to normal"},{"type":"Comment","value":" play the cinematic, this message also hides any players and npcs nearby the target ID","raw":"-- play the cinematic, this message also hides any players and npcs nearby the target ID"}]}