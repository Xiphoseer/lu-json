{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"bounceObj"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"target"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vecString"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bouncer_destination","raw":"\"bouncer_destination\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"posX"},{"type":"Identifier","name":"posY"},{"type":"Identifier","name":"posZ"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"match"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"vecString"},{"type":"StringLiteral","value":"(%p?%w+%p?%w+)\\031(%p?%w+%p?%w+)\\031(%p?%w+%p?%w+)","raw":"\"(%p?%w+%p?%w+)\\031(%p?%w+%p?%w+)\\031(%p?%w+%p?%w+)\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"speed"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bouncer_speed","raw":"\"bouncer_speed\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vec"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"Identifier","name":"posX"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"Identifier","name":"posY"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"Identifier","name":"posZ"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"onbounce","raw":"\"onbounce\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"onbounce","raw":"\"onbounce\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"priority"},"value":{"type":"NumericLiteral","value":1.1,"raw":"1.1"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"BouncePlayer"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"niDestPt"},"value":{"type":"Identifier","name":"vec"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fSpeed"},"value":{"type":"Identifier","name":"speed"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDBouncer"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsInFaction"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"BelongsToFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"factionID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}}]}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pet"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPetID"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"pet"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"pet"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyPet"},"base":{"type":"Identifier","name":"pet"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSource"},"value":{"type":"Identifier","name":"target"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjToNotifyPetAbout"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iPetNotificationType"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}}]}]}]}]}]}],"comments":[{"type":"Comment","value":"require this script to gain access to this function that allows bouncer behavior","raw":"--require this script to gain access to this function that allows bouncer behavior"},{"type":"Comment","value":" Parse the vector3 from the level file into three floats","raw":"-- Parse the vector3 from the level file into three floats"},{"type":"Comment","value":"UI:SendChat{ChatString = vecString, ChatType = \"LOCAL\", Timestamp = 500}","raw":"--UI:SendChat{ChatString = vecString, ChatType = \"LOCAL\", Timestamp = 500}"},{"type":"Comment","value":" Create a vector in Lua to pass in message","raw":"-- Create a vector in Lua to pass in message"},{"type":"Comment","value":" If player has used a bouncer, and they have a pet, notify the pet about the bounce.","raw":"-- If player has used a bouncer, and they have a pet, notify the pet about the bounce."},{"type":"Comment","value":" Let pet know player has used a bouncer","raw":"-- Let pet know player has used a bouncer"}]}