{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_NimbusPark","raw":"'c_NimbusPark'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"client/ai/NP/L_NP_NPC","raw":"'client/ai/NP/L_NP_NPC'"}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"registerWithZoneControlObject"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"IsPlayerInCourse","raw":"\"IsPlayerInCourse\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerBestTime","raw":"\"PlayerBestTime\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetProximityDistance"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NumericLiteral","value":20,"raw":"20"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddInteraction"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"proximityText","raw":"\"proximityText\""},{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NP_AMB_TALK_TO_ME_TO_START_THE_COURSE","raw":"\"NPC_NP_AMB_TALK_TO_ME_TO_START_THE_COURSE\""}]}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"IsPlayerInCourse","raw":"\"IsPlayerInCourse\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"StringLiteral","value":"","raw":"\"\""}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerBestTime","raw":"\"PlayerBestTime\""}]}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"strText"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_NP_AMB_YOUR_BEST_TIME","raw":"\"NPC_NP_AMB_YOUR_BEST_TIME\""}]},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":": ","raw":"\": \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"ParseTime"},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerBestTime","raw":"\"PlayerBestTime\""}]}]},"right":{"type":"StringLiteral","value":"\n\n","raw":"\"\\n\\n\""}}}}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"strText"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"COURSE_STARTER_OFFER_TEXT","raw":"\"COURSE_STARTER_OFFER_TEXT\""}},"right":{"type":"StringLiteral","value":"\n","raw":"\"\\n\""}}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"Identifier","name":"strText"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"Course_Start","raw":"\"Course_Start\""}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"COURSE_STARTER_ACTIVE_TEXT","raw":"\"COURSE_STARTER_ACTIVE_TEXT\""}}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sender"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Course_Start","raw":"\"Course_Start\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"scene_4_course_start","raw":"\"scene_4_course_start\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"COURSE_STARTER_ACTIVE_TEXT","raw":"\"COURSE_STARTER_ACTIVE_TEXT\""}}}]}}}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" (CLIENT SIDE) Obstacle Course Starter NPC","raw":"-- (CLIENT SIDE) Obstacle Course Starter NPC"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":" Starts the course for the player","raw":"-- Starts the course for the player"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Startup of the object","raw":"-- Startup of the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" register ourself to be instructed later","raw":"-- register ourself to be instructed later"},{"type":"Comment","value":" @TODO: change to leaderboard at somepoint","raw":"-- @TODO: change to leaderboard at somepoint"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Happens on client interaction","raw":"-- Happens on client interaction"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" is player in course?","raw":"-- is player in course?"},{"type":"Comment","value":" show the summary message box","raw":"-- show the summary message box"},{"type":"Comment","value":" Actions for already being in course","raw":"-- Actions for already being in course"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent from a player when responding from a messagebox","raw":"-- Sent from a player when responding from a messagebox"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" make sure this was from the local character","raw":"-- make sure this was from the local character"},{"type":"Comment","value":" user wants to start the course","raw":"-- user wants to start the course"},{"type":"Comment","value":" tell the zone object about it\t","raw":"-- tell the zone object about it\t"}]}