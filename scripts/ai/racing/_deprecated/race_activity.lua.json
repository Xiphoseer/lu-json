{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetupActivity"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"nMaxUsers"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetActivityParams"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"modifyMaxUsers"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"maxUsers"},"value":{"type":"Identifier","name":"nMaxUsers"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"modifyActivityActive"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"activityActive"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsPlayerInActivity"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"existMsg"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityUserExists"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"existMsg","inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bExists"},"base":{"type":"Identifier","name":"existMsg"}}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"AddPlayerAndCarToActivity"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"carID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"player","inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objType"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetType"},"base":{"type":"Identifier","name":"carID"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},"right":{"type":"StringLiteral","value":"Vehicle","raw":"\"Vehicle\""},"inParens":true}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsPlayerInActivity"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}]}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddActivityUser"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"controlledID"},"value":{"type":"Identifier","name":"carID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"player","inParens":true},"right":{"type":"Identifier","name":"carID","inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":0,"raw":"0"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateActivityValue"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"valueIndex"},{"type":"Identifier","name":"valueVar"},{"type":"Identifier","name":"carID"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newValue"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"Identifier","name":"valueIndex"}}]}}},"right":{"type":"Identifier","name":"valueVar"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"valueIndex"},{"type":"Identifier","name":"newValue"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetActivityValue"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"valueIndex"},{"type":"Identifier","name":"valueVar"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"carID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"CarID","raw":"\"CarID\""}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"controlledID"},"value":{"type":"Identifier","name":"carID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"Identifier","name":"valueIndex"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"valueVar"}]}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetActivityValue"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"valueIndex"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"Identifier","name":"valueIndex"}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"StopActivity"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"scoreVar"},{"type":"Identifier","name":"value1Var"},{"type":"Identifier","name":"value2Var"},{"type":"Identifier","name":"quit"},{"type":"Identifier","name":"carID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"quit"},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RemoveActivityUser"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"Identifier","name":"scoreVar"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"value1Var"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"Identifier","name":"scoreVar"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"value2Var"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"Identifier","name":"scoreVar"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"self","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"Identifier","name":"scoreVar"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"value1Var"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"Identifier","name":"value1Var"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"value2Var"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"Identifier","name":"value2Var"}]}}]}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DistributeActivityRewards"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bAutoAddCurrency"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bAutoAddItems"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UpdateActivityLeaderboard"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"reward"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityReward"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"playerID"},"value":{"type":"Identifier","name":"player"}}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem1Image"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem1Image"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem1Name"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem1Name"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem1StackSize"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem1StackSize"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem2Image"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem2Image"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem2Name"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem2Name"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardItem2StackSize"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardItem2StackSize"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardMoney"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rewardMoney"},"base":{"type":"Identifier","name":"reward"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rewardString"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardMoney"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardItem1Name"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardItem1Image"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardItem1StackSize"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardItem2Name"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"rewardItem2Image"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"Identifier","name":"rewardItem1StackSize"}}}}}}}}}}}}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"RewardPlayer","raw":"\"RewardPlayer\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramStr"},"value":{"type":"Identifier","name":"rewardString"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetLeaderboardData"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"activityID"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestActivitySummaryLeaderboardData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"user"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"queryType"},"value":{"type":"NumericLiteral","value":7,"raw":"7"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"gameID"},"value":{"type":"Identifier","name":"activityID"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDoCalculateActivityRating"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outActivityRating"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":84,"raw":"84"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRacingPlayerRankChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"oldRank"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"oldRank"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newRank"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"newRank"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"carID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"CarID","raw":"\"CarID\""}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"controlledID"},"value":{"type":"Identifier","name":"carID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"Identifier","name":"oldRank"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRacingPlayerCrossedFinishLine"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"oldlap"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"oldLap"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newLap"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"newLap"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PlayerPos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"LapScore"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"LapScore"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Number_of_Laps","raw":"\"Set.Number_of_Laps\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"car"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"CarID","raw":"\"CarID\""}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"VehicleLockInput"},"base":{"type":"Identifier","name":"car"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bLockWheels"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ServerActivityTimers"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"StringLiteral","value":"StartNewLapTime","raw":"\"StartNewLapTime\""},{"type":"BooleanLiteral","value":true,"raw":"true"},{"type":"Identifier","name":"pos"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"ActivityTimers","raw":"\"ActivityTimers\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramStr"},"value":{"type":"StringLiteral","value":"StartNewLapTime,true","raw":"\"StartNewLapTime,true\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param2"},"value":{"type":"Identifier","name":"oldlap"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ServerActivityTimers"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"StringLiteral","value":"StartNewLapTime","raw":"\"StartNewLapTime\""},{"type":"BooleanLiteral","value":false,"raw":"false"},{"type":"Identifier","name":"PlayerPos"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"ActivityTimers","raw":"\"ActivityTimers\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramStr"},"value":{"type":"StringLiteral","value":"StartNewLapTime,false","raw":"\"StartNewLapTime,false\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param2"},"value":{"type":"Identifier","name":"oldlap"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRacingPlayerWrongWayStatusChanged"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"way"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bGoingWrongWay"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"way","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"WrongWayTrue","raw":"\"WrongWayTrue\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"WrongWayFalse","raw":"\"WrongWayFalse\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Sets up an activity of the object, only need to put in variable you want to change","raw":"-- Sets up an activity of the object, only need to put in variable you want to change"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" set max users to something high","raw":"-- set max users to something high"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Returns true/false if a player is in the activity","raw":"-- Returns true/false if a player is in the activity"},{"type":"Comment","value":" takes self and a PLAYER object","raw":"-- takes self and a PLAYER object"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" check if player is in activity","raw":"-- check if player is in activity"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Add Player and Car to activity: Object","raw":"-- Add Player and Car to activity: Object"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" adds the valueVar to the existing value of the index for the ","raw":"-- adds the valueVar to the existing value of the index for the "},{"type":"Comment","value":" player in the activity ","raw":"-- player in the activity "},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Stores a vaariable for the player in the activity","raw":"-- Stores a vaariable for the player in the activity"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Gets the value of the activity index for the player","raw":"-- Gets the value of the activity index for the player"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" StopActivity message","raw":"-- StopActivity message"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" user is trying to cancel","raw":"-- user is trying to cancel"},{"type":"Comment","value":" remove the user from activity","raw":"-- remove the user from activity"},{"type":"Comment","value":"------------------------------------------------------------------","raw":"--------------------------------------------------------------------"},{"type":"Comment","value":" distribute rewards  ","raw":"-- distribute rewards  "},{"type":"Comment","value":"------------------------------------------------------------------     ","raw":"--------------------------------------------------------------------     "},{"type":"Comment","value":" debug in C++   ","raw":"-- debug in C++   "},{"type":"Comment","value":" Update Leaderboards for this user","raw":"-- Update Leaderboards for this user"},{"type":"Comment","value":" remove the user from activity","raw":"-- remove the user from activity"},{"type":"Comment","value":"self:RemoveActivityUser{ userID = player } ","raw":"--self:RemoveActivityUser{ userID = player } "},{"type":"Comment","value":"- Update reward UI ( send vars to client )","raw":"--- Update reward UI ( send vars to client )"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" GetLeaderboard Data message","raw":"-- GetLeaderboard Data message"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" get the leaderboard data for the user and update summary screen if it exists","raw":"-- get the leaderboard data for the user and update summary screen if it exists"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Calculate the activity rating","raw":"-- Calculate the activity rating"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"  Sent to the racing control object when a player's rank in the race has changed.","raw":"--  Sent to the racing control object when a player's rank in the race has changed."},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"  player crosses the finish line.","raw":"--  player crosses the finish line."},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"  Driver Completed the Race","raw":"--  Driver Completed the Race"},{"type":"Comment","value":"  Lock Brake","raw":"--  Lock Brake"},{"type":"Comment","value":"  Flag to Completed","raw":"--  Flag to Completed"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"  Driver Crossed Finish Line Race not yet Completed","raw":"--  Driver Crossed Finish Line Race not yet Completed"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"   Lets racing control object know when a player has left the track's ","raw":"--   Lets racing control object know when a player has left the track's "},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"function onRacingPlayerOutOfTrackBounds(self, msg)","raw":"--function onRacingPlayerOutOfTrackBounds(self, msg)"},{"type":"Comment","value":"\t\tlocal player = msg.playerID","raw":"--\t\tlocal player = msg.playerID"},{"type":"Comment","value":"\t\tlocal carID = getObjectByName(self, player:GetName().name..\"CarID\")","raw":"--\t\tlocal carID = getObjectByName(self, player:GetName().name..\"CarID\")"},{"type":"Comment","value":"\t\t if (carID:VehicleCanWreck().bCanWreck == true) then","raw":"--\t\t if (carID:VehicleCanWreck().bCanWreck == true) then"},{"type":"Comment","value":"\t\t\t\tcarID:Die{ killType = \"VIOLENT\" }   ","raw":"--\t\t\t\tcarID:Die{ killType = \"VIOLENT\" }   "},{"type":"Comment","value":"\t\t end","raw":"--\t\t end"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"   Message to script Player is heading the wrong way","raw":"--   Message to script Player is heading the wrong way"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"}]}