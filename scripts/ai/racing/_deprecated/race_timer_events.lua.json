{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ServerActivityTimers"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"name"},{"type":"Identifier","name":"endRace"},{"type":"Identifier","name":"place"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerName"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"StringLiteral","value":"StartTotalTime","raw":"\"StartTotalTime\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerSet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"updateInterval"},"value":{"type":"NumericLiteral","value":0.1,"raw":"0.1"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerSet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LapTime","raw":"\"_LapTime\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"updateInterval"},"value":{"type":"NumericLiteral","value":0.1,"raw":"0.1"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"StringLiteral","value":"StartNewLapTime","raw":"\"StartNewLapTime\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Ltime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"format"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"StringLiteral","value":"%g","raw":"\"%g\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"timeElapsed"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerGet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LapTime","raw":"\"_LapTime\""}}}]}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Laptime"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"timeElapsed"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerGet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LapTime","raw":"\"_LapTime\""}}}]}}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"MiliSec"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"gsub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"format"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"StringLiteral","value":"%f","raw":"\"%f\""},{"type":"Identifier","name":"Laptime"}]},{"type":"StringLiteral","value":".","raw":"\".\""},{"type":"StringLiteral","value":"|","raw":"\"|\""},{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"NumericLiteral","value":3,"raw":"3"},{"type":"NumericLiteral","value":3,"raw":"3"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"LapNumber"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"MiliSec","inParens":true}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MiliSec"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"NumericLiteral","value":5,"raw":"5"}]}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"LapTime_","raw":"\"LapTime_\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Current_Lap","raw":"\"Set.Current_Lap\""}]}},{"type":"Identifier","name":"Laptime"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastTime","raw":"\"_LastTime\""}}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastTime","raw":"\"_LastTime\""}},{"type":"Identifier","name":"Laptime"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastMili","raw":"\"_LastMili\""}},{"type":"Identifier","name":"MiliSec"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_float_BestLap","raw":"\"_float_BestLap\""}},{"type":"Identifier","name":"Laptime"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastTime","raw":"\"_LastTime\""}}]},"right":{"type":"Identifier","name":"Laptime"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastTime","raw":"\"_LastTime\""}},{"type":"Identifier","name":"Laptime"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LastMili","raw":"\"_LastMili\""}},{"type":"Identifier","name":"MiliSec"}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"ShowLapTime","raw":"\"ShowLapTime\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"Identifier","name":"Laptime"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param2"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"MiliSec"}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerStop"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LapTime","raw":"\"_LapTime\""}}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"LapNumber","raw":"\"LapNumber\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"Identifier","name":"LapNumber"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"endRace"},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerSet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_LapTime","raw":"\"_LapTime\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"updateInterval"},"value":{"type":"NumericLiteral","value":0.1,"raw":"0.1"}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"endRace"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"timeElapsed"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerGet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}}}]}}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_float_TotalTime","raw":"\"_float_TotalTime\""}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"timeElapsed"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerGet"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}}}]}}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"finalPos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"BestTime"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"SecondsToClock"},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"_LastTime","raw":"\"_LastTime\""}}]}]},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":":0","raw":"\":0\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"_LastMili","raw":"\"_LastMili\""}}]}}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"TotalTimer"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"","raw":"\"\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"Identifier","name":"SecondsToClock"},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}}]}]},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":":0","raw":"\":0\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"_LastMili","raw":"\"_LastMili\""}}]},"right":{"type":"StringLiteral","value":"","raw":"\"\""}}}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAllActivityUsers"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"finalPos"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ActivityTimerStop"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTime","raw":"\"_TotalTime\""}}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"playerFinished"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"","raw":"\"\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"BestTime"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"TotalTimer"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":",","raw":"\",\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"finalPos"},"right":{"type":"StringLiteral","value":"","raw":"\"\""}}}}}}}}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RacingPlayerEvent"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"eventType"},"value":{"type":"StringLiteral","value":"FINISHED_RACE","raw":"\"FINISHED_RACE\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"playerID"},"value":{"type":"Identifier","name":"player"}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"name"},"right":{"type":"StringLiteral","value":"EndRace","raw":"\"EndRace\""}},"body":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"playerFinished"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"dTimes"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerName"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"final"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"split"},"arguments":[{"type":"Identifier","name":"dTimes"},{"type":"StringLiteral","value":",","raw":"\",\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_Stats","raw":"\"_Stats\""}},{"type":"StringLiteral","value":"Finished","raw":"\"Finished\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_Name","raw":"\"_Name\""}},{"type":"IndexExpression","base":{"type":"Identifier","name":"final"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_BestTime","raw":"\"_BestTime\""}},{"type":"IndexExpression","base":{"type":"Identifier","name":"final"},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_TotalTimer","raw":"\"_TotalTimer\""}},{"type":"IndexExpression","base":{"type":"Identifier","name":"final"},"index":{"type":"NumericLiteral","value":3,"raw":"3"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_finalPos","raw":"\"_finalPos\""}},{"type":"IndexExpression","base":{"type":"Identifier","name":"final"},"index":{"type":"NumericLiteral","value":4,"raw":"4"}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Driver_Finished","raw":"\"Driver_Finished\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"RaceFinishHideUI","raw":"\"RaceFinishHideUI\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"place_","raw":"\"place_\""},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"final"},"index":{"type":"NumericLiteral","value":4,"raw":"4"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramStr"},"value":{"type":"Identifier","name":"dTimes"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"Fline","raw":"\"Fline\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"rewardPlayer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"pos"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"rewardPlayer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerName"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bestLap"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_float_BestLap","raw":"\"_float_BestLap\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"TotalTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"playerName"},"right":{"type":"StringLiteral","value":"_float_TotalTime","raw":"\"_float_TotalTime\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"CarID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"CarID","raw":"\"CarID\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pos"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outValue"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUserData"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"typeIndex"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"Identifier","name":"TotalTime"},{"type":"Identifier","name":"CarID"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateActivityValue"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"Identifier","name":"pos"},{"type":"Identifier","name":"CarID"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"StopActivity"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"TotalTime"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"NumericLiteral","value":0,"raw":"0"},{"type":"BooleanLiteral","value":false,"raw":"false"},{"type":"Identifier","name":"CarID"}]}}]}],"comments":[{"type":"Comment","value":" Start Timers ","raw":"-- Start Timers "},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"   Start a new Lap with timers","raw":"--   Start a new Lap with timers"},{"type":"Comment","value":"   Get time Vars","raw":"--   Get time Vars"},{"type":"Comment","value":"   Saves Lap time in a Table with best Lap","raw":"--   Saves Lap time in a Table with best Lap"},{"type":"Comment","value":"   Start a new lap time","raw":"--   Start a new lap time"},{"type":"Comment","value":"   Update Clients GUI with times","raw":"--   Update Clients GUI with times"},{"type":"Comment","value":"------------------------------------------------------------------------------------- ","raw":"--------------------------------------------------------------------------------------- "},{"type":"Comment","value":" Store Lap Time","raw":"-- Store Lap Time"},{"type":"Comment","value":" Store Table Lap Time for Best Time -- ","raw":"-- Store Table Lap Time for Best Time -- "},{"type":"Comment","value":"print(\"Lap Time Set too  \".. Laptime )","raw":"--print(\"Lap Time Set too  \".. Laptime )"},{"type":"Comment","value":"print(\"New Best Time  \".. Laptime )","raw":"--print(\"New Best Time  \".. Laptime )"},{"type":"Comment","value":" Show Lap Time to Driver\t\t","raw":"-- Show Lap Time to Driver\t\t"},{"type":"Comment","value":" Stop Timer","raw":"-- Stop Timer"},{"type":"Comment","value":" Update Lap Number","raw":"-- Update Lap Number"},{"type":"Comment","value":" ReStart Timer","raw":"-- ReStart Timer"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"   Completed Race","raw":"--   Completed Race"},{"type":"Comment","value":"-------------------------------------------------------------------------------------  ","raw":"---------------------------------------------------------------------------------------  "},{"type":"Comment","value":" if one player mark a 1st place --","raw":"-- if one player mark a 1st place --"},{"type":"Comment","value":" Set Player Pos","raw":"-- Set Player Pos"},{"type":"Comment","value":" notify the racing control component - this player has finished the race","raw":"-- notify the racing control component - this player has finished the race"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"   Driver Finished Save Stats to Server and Client","raw":"--   Driver Finished Save Stats to Server and Client"},{"type":"Comment","value":"------------------------------------------------------------------------------------- ","raw":"--------------------------------------------------------------------------------------- "},{"type":"Comment","value":" Save Player Race Stats","raw":"-- Save Player Race Stats"},{"type":"Comment","value":" Notify Client Player Finished --","raw":"-- Notify Client Player Finished --"},{"type":"Comment","value":" Hide Boost -- Hide Gage -- Hide Stats -- *GUI*","raw":"-- Hide Boost -- Hide Gage -- Hide Stats -- *GUI*"},{"type":"Comment","value":" Set Timer to Update other Drivers","raw":"-- Set Timer to Update other Drivers"},{"type":"Comment","value":"-------------------------------------------------------------------------------------","raw":"---------------------------------------------------------------------------------------"},{"type":"Comment","value":"  Reward Player","raw":"--  Reward Player"},{"type":"Comment","value":"------------------------------------------------------------------------------------- ","raw":"--------------------------------------------------------------------------------------- "},{"type":"Comment","value":"UpdateActivityValue(self,player, 3, pos       , CarID)","raw":"--UpdateActivityValue(self,player, 3, pos       , CarID)"}]}