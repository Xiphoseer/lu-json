{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"CONSTANTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"IMPACT_SKILLID","raw":"\"IMPACT_SKILLID\""}}],"init":[{"type":"NumericLiteral","value":34,"raw":"34"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PROJECTILE_TEMPLATEID","raw":"\"PROJECTILE_TEMPLATEID\""}}],"init":[{"type":"NumericLiteral","value":1822,"raw":"1822"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_PLAYER_OFFSET","raw":"\"CANNON_PLAYER_OFFSET\""}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"NumericLiteral","value":6.652,"raw":"6.652"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":5.716,"raw":"5.716"}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_VELOCITY","raw":"\"CANNON_VELOCITY\""}}],"init":[{"type":"NumericLiteral","value":129,"raw":"129.0"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_MIN_DISTANCE","raw":"\"CANNON_MIN_DISTANCE\""}}],"init":[{"type":"NumericLiteral","value":20,"raw":"20.0"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_REFIRE_RATE","raw":"\"CANNON_REFIRE_RATE\""}}],"init":[{"type":"NumericLiteral","value":800,"raw":"800.0"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_BARREL_OFFSET","raw":"\"CANNON_BARREL_OFFSET\""}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":4.3,"raw":"4.3"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"NumericLiteral","value":9,"raw":"9"}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_TIMEOUT","raw":"\"CANNON_TIMEOUT\""}}],"init":[{"type":"NumericLiteral","value":64,"raw":"64.0"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"vec"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"initVelVec","raw":"\"initVelVec\""},{"type":"Identifier","name":"vec"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetShootingGalleryParams"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"playerPosOffset"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_PLAYER_OFFSET","raw":"\"CANNON_PLAYER_OFFSET\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"projectileVelocity"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_VELOCITY","raw":"\"CANNON_VELOCITY\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"cooldown"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_REFIRE_RATE","raw":"\"CANNON_REFIRE_RATE\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"muzzlePosOffset"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_BARREL_OFFSET","raw":"\"CANNON_BARREL_OFFSET\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"minDistance"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_MIN_DISTANCE","raw":"\"CANNON_MIN_DISTANCE\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"timeLimit"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CANNON_TIMEOUT","raw":"\"CANNON_TIMEOUT\""}}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ImpactSkillID","raw":"\"ImpactSkillID\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"IMPACT_SKILLID","raw":"\"IMPACT_SKILLID\""}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ObjectLoaded"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"templateID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"getActivityUser"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"targetID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"userID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetActivityUser"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"targetID"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"targetID"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"NilLiteral","value":null,"raw":"nil"}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"targetID"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PROJECTILE_TEMPLATEID","raw":"\"PROJECTILE_TEMPLATEID\""}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"ballObj"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"skill"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ImpactSkillID","raw":"\"ImpactSkillID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"ballObj","inParens":true},"right":{"type":"CallExpression","base":{"type":"Identifier","name":"getActivityUser"},"arguments":[{"type":"Identifier","name":"self"}],"inParens":true}},"right":{"type":"Identifier","name":"skill","inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"ballObj"}},"arguments":[{"type":"StringLiteral","value":"My_Faction","raw":"\"My_Faction\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getActivityUser"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":[]}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetActiveProjectileSkill"},"base":{"type":"Identifier","name":"ballObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"Identifier","name":"skill"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vec"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"initVelVec","raw":"\"initVelVec\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProjectileParams"},"base":{"type":"Identifier","name":"ballObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"initVel"},"value":{"type":"Identifier","name":"vec"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iProjectileType"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fLifeTime"},"value":{"type":"NumericLiteral","value":10,"raw":"10.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onShootingGalleryFire"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"params"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CalculateFiringParameters"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetPos"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"targetPos"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bUseHighArc"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"vec"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outVelVector"},"base":{"type":"Identifier","name":"params"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"vec"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"initVelVec","raw":"\"initVelVec\""},{"type":"Identifier","name":"vec"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnPos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outSpawnPos"},"base":{"type":"Identifier","name":"params"}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PROJECTILE_TEMPLATEID","raw":"\"PROJECTILE_TEMPLATEID\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"spawnPos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"spawnPos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"spawnPos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"onfire","raw":"\"onfire\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"onfire2","raw":"\"onfire2\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getActivityUser"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"SG-fire","raw":"\"SG-fire\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ShootingGalleryFire"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetFaction"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"getActivityUser"},"arguments":[{"type":"Identifier","name":"self"}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getActivityUser"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":[]}}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDoCalculateActivityRating"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newMsg"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DoCalculateActivityRating"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fValue1"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fValue1"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fValue2"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fValue2"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fValue3"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fValue3"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fValue4"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fValue4"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fValue5"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fValue5"},"base":{"type":"Identifier","name":"msg"}}}]}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outActivityRating"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"outActivityRating"},"base":{"type":"Identifier","name":"newMsg"}}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRequestActivityStartStop"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestActivityStartStop"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bStart"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bStart"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"userID"},"base":{"type":"Identifier","name":"msg"}}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRequestActivityExit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestActivityExit"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bUserCancel"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bUserCancel"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"userID"},"base":{"type":"Identifier","name":"msg"}}}]}}}]}],"comments":[{"type":"Comment","value":"L_ACT_CANNON.lua","raw":"--L_ACT_CANNON.lua"},{"type":"Comment","value":" Server Side","raw":"-- Server Side"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Constants","raw":"-- Constants"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Default Skill ID for the projectile","raw":"-- Default Skill ID for the projectile"},{"type":"Comment","value":" template for the projectile","raw":"-- template for the projectile"},{"type":"Comment","value":" offset to place the player during the activity","raw":"-- offset to place the player during the activity"},{"type":"Comment","value":" velocity of the projectile","raw":"-- velocity of the projectile"},{"type":"Comment","value":" max distance = (v^2 / g) where v = velocity and g = the effect of gravity from the database.","raw":"-- max distance = (v^2 / g) where v = velocity and g = the effect of gravity from the database."},{"type":"Comment","value":" original value = 100.  changed to 140","raw":"-- original value = 100.  changed to 140"},{"type":"Comment","value":" Minimum distance that the cannon can hit","raw":"-- Minimum distance that the cannon can hit"},{"type":"Comment","value":" cooldown time for firing","raw":"-- cooldown time for firing"},{"type":"Comment","value":" muzzle offset","raw":"-- muzzle offset"},{"type":"Comment","value":" cannon time out for activity","raw":"-- cannon time out for activity"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Startup","raw":"-- Startup"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" default the instance vars","raw":"-- default the instance vars"},{"type":"Comment","value":" set the parameters of the shooting gallery","raw":"-- set the parameters of the shooting gallery"},{"type":"Comment","value":" set the impact skill (forwards to the projectile)","raw":"-- set the impact skill (forwards to the projectile)"},{"type":"Comment","value":"self:SetActiveProjectileSkill{ skillID = CONSTANTS[\"IMPACT_SKILLID\"] }","raw":"--self:SetActiveProjectileSkill{ skillID = CONSTANTS[\"IMPACT_SKILLID\"] }"},{"type":"Comment","value":" send an object loaded message to the ZoneControl object","raw":"-- send an object loaded message to the ZoneControl object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Gets the current activity user or returns nil","raw":"-- Gets the current activity user or returns nil"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called after loading a projectile","raw":"-- Called after loading a projectile"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if we loaded a projectile, fire it","raw":"-- if we loaded a projectile, fire it"},{"type":"Comment","value":" store who the parent is","raw":"-- store who the parent is"},{"type":"Comment","value":" get the skill for the projectile\t\t","raw":"-- get the skill for the projectile\t\t"},{"type":"Comment","value":" store values in the projectile","raw":"-- store values in the projectile"},{"type":"Comment","value":" set the skill","raw":"-- set the skill"},{"type":"Comment","value":" store the velocity","raw":"-- store the velocity"},{"type":"Comment","value":" set projectile params","raw":"-- set projectile params"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when the client wants to fire","raw":"-- Called when the client wants to fire"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" calculate firing parameters","raw":"-- calculate firing parameters"},{"type":"Comment","value":" save off the velocity","raw":"-- save off the velocity"},{"type":"Comment","value":" spawn the projectile","raw":"-- spawn the projectile"},{"type":"Comment","value":" @TODO: rename this to a better message?","raw":"-- @TODO: rename this to a better message?"},{"type":"Comment","value":" Tell the zone control we just fired","raw":"-- Tell the zone control we just fired"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when getting the cannon's faction","raw":"-- Called when getting the cannon's faction"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return the user's faction","raw":"-- return the user's faction"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Calculate the activity rating","raw":"-- Calculate the activity rating"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Send the request to the zone control","raw":"-- Send the request to the zone control"},{"type":"Comment","value":" return whatever the zone control gave us","raw":"-- return whatever the zone control gave us"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Start or stop the activity","raw":"-- Start or stop the activity"},{"type":"Comment","value":" @TODO: old func, replaced with onRequestActivityExit, change out later","raw":"-- @TODO: old func, replaced with onRequestActivityExit, change out later"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" forward this request on to the zone control object","raw":"-- forward this request on to the zone control object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" User Exits Activity","raw":"-- User Exits Activity"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" forward this request on to the zone control object","raw":"-- forward this request on to the zone control object"}]}