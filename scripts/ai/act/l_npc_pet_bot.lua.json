{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"State","raw":"'State'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"Vector","raw":"'Vector'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"ATTACK_DIST"}],"init":[{"type":"NumericLiteral","value":5,"raw":"5"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"RUN_SPEED"}],"init":[{"type":"NumericLiteral","value":4,"raw":"4"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"AGGRO_RAD"}],"init":[{"type":"NumericLiteral","value":50,"raw":"50"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"MAX_PARENT_DIST"}],"init":[{"type":"NumericLiteral","value":200,"raw":"200"}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddSkill"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":55,"raw":"55"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NilLiteral","value":null,"raw":"nil"},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"Your pet is ready","raw":"\"Your pet is ready\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"ParentID = ","raw":"\"ParentID = \""},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"parentID","raw":"\"parentID\""}]}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"AGGRO_RAD"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"aggro","raw":"\"aggro\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"MAX_PARENT_DIST"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"parentRad","raw":"\"parentRad\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UseStateMachine"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"addState"},"arguments":[{"type":"Identifier","name":"FollowParent"},{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"addState"},"arguments":[{"type":"Identifier","name":"Aggro"},{"type":"StringLiteral","value":"Aggro","raw":"\"Aggro\""},{"type":"StringLiteral","value":"Aggro","raw":"\"Aggro\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"addState"},"arguments":[{"type":"Identifier","name":"CatchUp"},{"type":"StringLiteral","value":"CatchUp","raw":"\"CatchUp\""},{"type":"StringLiteral","value":"CatchUp","raw":"\"CatchUp\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"beginStateMachine"},"arguments":[{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"storeObj"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"target"},{"type":"Identifier","name":"name"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"target","inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"idString"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"finalID"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"\"|\""},"right":{"type":"Identifier","name":"idString"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"name"},{"type":"Identifier","name":"finalID"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"name"},{"type":"NilLiteral","value":null,"raw":"nil"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"getObj"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"name"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"targetID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"name"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"targetID","inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"targetID"}]}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"NilLiteral","value":null,"raw":"nil"}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"FollowParent"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"FollowParent"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PetFollowOwner"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bFollowState"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onExit"},"base":{"type":"Identifier","name":"FollowParent"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PetFollowOwner"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bFollowState"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"Aggro"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"Aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"INITIAL_ATTACK_TIME"}],"init":[{"type":"NumericLiteral","value":0.5,"raw":".5"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"parentObj"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"parentID","raw":"\"parentID\""}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PetFollowOwner"},"base":{"type":"Identifier","name":"parentObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bFollowState"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"INITIAL_ATTACK_TIME"},{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FollowTarget"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"Identifier","name":"target"}},{"type":"TableValue","value":{"type":"Identifier","name":"ATTACK_DIST"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"Identifier","name":"RUN_SPEED"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"keepFollowing"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onExit"},"base":{"type":"Identifier","name":"Aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NilLiteral","value":null,"raw":"nil"},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onTimerDone"},"base":{"type":"Identifier","name":"Aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoAttack"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"castTime"}],"init":[{"type":"NumericLiteral","value":1.5,"raw":"1.5"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"castTime"},{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onArrived"},"base":{"type":"Identifier","name":"Aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoAttack"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onCancelled"},"base":{"type":"Identifier","name":"Aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoAttack"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"CanAttackTarget"},"arguments":[{"type":"Identifier","name":"self"}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"run","raw":"\"run\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":55,"raw":"55"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CanAttackTarget"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myTarget"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"range"}],"init":[{"type":"Identifier","name":"ATTACK_DIST"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPos"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"new"},"base":{"type":"Identifier","name":"Vector"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"hisPos"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"new"},"base":{"type":"Identifier","name":"Vector"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"myTarget"}},"arguments":[]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dist"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"hisPos"},"right":{"type":"Identifier","name":"myPos"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"myTarget"}},"arguments":[]}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"myTarget"}},"arguments":[]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"sqrLength"},"base":{"type":"Identifier","name":"dist"}},"arguments":[]},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"Identifier","name":"range"},"right":{"type":"Identifier","name":"range"}}},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"CatchUp"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"CatchUp"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PetFollowOwner"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bFollowState"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onProximityUpdate"},"base":{"type":"Identifier","name":"CatchUp"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"parentRad","raw":"\"parentRad\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"parentID","raw":"\"parentID\""}]}},"arguments":[]}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"FollowParent","raw":"\"FollowParent\""},{"type":"Identifier","name":"self"}]}}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"aggro","raw":"\"aggro\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""},"inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"enemy"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsEnemy"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}}]}}},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}},{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"Aggro","raw":"\"Aggro\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"ElseClause","body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"LEAVE","raw":"\"LEAVE\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getObj"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"parentID","raw":"\"parentID\""}]}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"CatchUp","raw":"\"CatchUp\""},{"type":"Identifier","name":"self"}]}}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------","raw":"--------------------------------------------------------"},{"type":"Comment","value":" PUT THIS IN A UTIL SCRIPT","raw":"-- PUT THIS IN A UTIL SCRIPT"},{"type":"Comment","value":"------------------------------------------------------","raw":"--------------------------------------------------------"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" Follow Parent","raw":"-- Follow Parent"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" Aggro","raw":"-- Aggro"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" onEnter","raw":"-- onEnter"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" Start the heartbeat","raw":"-- Start the heartbeat"},{"type":"Comment","value":" end function","raw":"-- end function"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" onExit","raw":"-- onExit"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":"    parentObj:PetFollowOwner{ bFollowState = true } ","raw":"--    parentObj:PetFollowOwner{ bFollowState = true } "},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" Aggro update","raw":"-- Aggro update"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" onArrived","raw":"-- onArrived"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" This will be called if FollowTarget fails.  That would only fail because the target has died,","raw":"-- This will be called if FollowTarget fails.  That would only fail because the target has died,"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" onArrived","raw":"-- onArrived"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" TODO: This should be defined somewhere easier to find","raw":"-- TODO: This should be defined somewhere easier to find"},{"type":"Comment","value":" If we are close enough and if the object is in the FOV, then attack","raw":"-- If we are close enough and if the object is in the FOV, then attack"},{"type":"Comment","value":"and (self:IsObjectInFOV { target = myTarget, radius = 5 , minRange = 0, maxRange = 100 }.result) then","raw":"--and (self:IsObjectInFOV { target = myTarget, radius = 5 , minRange = 0, maxRange = 100 }.result) then"},{"type":"Comment","value":" end CanAttackTarget","raw":"-- end CanAttackTarget"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" Catch up to parent","raw":"-- Catch up to parent"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" ENTER","raw":"-- ENTER"},{"type":"Comment","value":" if the object is the owner, go to FollowParent","raw":"-- if the object is the owner, go to FollowParent"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" Global functions","raw":"-- Global functions"},{"type":"Comment","value":"----------------------------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" ENTER","raw":"-- ENTER"},{"type":"Comment","value":" check if object is an enemy and attack.","raw":"-- check if object is an enemy and attack."},{"type":"Comment","value":" if msg.status == \"LEAVE\"","raw":"-- if msg.status == \"LEAVE\""}]}