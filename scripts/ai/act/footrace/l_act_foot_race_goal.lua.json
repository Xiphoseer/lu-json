{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVisible"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"visible"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fadeTime"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddObjectToGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Goals_","raw":"'Goals_'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"node_number","raw":"'node_number'"}]}}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextGoal","raw":"'NextGoal'"},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":"0.5"},{"type":"StringLiteral","value":"spawnGoals","raw":"\"spawnGoals\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onShutdown"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"killGoalPosts"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildRenderComponentReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"node_number","raw":"'node_number'"}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":2,"raw":"2"},{"type":"StringLiteral","value":"Play_Goal_Post_Effect","raw":"\"Play_Goal_Post_Effect\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnGoalPosts"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"oPos"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"gOffset"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.goalpostOffset","raw":"\"tGoalpostVars.goalpostOffset\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"posOffset"}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"gOffset"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"oDir"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectDirectionVectors"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"numToSpawn"}],"init":[{"type":"NumericLiteral","value":2,"raw":"2"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"oPos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"spawnObsticle","raw":"\"spawnObsticle\""}]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"finalGoalObsticleLot","raw":"\"finalGoalObsticleLot\""}]}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numToSpawn"}],"init":[{"type":"NumericLiteral","value":3,"raw":"3"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"GoalPosts;Goals_","raw":"\"GoalPosts;Goals_\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"node_number","raw":"'node_number'"}]}}}]}}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"Identifier","name":"numToSpawn"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.goalpostLot","raw":"\"tGoalpostVars.goalpostLot\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dir"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"right"},"base":{"type":"Identifier","name":"oDir"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"i"},"right":{"type":"NumericLiteral","value":3,"raw":"3"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"spawnObsticle","raw":"\"spawnObsticle\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"spawnObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"spawnObsticle","raw":"\"spawnObsticle\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"posOffset"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"finalGoalObsticleLot","raw":"\"finalGoalObsticleLot\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"spawnObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"finalGoalObsticleLot","raw":"\"finalGoalObsticleLot\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"posOffset"}],"init":[{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":0.5,"raw":".5"}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"dir"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"forward"},"base":{"type":"Identifier","name":"oDir"}}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newOffset"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"dir"}},"right":{"type":"Identifier","name":"posOffset"},"inParens":true}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}},"right":{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"dir"}},"right":{"type":"Identifier","name":"posOffset"},"inParens":true}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"spawnObj"},"right":{"type":"Identifier","name":"self"}},"right":{"type":"Identifier","name":"newOffset"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"Identifier","name":"spawnObj"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"newOffset"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"newOffset"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"newOffset"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"posOffset"}],"init":[{"type":"Identifier","name":"gOffset"}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"PlayActiveEffect"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.nextEffectType","raw":"\"tGoalpostVars.nextEffectType\""}]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"activeNode"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextGoal","raw":"'NextGoal'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextObjs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Goals_","raw":"'Goals_'"},"right":{"type":"Identifier","name":"activeNode"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"nextObjs"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"v"}},"arguments":[]}},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.goalpostLot","raw":"\"tGoalpostVars.goalpostLot\""}]}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"v"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"ActiveEffect","raw":"\"ActiveEffect\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.nextEffectType","raw":"\"tGoalpostVars.nextEffectType\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectID"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"tGoalpostVars.nextEffectID","raw":"\"tGoalpostVars.nextEffectID\""}]}}]}}}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetControlledID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[]}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isTriggered","raw":"'isTriggered'"}]}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nodeNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"node_number","raw":"'node_number'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"activeNode"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextGoal","raw":"'NextGoal'"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"activeNode"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"activeNode"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"nodeNum"},"right":{"type":"Identifier","name":"activeNode"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nodeTotal"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"total_spawner_nodes","raw":"\"total_spawner_nodes\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"parentObj"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDParent"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetParentObj"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"parentObj"},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nodeNum"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"Identifier","name":"parentObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"PlayerHitFirstGoal_","raw":"'PlayerHitFirstGoal_'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"nodeNum"},"right":{"type":"Identifier","name":"nodeTotal"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"Identifier","name":"parentObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"PlayerWon_","raw":"'PlayerWon_'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"Identifier","name":"parentObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"PlayerHitGoal_","raw":"'PlayerHitGoal_'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}}]}}}]}]}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"*** missing parentObj ***","raw":"'*** missing parentObj ***'"}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"tGoalObjs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"Goals","raw":"'Goals'"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"tGoalObjs"}]}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"v"}},"arguments":[{"type":"StringLiteral","value":"NextGoal","raw":"'NextGoal'"},{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"nodeNum"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isTriggered","raw":"'isTriggered'"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"killGoalPosts"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"PlayActiveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"killGoalPosts"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nodeNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"node_number","raw":"'node_number'"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"killObjs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Goals_","raw":"'Goals_'"},"right":{"type":"Identifier","name":"nodeNum"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"killObjs"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objType"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetType"},"base":{"type":"Identifier","name":"v"}},"arguments":[]}},"right":{"type":"StringLiteral","value":"Smashables","raw":"\"Smashables\""}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bHasComponent"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"HasComponentType"},"base":{"type":"Identifier","name":"v"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iComponent"},"value":{"type":"NumericLiteral","value":7,"raw":"7"}}]}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"v"}},"arguments":[]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DeleteObject"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"v"}]}}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"spawnGoals","raw":"\"spawnGoals\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnGoalPosts"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Play_Goal_Post_Effect","raw":"\"Play_Goal_Post_Effect\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"PlayActiveEffect"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Foot Race Goal script that the player will trigger.","raw":"-- Foot Race Goal script that the player will trigger."},{"type":"Comment","value":" updated mrb... 2/17/10","raw":"-- updated mrb... 2/17/10"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Called when the script starts up; this spawns in the appropriate ","raw":"-- Called when the script starts up; this spawns in the appropriate "},{"type":"Comment","value":" objects for the foot race goals.","raw":"-- objects for the foot race goals."},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when the script is shut down; destoys the child objects","raw":"-- called when the script is shut down; destoys the child objects"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" if the script shuts down kill all of the child objects","raw":"-- if the script shuts down kill all of the child objects"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when the render component is loaded; plays the first effect.","raw":"-- called when the render component is loaded; plays the first effect."},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" add delay to make sure the object is ready for an effect","raw":"-- add delay to make sure the object is ready for an effect"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Spawns the goal posts and obsticles for the foot race","raw":"-- Spawns the goal posts and obsticles for the foot race"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" self:GetObjectScale().scale -- scale doesn't work when loading objects","raw":"-- self:GetObjectScale().scale -- scale doesn't work when loading objects"},{"type":"Comment","value":" spawn an obsticle or finish line","raw":"-- spawn an obsticle or finish line"},{"type":"Comment","value":" spawn in the objects needed for this goal based on numToSpawn","raw":"-- spawn in the objects needed for this goal based on numToSpawn"},{"type":"Comment","value":" move the obsticle forward 1 unit so the player will collide with the obsticle first","raw":"-- move the obsticle forward 1 unit so the player will collide with the obsticle first"},{"type":"Comment","value":" move the finish line back .5 units so the player will collide with the trigger first","raw":"-- move the finish line back .5 units so the player will collide with the trigger first"},{"type":"Comment","value":" load in the object","raw":"-- load in the object"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Plays the effect on the active goal","raw":"-- Plays the effect on the active goal"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" find the correct goal and play the active effect","raw":"-- find the correct goal and play the active effect"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Called when the player collides with the trigger volume; sends","raw":"-- Called when the player collides with the trigger volume; sends"},{"type":"Comment","value":" messages to the foot race npc","raw":"-- messages to the foot race npc"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" check to make sure we have the local player","raw":"-- check to make sure we have the local player"},{"type":"Comment","value":" if we dont have an active node set it to the first one","raw":"-- if we dont have an active node set it to the first one"},{"type":"Comment","value":" if we're not in the active node the skip everything else","raw":"-- if we're not in the active node the skip everything else"},{"type":"Comment","value":" fire the correct event to this objects parent","raw":"-- fire the correct event to this objects parent"},{"type":"Comment","value":" set NextGoal on all of the goal objects","raw":"-- set NextGoal on all of the goal objects"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Kills all of the child objects for this goal","raw":"-- Kills all of the child objects for this goal"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"print('kill dem all ' .. k)","raw":"--print('kill dem all ' .. k)"},{"type":"Comment","value":" if object is smashable call Die()","raw":"-- if object is smashable call Die()"},{"type":"Comment","value":" no smashable so delete the object","raw":"-- no smashable so delete the object"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Called when a timer is completed.","raw":"-- Called when a timer is completed."},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" spawn the goals","raw":"-- spawn the goals"},{"type":"Comment","value":" play the effect on the next active goal","raw":"-- play the effect on the next active goal"}]}