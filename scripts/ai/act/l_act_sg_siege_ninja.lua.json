{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"delay_time"}],"init":[{"type":"NumericLiteral","value":1.5,"raw":"1.5"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"ran"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"NumericLiteral","value":5,"raw":"5"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetSmashableParams"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"fExplodeFactor"},"value":{"type":"Identifier","name":"ran"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurWaypoint","raw":"\"CurWaypoint\""},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"delay_time"},{"type":"StringLiteral","value":"MoveToWP","raw":"\"MoveToWP\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onArrived"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"curWP"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurWaypoint","raw":"\"CurWaypoint\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"curWP"},"right":{"type":"NumericLiteral","value":3,"raw":"3"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"delay_time"},{"type":"StringLiteral","value":"MoveToWP","raw":"\"MoveToWP\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Arrived"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":[]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"StringLiteral","value":"TimerDeleteObject","raw":"\"TimerDeleteObject\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UpdateMissionTask"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"self"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetActivityPoints"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"SpawnData"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"SpawnData","inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"points"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sdScore"},"base":{"type":"Identifier","name":"SpawnData"}}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"onTimerDone"}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"MoveToWP","raw":"\"MoveToWP\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"curWP"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurWaypoint","raw":"\"CurWaypoint\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"SpawnData"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dest"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Waypoint","raw":"\"Waypoint\""},"right":{"type":"Identifier","name":"curWP"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"SpawnData"},"right":{"type":"Identifier","name":"dest"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"curWP"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"curWP"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurWaypoint","raw":"\"CurWaypoint\""},{"type":"Identifier","name":"curWP"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GoTo"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sdSpeed"},"base":{"type":"Identifier","name":"SpawnData"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"dest"}}]}}}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"TimerDeleteObject","raw":"\"TimerDeleteObject\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UpdateMissionTask"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MoveToDeleteQueue"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}]}]}]}]}],"comments":[{"type":"Comment","value":" pick a random explode factor","raw":"-- pick a random explode factor"},{"type":"Comment","value":" set explode factor","raw":"-- set explode factor"},{"type":"Comment","value":" set the current waypoint number","raw":"-- set the current waypoint number"},{"type":"Comment","value":" delay to move somewhere","raw":"-- delay to move somewhere"},{"type":"Comment","value":" for some reason there needs to be a delay when an NPC arrives at a waypoint","raw":"-- for some reason there needs to be a delay when an NPC arrives at a waypoint"},{"type":"Comment","value":" otherwise some actions and animations will get overriden or will not play","raw":"-- otherwise some actions and animations will get overriden or will not play"},{"type":"Comment","value":" forward this onto the parent","raw":"-- forward this onto the parent"},{"type":"Comment","value":"self:KillObj{targetID = self}","raw":"--self:KillObj{targetID = self}"},{"type":"Comment","value":" notify zone object of the mission task update (temp msg to talk to it)","raw":"-- notify zone object of the mission task update (temp msg to talk to it)"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Timers","raw":"-- Timers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get waypoint data","raw":"-- get waypoint data"},{"type":"Comment","value":" get spawn data","raw":"-- get spawn data"},{"type":"Comment","value":" set the current waypoint number","raw":"-- set the current waypoint number"},{"type":"Comment","value":" move to the waypoint","raw":"-- move to the waypoint"},{"type":"Comment","value":" @TODO: Is this the best way to delete an object from script??","raw":"-- @TODO: Is this the best way to delete an object from script??"},{"type":"Comment","value":"        This generates a bunch of messages about OffCollision etc...","raw":"--        This generates a bunch of messages about OffCollision etc..."}]}