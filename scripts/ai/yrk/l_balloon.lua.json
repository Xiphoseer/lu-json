{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_Zorillo","raw":"'c_Zorillo'"}]}},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SUFFICIENT_STINK","raw":"\"SUFFICIENT_STINK\""}}],"init":[{"type":"NumericLiteral","value":2,"raw":"2"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_STINK_SKILL","raw":"\"SKUNK_STINK_SKILL\""}}],"init":[{"type":"NumericLiteral","value":33,"raw":"33"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"IMITATION_STINK_SKILL","raw":"\"IMITATION_STINK_SKILL\""}}],"init":[{"type":"NumericLiteral","value":35,"raw":"35"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"RECHECK_TIME","raw":"\"RECHECK_TIME\""}}],"init":[{"type":"NumericLiteral","value":0.5,"raw":"0.5"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopPathing"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetStink"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bBalloonInUse","raw":"\"bBalloonInUse\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bPlayerOnBalloon","raw":"\"bPlayerOnBalloon\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"registerWithZoneControlObject"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onFireEvent"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"switchOn","raw":"\"switchOn\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"triggerID","raw":"\"triggerID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"senderID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bBalloonInUse","raw":"\"bBalloonInUse\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckForLaunch"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"recheckTimer","raw":"\"recheckTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckForLaunch"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"CreditCheckTimer","raw":"\"CreditCheckTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"GiveCreditForLaunching"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ResetStink"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetStinkToMax"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SUFFICIENT_STINK","raw":"\"SUFFICIENT_STINK\""}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CheckForLaunch"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"previousStink"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetStink"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bPlayerOnBalloon","raw":"\"bPlayerOnBalloon\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateStinkAtSwitch"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"newStink"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"newStink"},"right":{"type":"Identifier","name":"previousStink"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateAnimation"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"newStink"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"newStink"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SUFFICIENT_STINK","raw":"\"SUFFICIENT_STINK\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"LaunchBalloon"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bPlayerOnBalloon","raw":"\"bPlayerOnBalloon\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetRecheckTimer"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"LaunchBalloon"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bBalloonInUse","raw":"\"bBalloonInUse\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StartPathing"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.1,"raw":"0.1"},{"type":"StringLiteral","value":"CreditCheckTimer","raw":"\"CreditCheckTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateStinkAtSwitch"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"NilLiteral","value":null,"raw":"nil"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"triggerID","raw":"\"triggerID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"triggerID"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"objs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetProximityObjects"},"base":{"type":"Identifier","name":"triggerID"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"stinkAmount"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"WhileStatement","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"index"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"getn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"objs"}]}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"objs"},"index":{"type":"Identifier","name":"index"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"faction"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"faction"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"faction"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bPlayerOnBalloon","raw":"\"bPlayerOnBalloon\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bOn"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsSkillActive"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iSkillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"IMITATION_STINK_SKILL","raw":"\"IMITATION_STINK_SKILL\""}}}]}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetStinkToMax"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bOn"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsSkillActive"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iSkillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_STINK_SKILL","raw":"\"SKUNK_STINK_SKILL\""}}}]}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"stinkAmount"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"stinkAmount"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"stinkAmount"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SUFFICIENT_STINK","raw":"\"SUFFICIENT_STINK\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetStinkToMax"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[]}]}]}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""},{"type":"Identifier","name":"stinkAmount"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetRecheckTimer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"recheckTimer","raw":"\"recheckTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"RECHECK_TIME","raw":"\"RECHECK_TIME\""}},{"type":"StringLiteral","value":"recheckTimer","raw":"\"recheckTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GiveCreditForLaunching"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"triggerID","raw":"\"triggerID\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"objs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetProximityObjects"},"base":{"type":"Identifier","name":"triggerID"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"WhileStatement","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"index"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"getn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"objs"}]}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"skunkStink"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"imitationStink"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"objs"},"index":{"type":"Identifier","name":"index"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"faction"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"faction"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"faction"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bOn"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsSkillActive"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iSkillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_STINK_SKILL","raw":"\"SKUNK_STINK_SKILL\""}}}]}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"skunkStink"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bOn"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsSkillActive"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iSkillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"IMITATION_STINK_SKILL","raw":"\"IMITATION_STINK_SKILL\""}}}]}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"imitationStink"}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"Identifier","name":"skunkStink"},"right":{"type":"Identifier","name":"imitationStink"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UpdateMissionTask"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value2"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"taskType"},"value":{"type":"StringLiteral","value":"kill","raw":"\"kill\""}}]}}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateAnimation"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"stinkAmount"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bRenderReady","raw":"\"bRenderReady\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"stinkAmount"},"right":{"type":"NumericLiteral","value":0,"raw":"0"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"balloon1","raw":"\"balloon1\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"stinkAmount"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"balloon2","raw":"\"balloon2\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"stinkAmount"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SUFFICIENT_STINK","raw":"\"SUFFICIENT_STINK\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"balloon3","raw":"\"balloon3\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"playerLoaded","raw":"\"playerLoaded\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientRebuildSectionState"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ObjIDSender"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iState"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"currentStink","raw":"\"currentStink\""}]}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onArrived"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"wayPoint"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"LAST_BALLOON_WAYPOINT","raw":"\"LAST_BALLOON_WAYPOINT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopPathing"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bBalloonInUse","raw":"\"bBalloonInUse\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckForLaunch"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]}],"comments":[{"type":"Comment","value":" how much stink it takes to launch the balloon.  Usually, each spot with a stinky player counts as 1.","raw":"-- how much stink it takes to launch the balloon.  Usually, each spot with a stinky player counts as 1."},{"type":"Comment","value":" if a player has this skill, they have skunk stink on them","raw":"-- if a player has this skill, they have skunk stink on them"},{"type":"Comment","value":" if a player has this skill, they have imitation stink on them ( from something like perfume )","raw":"-- if a player has this skill, they have imitation stink on them ( from something like perfume )"},{"type":"Comment","value":" if there's anyone on the balloon, how often to check for launch","raw":"-- if there's anyone on the balloon, how often to check for launch"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" On startup","raw":"-- On startup"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" start out stationary on the ground","raw":"-- start out stationary on the ground"},{"type":"Comment","value":" whether the balloon is currently moving","raw":"-- whether the balloon is currently moving"},{"type":"Comment","value":" whether there is at least one player on the balloon ( stinky or not )","raw":"-- whether there is at least one player on the balloon ( stinky or not )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" the trigger was just stepped on","raw":"-- the trigger was just stepped on"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print ( \"inventor balloon onFireEvent\" )","raw":"--print ( \"inventor balloon onFireEvent\" )"},{"type":"Comment","value":" remember each trigger's ID as we get it, so that when any trigger is touched, we can check all 4","raw":"-- remember each trigger's ID as we get it, so that when any trigger is touched, we can check all 4"},{"type":"Comment","value":" we don't care who gets on or off the triggers while the balloon is up in the air","raw":"-- we don't care who gets on or off the triggers while the balloon is up in the air"},{"type":"Comment","value":" check the stink level at each of the 4 switches and see if we have enough total to launch the balloon","raw":"-- check the stink level at each of the 4 switches and see if we have enough total to launch the balloon"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" timer done","raw":"-- timer done"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print( \"recheckTimer\" )","raw":"--print( \"recheckTimer\" )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" reset the currentStink variable","raw":"-- reset the currentStink variable"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set the currentStink variable to the amount needed to launch the balloon","raw":"-- set the currentStink variable to the amount needed to launch the balloon"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" see if there are enough stinky players on the trigger to launch the balloon","raw":"-- see if there are enough stinky players on the trigger to launch the balloon"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print( \"CheckForLaunch\" )","raw":"--print( \"CheckForLaunch\" )"},{"type":"Comment","value":" remember how much stink was fueling the balloon before in case we need to change the anim","raw":"-- remember how much stink was fueling the balloon before in case we need to change the anim"},{"type":"Comment","value":" check how much stink is on players at the switch and store that in \"currentStink\"","raw":"-- check how much stink is on players at the switch and store that in \"currentStink\""},{"type":"Comment","value":"print( \"CheckForLaunch: stink amount is \" .. self:GetVar( \"currentStink\" ) )","raw":"--print( \"CheckForLaunch: stink amount is \" .. self:GetVar( \"currentStink\" ) )"},{"type":"Comment","value":" if the amount of stink changed,","raw":"-- if the amount of stink changed,"},{"type":"Comment","value":" change the balloon's animation so it matches how much stink is fueling it","raw":"-- change the balloon's animation so it matches how much stink is fueling it"},{"type":"Comment","value":"  as long as there is even one player on the balloon,","raw":"--  as long as there is even one player on the balloon,"},{"type":"Comment","value":"we need to keep checking the amount of stink even if noone new gets on","raw":"--we need to keep checking the amount of stink even if noone new gets on"},{"type":"Comment","value":" in case a player uses the skunk perfume while already on the ballon","raw":"-- in case a player uses the skunk perfume while already on the ballon"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" there is enough stink, so start moving the moving platform","raw":"-- there is enough stink, so start moving the moving platform"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print ( \"inventor balloon, LAUNCH BALLOON!\" )","raw":"--print ( \"inventor balloon, LAUNCH BALLOON!\" )"},{"type":"Comment","value":" send the balloon up","raw":"-- send the balloon up"},{"type":"Comment","value":" give any stinky players on the balloon credit towards an achievement","raw":"-- give any stinky players on the balloon credit towards an achievement"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check how much stink the player's on the switch have","raw":"-- check how much stink the player's on the switch have"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check how much stink is on players at the switch and store that in \"currentStink\"","raw":"-- check how much stink is on players at the switch and store that in \"currentStink\""},{"type":"Comment","value":" look for the players near the trigger","raw":"-- look for the players near the trigger"},{"type":"Comment","value":" it's a player","raw":"-- it's a player"},{"type":"Comment","value":"print( \"player on switch\" )","raw":"--print( \"player on switch\" )"},{"type":"Comment","value":" remember there's someone on the balloon","raw":"-- remember there's someone on the balloon"},{"type":"Comment","value":" it doesn't matter if they're stinky or not.  We'll need to keep checking in case they use stink perfume while on there","raw":"-- it doesn't matter if they're stinky or not.  We'll need to keep checking in case they use stink perfume while on there"},{"type":"Comment","value":" check if the player has imitation stink ( from something like perfume )","raw":"-- check if the player has imitation stink ( from something like perfume )"},{"type":"Comment","value":" if any one player has perfume stink, they are considered stinky enough to launch the balloon alone","raw":"-- if any one player has perfume stink, they are considered stinky enough to launch the balloon alone"},{"type":"Comment","value":"print( \"found a player with perfume\" )","raw":"--print( \"found a player with perfume\" )"},{"type":"Comment","value":" check if the player has skunk stink","raw":"-- check if the player has skunk stink"},{"type":"Comment","value":" skunk stink counts as one ration of stinkiness towards fueling the balloon","raw":"-- skunk stink counts as one ration of stinkiness towards fueling the balloon"},{"type":"Comment","value":"print( \"found a player with skunk stink\" )","raw":"--print( \"found a player with skunk stink\" )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" see the timer to check the stink amount again","raw":"-- see the timer to check the stink amount again"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" give achievement credit for every stinky player on the switch when the balloon launches","raw":"-- give achievement credit for every stinky player on the switch when the balloon launches"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" anyone who's on the balloon and is stinky when it launches gets credit for helping","raw":"-- anyone who's on the balloon and is stinky when it launches gets credit for helping"},{"type":"Comment","value":" this is towards an achievement","raw":"-- this is towards an achievement"},{"type":"Comment","value":" look for the players near the trigger","raw":"-- look for the players near the trigger"},{"type":"Comment","value":" it's a player","raw":"-- it's a player"},{"type":"Comment","value":" check if the player has skunk stink\t","raw":"-- check if the player has skunk stink\t"},{"type":"Comment","value":" check if the player has imitation stink ( from something like perfume )","raw":"-- check if the player has imitation stink ( from something like perfume )"},{"type":"Comment","value":" if the player has either type of stink, give them credit","raw":"-- if the player has either type of stink, give them credit"},{"type":"Comment","value":"achievement info here","raw":"--achievement info here"},{"type":"Comment","value":"this is hacky and not the right way we should be doing this, but it works, non the less","raw":"--this is hacky and not the right way we should be doing this, but it works, non the less"},{"type":"Comment","value":" Using the \"Kill\" mission type in the DB, we are able to update the mission through the objects by calling","raw":"-- Using the \"Kill\" mission type in the DB, we are able to update the mission through the objects by calling"},{"type":"Comment","value":"the \"kill\" tasktype with calues of one.  The downfall is that this will only allow one mission on the designated objects that","raw":"--the \"kill\" tasktype with calues of one.  The downfall is that this will only allow one mission on the designated objects that"},{"type":"Comment","value":"use the kill type.  The commented out updatemissiontask functions are the way we should be doing this but is broken.","raw":"--use the kill type.  The commented out updatemissiontask functions are the way we should be doing this but is broken."},{"type":"Comment","value":"target:UpdateMissionTask{target = self, value = 161, value2 = 1, taskType = \"complete\" }","raw":"--target:UpdateMissionTask{target = self, value = 161, value2 = 1, taskType = \"complete\" }"},{"type":"Comment","value":"target:UpdateMissionTask{target = self, value = 162, value2 = 1, taskType = \"complete\" }","raw":"--target:UpdateMissionTask{target = self, value = 162, value2 = 1, taskType = \"complete\" }"},{"type":"Comment","value":"target:UpdateMissionTask{target = self, value = 163, value2 = 1, taskType = \"complete\" }","raw":"--target:UpdateMissionTask{target = self, value = 163, value2 = 1, taskType = \"complete\" }"},{"type":"Comment","value":"print( \"balloon achievement updated\" )","raw":"--print( \"balloon achievement updated\" )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" change the animantion to reflect how much stink is currently feeding into it","raw":"-- change the animantion to reflect how much stink is currently feeding into it"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return early if render is not ready","raw":"-- return early if render is not ready"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Notification to object","raw":"-- Notification to object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" tell the client-side script for the just-loaded player to use the appropriate anim based on how inflated the balloon is","raw":"-- tell the client-side script for the just-loaded player to use the appropriate anim based on how inflated the balloon is"},{"type":"Comment","value":"print( \"BALLOON onArrived\" )","raw":"--print( \"BALLOON onArrived\" )"},{"type":"Comment","value":"print( \"arrived at waypoint: \")","raw":"--print( \"arrived at waypoint: \")"},{"type":"Comment","value":"print( msg.wayPoint)","raw":"--print( msg.wayPoint)"},{"type":"Comment","value":"print( \"at last waypoint\" )","raw":"--print( \"at last waypoint\" )"},{"type":"Comment","value":" check whether enough stinky players stayed on the platform to launch it again","raw":"-- check whether enough stinky players stayed on the platform to launch it again"}]}