{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_Zorillo","raw":"'c_Zorillo'"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"SPAWNEDNPCS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_SKUNKS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"HAZMAT_NPCS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"SPOUTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"BUBBLE_BLOWERS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_STINK_CLOUDS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_STINK_CLOUD_WAYPOINTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_PLAYERS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"FLOWERS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"FunctionDeclaration","identifier":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"isLocal":false,"parameters":[{"type":"Identifier","name":"String"},{"type":"Identifier","name":"Start"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"String"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"len"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"Start"}]}]},"right":{"type":"Identifier","name":"Start"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsInvasionActive"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"state"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INFO","raw":"\"ZONE_STATE_NO_INFO\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetZoneState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ZoneState","raw":"\"ZoneState\""}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetZoneState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"state"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Setting Server Zone State to ","raw":"\"Setting Server Zone State to \""},"right":{"type":"Identifier","name":"state"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"prevState"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"ZoneState","raw":"\"ZoneState\""},{"type":"Identifier","name":"state"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"prevState"},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"prevState"},"right":{"type":"Identifier","name":"state"}},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoNoInvasionStateActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_TRANSITION","raw":"\"ZONE_STATE_TRANSITION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoTransitionStateActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_HIGH_ALERT","raw":"\"ZONE_STATE_HIGH_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoHighAlertStateActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_MEDIUM_ALERT","raw":"\"ZONE_STATE_MEDIUM_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoMediumAlertStateActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_LOW_ALERT","raw":"\"ZONE_STATE_LOW_ALERT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoLowAlertStateActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoDoneTransitionActions"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientZoneObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"zone_state_change","raw":"\"zone_state_change\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"Identifier","name":"state"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoNoInvasionStateActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SendStateToSpouts"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SendStateToBubbleBlowers"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PEACE_TIME_DURATION","raw":"\"PEACE_TIME_DURATION\""}},{"type":"StringLiteral","value":"startEventTimer","raw":"\"startEventTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoTransitionStateActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SendStateToSpouts"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SendStateToBubbleBlowers"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"EARTHQUAKE_DURATION","raw":"\"EARTHQUAKE_DURATION\""}},{"type":"StringLiteral","value":"DoPanicNPCs","raw":"\"DoPanicNPCs\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_SPAWN_TIMING","raw":"\"SKUNK_SPAWN_TIMING\""}},{"type":"StringLiteral","value":"SkunksSpawning","raw":"\"SkunksSpawning\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_SPAWN_TIMING","raw":"\"SKUNK_SPAWN_TIMING\""}},{"type":"StringLiteral","value":"StinkCloudsSpawning","raw":"\"StinkCloudsSpawning\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_VAN_TIMING","raw":"\"HAZMAT_VAN_TIMING\""}},{"type":"StringLiteral","value":"HazmatVanTimer","raw":"\"HazmatVanTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POLE_SLIDE_TIMING","raw":"\"POLE_SLIDE_TIMING\""}},{"type":"StringLiteral","value":"PoleSlideTimer","raw":"\"PoleSlideTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_TRANSITION_DURATION","raw":"\"INVASION_TRANSITION_DURATION\""}},{"type":"StringLiteral","value":"EndInvasionTransition","raw":"\"EndInvasionTransition\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoHighAlertStateActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"MAX_INVASION_DURATION","raw":"\"MAX_INVASION_DURATION\""}},{"type":"StringLiteral","value":"MaxInvasionTimer","raw":"\"MaxInvasionTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoMediumAlertStateActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoLowAlertStateActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoDoneTransitionActions"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"MaxInvasionTimer","raw":"\"MaxInvasionTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RewardPlayers"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"anim_time"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"animateVan"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"end","raw":"\"end\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"anim_time"},"right":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"anim_time"}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"anim_time"},{"type":"StringLiteral","value":"HazmatVanEndDone","raw":"\"HazmatVanEndDone\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"IdleNPCs"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"killSkunks"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"killStinkClouds"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"killHazmatNPCs"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"DONE_TRANSITION_DURATION","raw":"\"DONE_TRANSITION_DURATION\""}},{"type":"StringLiteral","value":"EndDoneTransition","raw":"\"EndDoneTransition\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SendStateToSpouts"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"spoutID"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"SPOUTS"}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spout"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"SPOUTS"},"index":{"type":"Identifier","name":"spoutID"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"spout"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"zone_state_change","raw":"\"zone_state_change\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SendStateToBubbleBlowers"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"bbID"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"BUBBLE_BLOWERS"}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bb"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"BUBBLE_BLOWERS"},"index":{"type":"Identifier","name":"bbID"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"bb"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"zone_state_change","raw":"\"zone_state_change\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetTotalCleanPoints"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"TotalCleanPoints","raw":"\"TotalCleanPoints\""}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IncrementTotalCleanPoints"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"inc"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"No points added: event not active","raw":"\"No points added: event not active\""}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"points"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"points"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"points"},"right":{"type":"Identifier","name":"inc"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"TotalCleanPoints","raw":"\"TotalCleanPoints\""},{"type":"Identifier","name":"points"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"CleanPoints: ","raw":"\"CleanPoints: \""},"right":{"type":"Identifier","name":"points"}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_HIGH_ALERT","raw":"\"ZONE_STATE_HIGH_ALERT\""}}},"right":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"points"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CLEANING_POINTS_MEDIUM","raw":"\"CLEANING_POINTS_MEDIUM\""}}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_MEDIUM_ALERT","raw":"\"ZONE_STATE_MEDIUM_ALERT\""}}]}}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_MEDIUM_ALERT","raw":"\"ZONE_STATE_MEDIUM_ALERT\""}}},"right":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"points"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CLEANING_POINTS_LOW","raw":"\"CLEANING_POINTS_LOW\""}}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_LOW_ALERT","raw":"\"ZONE_STATE_LOW_ALERT\""}}]}}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_LOW_ALERT","raw":"\"ZONE_STATE_LOW_ALERT\""}}},"right":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"points"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"CLEANING_POINTS_TOTAL","raw":"\"CLEANING_POINTS_TOTAL\""}}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}}]}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ResetTotalCleanPoints"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"TotalCleanPoints","raw":"\"TotalCleanPoints\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"InitZoneVars"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathMsg"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPathWaypoints"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"STINK_CLOUD_PATH","raw":"\"STINK_CLOUD_PATH\""}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"type"},"arguments":[{"type":"Identifier","name":"pathMsg"}]}]},"right":{"type":"StringLiteral","value":"table","raw":"\"table\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumStinkCloudSpawnPoints","raw":"\"NumStinkCloudSpawnPoints\""},{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"pathMsg"}}]}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"InitZoneVars"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnGarageVan"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":10,"raw":"10"},{"type":"StringLiteral","value":"sporeTimer","raw":"\"sporeTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PEACE_TIME_DURATION","raw":"\"PEACE_TIME_DURATION\""}},{"type":"StringLiteral","value":"startEventTimer","raw":"\"startEventTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsValidSkunk"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[{"type":"StringLiteral","value":"SkunkNum","raw":"\"SkunkNum\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"INVASION_SKUNKS"},"index":{"type":"Identifier","name":"num"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"storing skunk ","raw":"\"storing skunk \""},"right":{"type":"Identifier","name":"num"}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SPAWNED_HAZMAT_NPC","raw":"\"SPAWNED_HAZMAT_NPC\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[{"type":"StringLiteral","value":"HazmatNum","raw":"\"HazmatNum\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"HAZMAT_NPCS"},"index":{"type":"Identifier","name":"num"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"storing hazmat NPC ","raw":"\"storing hazmat NPC \""},"right":{"type":"Identifier","name":"num"}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_STINK_CLOUD_LOT","raw":"\"INVASION_STINK_CLOUD_LOT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[{"type":"StringLiteral","value":"StinkCloudNum","raw":"\"StinkCloudNum\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"INVASION_STINK_CLOUDS"},"index":{"type":"Identifier","name":"num"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"storing stink cloud ","raw":"\"storing stink cloud \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"num"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" at waypoint ","raw":"\" at waypoint \""},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"INVASION_STINK_CLOUD_WAYPOINTS"},"index":{"type":"Identifier","name":"num"}}}}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_REBUILD_VAN_LOT","raw":"\"HAZMAT_REBUILD_VAN_LOT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"van"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"van","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DeleteObject"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"van"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RebuildReset"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_NPC_SPAWN_TIMER","raw":"\"HAZMAT_NPC_SPAWN_TIMER\""}},{"type":"StringLiteral","value":"SpawnHazmatNPCTimer","raw":"\"SpawnHazmatNPCTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_VAN_LOT","raw":"\"HAZMAT_VAN_LOT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"van"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"van","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DeleteObject"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"van"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onObjectLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsValidNPC"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextActor"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"SPAWNEDNPCS"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"SPAWNEDNPCS"},"index":{"type":"Identifier","name":"nextActor"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SPOUT_LOT","raw":"\"SPOUT_LOT\""}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextSpout"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"SPOUTS"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"SPOUTS"},"index":{"type":"Identifier","name":"nextSpout"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"BUBBLE_BLOWER_LOT","raw":"\"BUBBLE_BLOWER_LOT\""}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextBB"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"BUBBLE_BLOWERS"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"BUBBLE_BLOWERS"},"index":{"type":"Identifier","name":"nextBB"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POLE_SLIDE_NPC","raw":"\"POLE_SLIDE_NPC\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"PoleSlideNPC","raw":"\"PoleSlideNPC\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"BALLOON_LOT","raw":"\"BALLOON_LOT\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"Balloon","raw":"\"Balloon\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"FLOWER_LOT","raw":"\"FLOWER_LOT\""}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextFlower"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"FLOWERS"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"FLOWERS"},"index":{"type":"Identifier","name":"nextFlower"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onPlayerLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientRebuildSectionState"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iState"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"balloon"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"Balloon","raw":"\"Balloon\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"balloon"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"balloon"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"playerLoaded","raw":"\"playerLoaded\""}}]}}}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"flowerID"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"FLOWERS"}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"flower"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"FLOWERS"},"index":{"type":"Identifier","name":"flowerID"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"flower"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"playerLoaded","raw":"\"playerLoaded\""}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Timer name: ","raw":"\"Timer name: \""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"startEventTimer","raw":"\"startEventTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_TRANSITION","raw":"\"ZONE_STATE_TRANSITION\""}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"MaxInvasionTimer","raw":"\"MaxInvasionTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"DoPanicNPCs","raw":"\"DoPanicNPCs\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"PanicNPCs"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"SkunksSpawning","raw":"\"SkunksSpawning\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSkunks"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"StinkCloudsSpawning","raw":"\"StinkCloudsSpawning\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnStinkClouds"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"EndInvasionTransition","raw":"\"EndInvasionTransition\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_HIGH_ALERT","raw":"\"ZONE_STATE_HIGH_ALERT\""}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"EndDoneTransition","raw":"\"EndDoneTransition\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"HazmatVanTimer","raw":"\"HazmatVanTimer\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"anim_time"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"animateVan"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"start","raw":"\"start\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"anim_time"},"right":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"anim_time"}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"anim_time"},{"type":"StringLiteral","value":"HazmatVanStartDone","raw":"\"HazmatVanStartDone\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PoleSlideTimer","raw":"\"PoleSlideTimer\""},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"slider"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"PoleSlideNPC","raw":"\"PoleSlideNPC\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"slider"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"slider"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"slide","raw":"\"slide\""}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"HazmatVanStartDone","raw":"\"HazmatVanStartDone\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnRebuildVan"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"HazmatVanEndDone","raw":"\"HazmatVanEndDone\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnGarageVan"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"SpawnHazmatNPCTimer","raw":"\"SpawnHazmatNPCTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SpawnHazmatNPCs"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"StringLiteral","value":"SpawnSingleHazmatNPCTimer","raw":"\"SpawnSingleHazmatNPCTimer\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"i"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"NumericLiteral","value":26,"raw":"26"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSingleHazmatNPC"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"i"}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"StringLiteral","value":"RespawnSkunk","raw":"\"RespawnSkunk\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}],"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"i"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"NumericLiteral","value":13,"raw":"13"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSingleSkunk"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"i"},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"sporeTimer","raw":"\"sporeTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"LoadSporeAnimals"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnGarageVan"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathMsg"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPathWaypoints"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_REBUILD_VAN_SPAWN_PATH","raw":"\"HAZMAT_REBUILD_VAN_SPAWN_PATH\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"trans"}],"init":[]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"type"},"arguments":[{"type":"Identifier","name":"pathMsg"}]}]},"right":{"type":"StringLiteral","value":"table","raw":"\"table\""},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"trans"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"pathMsg"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_VAN_LOT","raw":"\"HAZMAT_VAN_LOT\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnRebuildVan"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathMsg"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPathWaypoints"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_REBUILD_VAN_SPAWN_PATH","raw":"\"HAZMAT_REBUILD_VAN_SPAWN_PATH\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"trans"}],"init":[]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"type"},"arguments":[{"type":"Identifier","name":"pathMsg"}]}]},"right":{"type":"StringLiteral","value":"table","raw":"\"table\""},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"trans"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"pathMsg"},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_REBUILD_VAN_LOT","raw":"\"HAZMAT_REBUILD_VAN_LOT\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"rot"},"base":{"type":"Identifier","name":"trans"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnSkunks"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_SKUNKS","raw":"\"NUM_SKUNKS\""}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSingleSkunk"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"i"},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnSingleSkunk"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"num"},{"type":"Identifier","name":"bRespawn"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathStr"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_PATH_PREFIX","raw":"\"SKUNK_PATH_PREFIX\""}},"right":{"type":"Identifier","name":"num"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathStart"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bRespawn"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"pathStr"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"pathStr"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_ROAM_PATH_SUFFIX","raw":"\"SKUNK_ROAM_PATH_SUFFIX\""}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"pathStart"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetRandomWaypoint"},"arguments":[{"type":"Identifier","name":"pathStr"}]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"SkunkNum","raw":"\"SkunkNum\""}},{"type":"TableValue","value":{"type":"Identifier","name":"num"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"attached_path","raw":"\"attached_path\""}},{"type":"TableValue","value":{"type":"Identifier","name":"pathStr"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"attached_path_start","raw":"\"attached_path_start\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"pathStart"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"IsImmune","raw":"\"IsImmune\""}},{"type":"TableValue","value":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"bRespawn"}}}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"firstWP"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"pathStr"},{"type":"Identifier","name":"pathStart"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"skunkTemplate"}],"init":[{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_SKUNK_LOT","raw":"\"INVASION_SKUNK_LOT\""}},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"UnaryExpression","operator":"#","argument":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_SKUNK_LOT","raw":"\"INVASION_SKUNK_LOT\""}}}]}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"Identifier","name":"skunkTemplate"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"firstWP"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"firstWP"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"firstWP"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"GetRandomWaypoint"},"isLocal":false,"parameters":[{"type":"Identifier","name":"path"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathMsg"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPathWaypoints"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"path"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tostring"},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"type"},"arguments":[{"type":"Identifier","name":"pathMsg"}]}]},"right":{"type":"StringLiteral","value":"table","raw":"\"table\""},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"pathMsg"}}]}],"inParens":true}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"killSkunks"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"skunkID"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"INVASION_SKUNKS"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"skunkObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"skunkID"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"skunkObj"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"skunkObj"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"removing skunk ","raw":"\"removing skunk \""},"right":{"type":"Identifier","name":"i"}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"skunkObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"skunkObj"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}}]}}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_SKUNKS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsWaypointValid"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"waypoint"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"waypoint"}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"wpNum"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"INVASION_STINK_CLOUD_WAYPOINTS"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"waypoint"}]},"right":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"wpNum"}]},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnStinkClouds"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_STINK_CLOUDS","raw":"\"NUM_STINK_CLOUDS\""}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSingleStinkCloud"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"i"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnSingleStinkCloud"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"num"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathStr"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"STINK_CLOUD_PATH","raw":"\"STINK_CLOUD_PATH\""}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"maxPoints"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumStinkCloudSpawnPoints","raw":"\"NumStinkCloudSpawnPoints\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"maxPoints"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"maxTries"}],"init":[{"type":"NumericLiteral","value":20,"raw":"20"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"waypoint"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"Identifier","name":"maxPoints"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"numTries"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"WhileStatement","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsWaypointValid"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"waypoint"}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"waypoint"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"Identifier","name":"maxPoints"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numTries"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numTries"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"numTries"},"right":{"type":"Identifier","name":"maxTries"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"ERROR: too many tries to create a stink cloud, add more points...","raw":"\"ERROR: too many tries to create a stink cloud, add more points...\""}]}},{"type":"ReturnStatement","arguments":[]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"INVASION_STINK_CLOUD_WAYPOINTS"},"index":{"type":"Identifier","name":"num"}}],"init":[{"type":"Identifier","name":"waypoint"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"StinkCloudNum","raw":"\"StinkCloudNum\""}},{"type":"TableValue","value":{"type":"Identifier","name":"num"}}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnLoc"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"pathStr"},{"type":"Identifier","name":"waypoint"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_STINK_CLOUD_LOT","raw":"\"INVASION_STINK_CLOUD_LOT\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"spawnLoc"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"spawnLoc"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"spawnLoc"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"killStinkClouds"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"stinkID"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"INVASION_STINK_CLOUDS"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"stinkObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"stinkID"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"stinkObj"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"stinkObj"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"removing stink cloud ","raw":"\"removing stink cloud \""},"right":{"type":"Identifier","name":"i"}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"stinkObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"stinkObj"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}}]}}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_STINK_CLOUDS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_STINK_CLOUD_WAYPOINTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"AddPlayerPoints"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"player"},{"type":"Identifier","name":"points"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"No points added: event not active","raw":"\"No points added: event not active\""}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"points"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"playerData"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"INVASION_PLAYERS"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"playerID"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"id"},"base":{"type":"Identifier","name":"playerData"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"playerData"}}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"playerData"}},"right":{"type":"Identifier","name":"points"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"adding ","raw":"\"adding \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"points"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" points for player ","raw":"\" points for player \""},"right":{"type":"Identifier","name":"playerID"}}}}]}},{"type":"ReturnStatement","arguments":[]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"nextPlayer"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"INVASION_PLAYERS"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PLAYER_DATA"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"id"},"base":{"type":"Identifier","name":"PLAYER_DATA"}}],"init":[{"type":"Identifier","name":"playerID"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"PLAYER_DATA"}}],"init":[{"type":"Identifier","name":"points"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"INVASION_PLAYERS"},"index":{"type":"Identifier","name":"nextPlayer"}}],"init":[{"type":"Identifier","name":"PLAYER_DATA"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"new player: adding ","raw":"\"new player: adding \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"points"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" points for player ","raw":"\" points for player \""},"right":{"type":"Identifier","name":"playerID"}}}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"RewardPlayers"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"playerData"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"INVASION_PLAYERS"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"id"},"base":{"type":"Identifier","name":"playerData"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"player"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"coins"}],"init":[{"type":"BinaryExpression","operator":"*","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"playerData"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"REWARD_MULTIPLIER","raw":"\"REWARD_MULTIPLIER\""}}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DropLoot"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iCurrency"},"value":{"type":"Identifier","name":"coins"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rerouteID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sourceObj"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"rewarding player ","raw":"\"rewarding player \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"id"},"base":{"type":"Identifier","name":"playerData"}},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":" with a score of ","raw":"\" with a score of \""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"playerData"}}}}}]}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"INVASION_PLAYERS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"skunk_cleaned","raw":"\"skunk_cleaned\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddPlayerPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ObjIDSender"},"base":{"type":"Identifier","name":"msg"}},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_SKUNK","raw":"\"POINT_VALUE_SKUNK\""}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_SKUNK","raw":"\"POINT_VALUE_SKUNK\""}}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"param1"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"BinaryExpression","operator":">","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"param1"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_RESPAWN_TIMER_MIN","raw":"\"SKUNK_RESPAWN_TIMER_MIN\""}},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SKUNK_RESPAWN_TIMER_MAX","raw":"\"SKUNK_RESPAWN_TIMER_MAX\""}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"spawnTime"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"RespawnSkunk","raw":"\"RespawnSkunk\""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"param1"},"base":{"type":"Identifier","name":"msg"}}},{"type":"Identifier","name":"self"}]}}]}]}]}]}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"stink_cloud_cleaned_by_player","raw":"\"stink_cloud_cleaned_by_player\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"stink_cloud_cleaned_by_broombot","raw":"\"stink_cloud_cleaned_by_broombot\""}},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"stink_cloud_cleaned_by_player","raw":"\"stink_cloud_cleaned_by_player\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddPlayerPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ObjIDSender"},"base":{"type":"Identifier","name":"msg"}},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_STINK_CLOUD","raw":"\"POINT_VALUE_STINK_CLOUD\""}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_STINK_CLOUD","raw":"\"POINT_VALUE_STINK_CLOUD\""}}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"spawnSingleStinkCloud"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"param1"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"hazmat_cleaned","raw":"\"hazmat_cleaned\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddPlayerPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ObjIDSender"},"base":{"type":"Identifier","name":"msg"}},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_HAZMAT","raw":"\"POINT_VALUE_HAZMAT\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_HAZMAT","raw":"\"POINT_VALUE_HAZMAT\""}}]}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"broombot_fixed","raw":"\"broombot_fixed\""},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"Identifier","name":"IsInvasionActive"},"arguments":[{"type":"Identifier","name":"self"}]},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AddPlayerPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ObjIDSender"},"base":{"type":"Identifier","name":"msg"}},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_BROOMBOT","raw":"\"POINT_VALUE_BROOMBOT\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementTotalCleanPoints"},"arguments":[{"type":"Identifier","name":"self"},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"POINT_VALUE_BROOMBOT","raw":"\"POINT_VALUE_BROOMBOT\""}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"PanicNPCs"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"actorNum"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"SPAWNEDNPCS"}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actor"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"SPAWNEDNPCS"},"index":{"type":"Identifier","name":"actorNum"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"actor"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"npc_panic","raw":"\"npc_panic\""}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IdleNPCs"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"actorNum"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"SPAWNEDNPCS"}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"actor"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"SPAWNEDNPCS"},"index":{"type":"Identifier","name":"actorNum"}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"actor"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"npc_idle","raw":"\"npc_idle\""}}]}}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsValidNPC"},"isLocal":false,"parameters":[{"type":"Identifier","name":"templateID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_PANIC_ACTORS","raw":"\"INVASION_PANIC_ACTORS\""}},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"actors"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_PANIC_ACTORS","raw":"\"INVASION_PANIC_ACTORS\""}}},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"templateID"},"right":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_PANIC_ACTORS","raw":"\"INVASION_PANIC_ACTORS\""}},"index":{"type":"Identifier","name":"actors"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsValidSkunk"},"isLocal":false,"parameters":[{"type":"Identifier","name":"templateID"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_SKUNK_LOT","raw":"\"INVASION_SKUNK_LOT\""}},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"actors"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_SKUNK_LOT","raw":"\"INVASION_SKUNK_LOT\""}}},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"templateID"},"right":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INVASION_SKUNK_LOT","raw":"\"INVASION_SKUNK_LOT\""}},"index":{"type":"Identifier","name":"actors"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"animateVan"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"name"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"van"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"anim_time"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"van"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"van"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"anim_time"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAnimationTime"},"base":{"type":"Identifier","name":"van"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"name"}}]}}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"van"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"Identifier","name":"name"}}]}}}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"anim_time"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SpawnHazmatNPCs"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_HAZMAT_NPCS","raw":"\"NUM_HAZMAT_NPCS\""}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"BinaryExpression","operator":"*","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"TIME_BETWEEN_HAZMAT_SPAWNS","raw":"\"TIME_BETWEEN_HAZMAT_SPAWNS\""}},"right":{"type":"Identifier","name":"i"}},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SpawnSingleHazmatNPCTimer","raw":"\"SpawnSingleHazmatNPCTimer\""},"right":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"self"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"spawnSingleHazmatNPC"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"num"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"pathStr"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HAZMAT_NPC_PATH_PREFIX","raw":"\"HAZMAT_NPC_PATH_PREFIX\""}},"right":{"type":"Identifier","name":"num"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"HazmatNum","raw":"\"HazmatNum\""}},{"type":"TableValue","value":{"type":"Identifier","name":"num"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"attached_path","raw":"\"attached_path\""}},{"type":"TableValue","value":{"type":"Identifier","name":"pathStr"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"attached_path_start","raw":"\"attached_path_start\""}},{"type":"TableValue","value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"firstWP"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"pathStr"},{"type":"NumericLiteral","value":1,"raw":"1"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnX"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"firstWP"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnY"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"firstWP"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnZ"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"firstWP"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rotX"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0.0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rotY"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0.0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rotZ"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0.0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rotW"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1.0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"van"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"HazmatVanID","raw":"\"HazmatVanID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"van","inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"rotX"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"NumericLiteral","value":0,"raw":"0.0"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"van"}},"arguments":[]}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"rotY"}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"NumericLiteral","value":0,"raw":"0.0"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"van"}},"arguments":[]}}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"rotZ"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"van"}},"arguments":[]}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"rotW"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"van"}},"arguments":[]}}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"SPAWNED_HAZMAT_NPC","raw":"\"SPAWNED_HAZMAT_NPC\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"Identifier","name":"spawnX"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"Identifier","name":"spawnY"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"Identifier","name":"spawnZ"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"Identifier","name":"rotX"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"Identifier","name":"rotY"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"Identifier","name":"rotZ"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"Identifier","name":"rotW"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"killHazmatNPCs"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"hazmatID"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"HAZMAT_NPCS"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"hazmatObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"hazmatID"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"hazmatObj"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"hazmatObj"}},"arguments":[]},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"removing hazmat NPC ","raw":"\"removing hazmat NPC \""},"right":{"type":"Identifier","name":"i"}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"hazmatObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"hazmatObj"}}]}}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"HAZMAT_NPCS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRequestFollow"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"IN ON REQUESTFOLLOW EVENT SCRIPT","raw":"\"IN ON REQUESTFOLLOW EVENT SCRIPT\""}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mother"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"MotherSkunkID","raw":"\"MotherSkunkID\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"mother"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"mother not null","raw":"\"mother not null\""}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"FollowMsg"}],"init":[{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestFollow"},"base":{"type":"Identifier","name":"mother"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"targetID"},"base":{"type":"Identifier","name":"msg"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"requestorID"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"requestorID"},"base":{"type":"Identifier","name":"msg"}}}]}}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"FollowMsg"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onFireEventServerSide"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"toggleEvent","raw":"\"toggleEvent\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"state"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"GetZoneState"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"state"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_DONE_TRANSITION","raw":"\"ZONE_STATE_DONE_TRANSITION\""}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"state"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"ZONE_STATE_NO_INVASION","raw":"\"ZONE_STATE_NO_INVASION\""}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"state"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"state"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetZoneState"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"state"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CancelAllTimers"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"startEventTimer","raw":"\"startEventTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"skunkSpawnTimer","raw":"\"skunkSpawnTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"fountainTimer","raw":"\"fountainTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"shutterTimer","raw":"\"shutterTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"stopEventTimer","raw":"\"stopEventTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"HazmatTruckTimer","raw":"\"HazmatTruckTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"HazmatNPCTimer","raw":"\"HazmatNPCTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"sirenTimer","raw":"\"sirenTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"LoadSporeAnimals"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"NumericLiteral","value":3,"raw":"3"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wp"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"StringLiteral","value":"spore1","raw":"\"spore1\""},{"type":"Identifier","name":"i"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":3712,"raw":"3712"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}}]}}}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"NumericLiteral","value":3,"raw":"3"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wp"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"StringLiteral","value":"spore2","raw":"\"spore2\""},{"type":"Identifier","name":"i"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":3713,"raw":"3713"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}}]}}}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"NumericLiteral","value":3,"raw":"3"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wp"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetWaypointPos"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"StringLiteral","value":"spore3","raw":"\"spore3\""},{"type":"Identifier","name":"i"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":3714,"raw":"3714"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"wp"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"NumericLiteral","value":0,"raw":"0.0"}}]}}}]}]}],"comments":[{"type":"Comment","value":"///////////////////////////////////////////////////////////////////////////////////////","raw":"--///////////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":"//            YouReeka Skunk Event Zone Script","raw":"--//            YouReeka Skunk Event Zone Script"},{"type":"Comment","value":"///////////////////////////////////////////////////////////////////////////////////////","raw":"--///////////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" stores NPCs that are modified during event","raw":"-- stores NPCs that are modified during event"},{"type":"Comment","value":" stores Skunks spawned during the event","raw":"-- stores Skunks spawned during the event"},{"type":"Comment","value":" stores Hazmat NPCs spawned during the event","raw":"-- stores Hazmat NPCs spawned during the event"},{"type":"Comment","value":" stores all loaded spouts","raw":"-- stores all loaded spouts"},{"type":"Comment","value":" stores all bubble blowers","raw":"-- stores all bubble blowers"},{"type":"Comment","value":" stores Stink Clouds spawned during the event","raw":"-- stores Stink Clouds spawned during the event"},{"type":"Comment","value":" stores players involved in the invasion","raw":"-- stores players involved in the invasion"},{"type":"Comment","value":" stores all flowers","raw":"-- stores all flowers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check to see if a string starts with a substring","raw":"-- check to see if a string starts with a substring"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" returns true if invasion is in active state","raw":"-- returns true if invasion is in active state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" these are Non Invasion states","raw":"-- these are Non Invasion states"},{"type":"Comment","value":" otherwise state means we are in the invasion","raw":"-- otherwise state means we are in the invasion"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Get the state of the zone","raw":"-- Get the state of the zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Set the state of the zone","raw":"-- Set the state of the zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get current state","raw":"-- get current state"},{"type":"Comment","value":" notify all clients about the state change","raw":"-- notify all clients about the state change"},{"type":"Comment","value":" do our own actions","raw":"-- do our own actions"},{"type":"Comment","value":" inform clients about state","raw":"-- inform clients about state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with No Invasion state","raw":"-- do actions associated with No Invasion state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" update spouts","raw":"-- update spouts"},{"type":"Comment","value":" update bubble blowers","raw":"-- update bubble blowers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with Transition state","raw":"-- do actions associated with Transition state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" update spouts","raw":"-- update spouts"},{"type":"Comment","value":" update bubble blowers","raw":"-- update bubble blowers"},{"type":"Comment","value":" start a timer to panic the NPCs","raw":"-- start a timer to panic the NPCs"},{"type":"Comment","value":" start a timer to spawn skunks and change states","raw":"-- start a timer to spawn skunks and change states"},{"type":"Comment","value":" start a timer to spawn skunks and change states","raw":"-- start a timer to spawn skunks and change states"},{"type":"Comment","value":" start a timer to trigger hazmat van","raw":"-- start a timer to trigger hazmat van"},{"type":"Comment","value":" start a timer to trigger window washer","raw":"-- start a timer to trigger window washer"},{"type":"Comment","value":" start a timer to end the transition state","raw":"-- start a timer to end the transition state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with High Alert state","raw":"-- do actions associated with High Alert state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with Medium Alert state","raw":"-- do actions associated with Medium Alert state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with Low Alert state","raw":"-- do actions associated with Low Alert state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" do actions associated with done transition","raw":"-- do actions associated with done transition"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" reward for total points","raw":"-- reward for total points"},{"type":"Comment","value":" animate the van to end","raw":"-- animate the van to end"},{"type":"Comment","value":" set a callback to trigger van rebuild spawn after animation is over","raw":"-- set a callback to trigger van rebuild spawn after animation is over"},{"type":"Comment","value":" set npcs back to idle","raw":"-- set npcs back to idle"},{"type":"Comment","value":" remove skunks","raw":"-- remove skunks"},{"type":"Comment","value":" remove stink Clouds","raw":"-- remove stink Clouds"},{"type":"Comment","value":" remove the Hazmat NPCs","raw":"-- remove the Hazmat NPCs"},{"type":"Comment","value":" start a timer to end the transition state","raw":"-- start a timer to end the transition state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" send spout notifications based on state","raw":"-- send spout notifications based on state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" notify lamps of state","raw":"-- notify lamps of state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" send bubble blower notifications based on state","raw":"-- send bubble blower notifications based on state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" notify lamps of state","raw":"-- notify lamps of state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Get total clean points","raw":"-- Get total clean points"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Add to the total clean points, check to see if a state","raw":"-- Add to the total clean points, check to see if a state"},{"type":"Comment","value":" change is needed and make it","raw":"-- change is needed and make it"},{"type":"Comment","value":" returns true if the event ends with the increment","raw":"-- returns true if the event ends with the increment"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check states and see if we need to move on","raw":"-- check states and see if we need to move on"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Reset the total clean points","raw":"-- Reset the total clean points"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Init zone variables","raw":"-- Init zone variables"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" store the number of waypoints in the Stink Cloud Path","raw":"-- store the number of waypoints in the Stink Cloud Path"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Object starting up","raw":"-- Object starting up"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" init the zone vars","raw":"-- init the zone vars"},{"type":"Comment","value":" spawn in the garage van","raw":"-- spawn in the garage van"},{"type":"Comment","value":" start a timer to spawn in trip build animals","raw":"-- start a timer to spawn in trip build animals"},{"type":"Comment","value":" start the first timer for the event    ","raw":"-- start the first timer for the event    "},{"type":"Comment","value":"    \r\n    \r\n\t\r\n\r\n    self:SetVar(\"NumberOfChildren\", 0 )     -- Dont not change this value <<< \r\n    self:SetVar(\"WP_Num\", 1)                -- Dont not change this value <<<  \r\n    self:SetVar(\"Count\", 1)                 -- On load Count    \r\n    self:SetVar(\"Count2\", 1)                -- On load Count \r\n\r\n    self:SetVar(\"PetNames\", \"Skunk\")        -- Name as set in the NPC script\r\n    self:SetVar(\"WP_Alpha\", \"skunkWP\")      -- Starting string of the Way Point name (waypoints in the map need to be named in the format skunkWP_1, skunkWP_2, etc.)\r\n    self:SetVar(\"TotalPets\", 10)            -- Total number of pets to spawn\r\n    self:SetVar(\"PetID\", 3279)              -- LOT of pet\r\n    self:SetVar(\"CurrentDestink\", 0)        -- Number of skunks currently destunk\r\n    \r\n    -- self:SetVar(\"PetNames2\", \"Hazmat\")       -- Name as set in the NPC script\r\n    self:SetVar(\"HazmatWPPrefix\", \"hazmatWP\") -- Starting string of the Way Point name (waypoints in the map need to be named in the format skunkWP_1, skunkWP_2, etc.)\r\n    self:SetVar(\"HazmatNumber\", 1)            -- Total number of hazmat guys to spawn\r\n    self:SetVar(\"PetID2\", 2628)               -- LOT of pet\r\n\r\n\r\n\tself:SetVar(\"EventLifetime\", 180.0)      -- Amount of time in seconds that the skunks live for before despawning\r\n    self:SetVar(\"PeaceTime\", 120.0)\t\t-- Amount of time in seconds after skunks die that the next wave comes in (note: add lifetime and respawntime together to get the full time between events)\r\n     \r\n    --self:SetVar(\"HazmatLifetime\", 60.0)      -- Amount of time in seconds that the hazmat guys live for before despawning\r\n   -- self:SetVar(\"HazmatRespawnTime\", 220.0)  -- Amount of time in seconds after hazmat guys die that the next wave comes in. this needs to be synched wtih the skunks spawning. \r\n                                             -- Right now the hazmat guys come in 20 seconds after the skunks disappear and last for 60 seconds\r\n                                            \r\n    self:SetVar(\"earthquakeWarningTime\", 5.0)\t\t-- Amount of time in seconds between the earthquake and the start of the skunk invasion\r\n    self:SetVar(\"SirenTime\", 2.5)\t\t\t\t\t-- Time from earthquake to siren\r\n    self:SetVar(\"SirenToFountain\", 1.5)\t\t\t    -- Time from siren to fountain transformation\r\n    self:SetVar(\"WindowShutterTime\", 1.5)\t\t\t-- Time from fountain transformation to window shutter close.\r\n    self:SetVar(\"ShuttersToSkunks\", 5.0)            -- Time from shutters closing to skunks\r\n    self:SetVar(\"SkunksToTruck\", 12.0)\t\t\t\t-- Time from skunks to trunk start\r\n    self:SetVar(\"TruckToHazmatNPC\", 5.7)\t\t\t-- Time from truck start to hazmat NPCs spawn\r\n    \r\n    -- self:SetVar(\"MaxSkunkFollow\", 2)\t\t\t\t-- Number of skunks yu need to follow you for the mother skunk mission\r\n    \r\n                                                                             \r\n\t\r\n    \r\n    self:SetVar(\"HazmatInitialSpawnTime\", 200.0)    -- Amount of time to wait the very first time the event triggers before spawning hazmat guys\r\n    \r\n \r\n--","raw":"--[[    \r\n    \r\n\t\r\n\r\n    self:SetVar(\"NumberOfChildren\", 0 )     -- Dont not change this value <<< \r\n    self:SetVar(\"WP_Num\", 1)                -- Dont not change this value <<<  \r\n    self:SetVar(\"Count\", 1)                 -- On load Count    \r\n    self:SetVar(\"Count2\", 1)                -- On load Count \r\n\r\n    self:SetVar(\"PetNames\", \"Skunk\")        -- Name as set in the NPC script\r\n    self:SetVar(\"WP_Alpha\", \"skunkWP\")      -- Starting string of the Way Point name (waypoints in the map need to be named in the format skunkWP_1, skunkWP_2, etc.)\r\n    self:SetVar(\"TotalPets\", 10)            -- Total number of pets to spawn\r\n    self:SetVar(\"PetID\", 3279)              -- LOT of pet\r\n    self:SetVar(\"CurrentDestink\", 0)        -- Number of skunks currently destunk\r\n    \r\n    -- self:SetVar(\"PetNames2\", \"Hazmat\")       -- Name as set in the NPC script\r\n    self:SetVar(\"HazmatWPPrefix\", \"hazmatWP\") -- Starting string of the Way Point name (waypoints in the map need to be named in the format skunkWP_1, skunkWP_2, etc.)\r\n    self:SetVar(\"HazmatNumber\", 1)            -- Total number of hazmat guys to spawn\r\n    self:SetVar(\"PetID2\", 2628)               -- LOT of pet\r\n\r\n\r\n\tself:SetVar(\"EventLifetime\", 180.0)      -- Amount of time in seconds that the skunks live for before despawning\r\n    self:SetVar(\"PeaceTime\", 120.0)\t\t-- Amount of time in seconds after skunks die that the next wave comes in (note: add lifetime and respawntime together to get the full time between events)\r\n     \r\n    --self:SetVar(\"HazmatLifetime\", 60.0)      -- Amount of time in seconds that the hazmat guys live for before despawning\r\n   -- self:SetVar(\"HazmatRespawnTime\", 220.0)  -- Amount of time in seconds after hazmat guys die that the next wave comes in. this needs to be synched wtih the skunks spawning. \r\n                                             -- Right now the hazmat guys come in 20 seconds after the skunks disappear and last for 60 seconds\r\n                                            \r\n    self:SetVar(\"earthquakeWarningTime\", 5.0)\t\t-- Amount of time in seconds between the earthquake and the start of the skunk invasion\r\n    self:SetVar(\"SirenTime\", 2.5)\t\t\t\t\t-- Time from earthquake to siren\r\n    self:SetVar(\"SirenToFountain\", 1.5)\t\t\t    -- Time from siren to fountain transformation\r\n    self:SetVar(\"WindowShutterTime\", 1.5)\t\t\t-- Time from fountain transformation to window shutter close.\r\n    self:SetVar(\"ShuttersToSkunks\", 5.0)            -- Time from shutters closing to skunks\r\n    self:SetVar(\"SkunksToTruck\", 12.0)\t\t\t\t-- Time from skunks to trunk start\r\n    self:SetVar(\"TruckToHazmatNPC\", 5.7)\t\t\t-- Time from truck start to hazmat NPCs spawn\r\n    \r\n    -- self:SetVar(\"MaxSkunkFollow\", 2)\t\t\t\t-- Number of skunks yu need to follow you for the mother skunk mission\r\n    \r\n                                                                             \r\n\t\r\n    \r\n    self:SetVar(\"HazmatInitialSpawnTime\", 200.0)    -- Amount of time to wait the very first time the event triggers before spawning hazmat guys\r\n    \r\n \r\n--]]"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" When children are loaded by the object","raw":"-- When children are loaded by the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" was a skunk loaded","raw":"-- was a skunk loaded"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" store the skunk so we can access it later   ","raw":"-- store the skunk so we can access it later   "},{"type":"Comment","value":" (so we can respawn it later)","raw":"-- (so we can respawn it later)"},{"type":"Comment","value":" was a hazmat NPC loaded","raw":"-- was a hazmat NPC loaded"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" store the hazmat npc so we can access it later   ","raw":"-- store the hazmat npc so we can access it later   "},{"type":"Comment","value":" was a stink cloud loaded","raw":"-- was a stink cloud loaded"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" store the stink cloud so we can access it later   ","raw":"-- store the stink cloud so we can access it later   "},{"type":"Comment","value":" (so we can respawn it later)","raw":"-- (so we can respawn it later)"},{"type":"Comment","value":" hazmat rebuild van loaded","raw":"-- hazmat rebuild van loaded"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" get current van and remove","raw":"-- get current van and remove"},{"type":"Comment","value":" store the new van","raw":"-- store the new van"},{"type":"Comment","value":" break the rebuild","raw":"-- break the rebuild"},{"type":"Comment","value":" start timer to spawn in hazmat NPCs","raw":"-- start timer to spawn in hazmat NPCs"},{"type":"Comment","value":" garage hazmat van","raw":"-- garage hazmat van"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" get current van and remove","raw":"-- get current van and remove"},{"type":"Comment","value":" store the new van","raw":"-- store the new van"},{"type":"Comment","value":"    if msg.childID:GetLOT().objtemplate == 3553 then -- hazmat guy\r\n\t\t--print(\"Loading Hazmat Truck NPC\")\r\n\t\tmsg.childID:SetVar(\"attached_path\", \"hazmatWP_1\")\r\n\t\tmsg.childID:SetVar(\"attached_path_start\", 0)\r\n\t\t-- start child on path\r\n\t\tmsg.childID:FollowWaypoints()\r\n\t\t-- msg.childID:PlayAnimation{ animationID = \"spawn\" }\r\n\t\t\r\n\t\tstoreObjectByName( self, \"HazmatTruckNPCID\", msg.childID )\r\n\t\t\r\n\telseif msg.childID:GetLOT().objtemplate == 3279 then -- skunk\r\n    \r\n\t\tprint (\"Loading Skunk\")\r\n        local FinalName = (self:GetVar(\"PetNames\")..\"_\"..self:GetVar(\"WP_Alpha\")..self:GetVar(\"ChildLoadNUM\"))\r\n        local someName = (self:GetVar(\"PetNames\")..\"_\"..self:GetVar(\"Count\"))\r\n            \r\n        msg.childID:SetVar(\"SpawnedVar\", FinalName)\r\n        msg.childID:SetVar(\"attached_path\",  self:GetVar(\"WP_Alpha\")..\"_\"..self:GetVar(\"ChildLoadNUM\"))\r\n        msg.childID:SetVar(\"I_Have_A_Parent\", true )\r\n        storeParent(self,  msg.childID)\r\n            \r\n        storeObjectByName(self, someName, msg.childID)\r\n        self:SetVar(\"Count\",  self:GetVar(\"Count\") + 1) \r\n    end\r\n--","raw":"--[[\r\n    if msg.childID:GetLOT().objtemplate == 3553 then -- hazmat guy\r\n\t\t--print(\"Loading Hazmat Truck NPC\")\r\n\t\tmsg.childID:SetVar(\"attached_path\", \"hazmatWP_1\")\r\n\t\tmsg.childID:SetVar(\"attached_path_start\", 0)\r\n\t\t-- start child on path\r\n\t\tmsg.childID:FollowWaypoints()\r\n\t\t-- msg.childID:PlayAnimation{ animationID = \"spawn\" }\r\n\t\t\r\n\t\tstoreObjectByName( self, \"HazmatTruckNPCID\", msg.childID )\r\n\t\t\r\n\telseif msg.childID:GetLOT().objtemplate == 3279 then -- skunk\r\n    \r\n\t\tprint (\"Loading Skunk\")\r\n        local FinalName = (self:GetVar(\"PetNames\")..\"_\"..self:GetVar(\"WP_Alpha\")..self:GetVar(\"ChildLoadNUM\"))\r\n        local someName = (self:GetVar(\"PetNames\")..\"_\"..self:GetVar(\"Count\"))\r\n            \r\n        msg.childID:SetVar(\"SpawnedVar\", FinalName)\r\n        msg.childID:SetVar(\"attached_path\",  self:GetVar(\"WP_Alpha\")..\"_\"..self:GetVar(\"ChildLoadNUM\"))\r\n        msg.childID:SetVar(\"I_Have_A_Parent\", true )\r\n        storeParent(self,  msg.childID)\r\n            \r\n        storeObjectByName(self, someName, msg.childID)\r\n        self:SetVar(\"Count\",  self:GetVar(\"Count\") + 1) \r\n    end\r\n--]]"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" When objects are loaded via zone notification","raw":"-- When objects are loaded via zone notification"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" store the npc","raw":"-- store the npc"},{"type":"Comment","value":" spout loaded        ","raw":"-- spout loaded        "},{"type":"Comment","value":" store object in the spout array","raw":"-- store object in the spout array"},{"type":"Comment","value":" bubble statue loaded        ","raw":"-- bubble statue loaded        "},{"type":"Comment","value":" store object in the bubble blower array","raw":"-- store object in the bubble blower array"},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" store the parent    ","raw":"-- store the parent    "},{"type":"Comment","value":" store object in the flowers array","raw":"-- store object in the flowers array"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" called when a player is loaded and ready","raw":"-- called when a player is loaded and ready"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print(\"-------- Player Loaded on Server, sending State Info\")","raw":"--print(\"-------- Player Loaded on Server, sending State Info\")"},{"type":"Comment","value":" send a message down to ourself on the client to set zone state","raw":"-- send a message down to ourself on the client to set zone state"},{"type":"Comment","value":" send the player's ID to the balloon so it can tell the newly-loaded client which anim to use","raw":"-- send the player's ID to the balloon so it can tell the newly-loaded client which anim to use"},{"type":"Comment","value":" send the player's ID to the flowers so each of them can tell the newly-loaded client which anim to use","raw":"-- send the player's ID to the flowers so each of them can tell the newly-loaded client which anim to use"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" called when timers expire","raw":"-- called when timers expire"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" the event is starting so put us into the transition state","raw":"-- the event is starting so put us into the transition state"},{"type":"Comment","value":" tell NPCs to panic","raw":"-- tell NPCs to panic"},{"type":"Comment","value":" spawn the skunks","raw":"-- spawn the skunks"},{"type":"Comment","value":" spawn the stink clouds","raw":"-- spawn the stink clouds"},{"type":"Comment","value":" move to the next state","raw":"-- move to the next state"},{"type":"Comment","value":" move to the next state","raw":"-- move to the next state"},{"type":"Comment","value":" animate the van to start","raw":"-- animate the van to start"},{"type":"Comment","value":" set a callback to trigger van rebuild spawn after animation is over","raw":"-- set a callback to trigger van rebuild spawn after animation is over"},{"type":"Comment","value":" animate the van to start","raw":"-- animate the van to start"},{"type":"Comment","value":" spawn in rebuild (replaces current van stored object name)","raw":"-- spawn in rebuild (replaces current van stored object name)"},{"type":"Comment","value":" spawn in real van (replaces current van stored object name)","raw":"-- spawn in real van (replaces current van stored object name)"},{"type":"Comment","value":" spawn in the hazmat NPCs","raw":"-- spawn in the hazmat NPCs"},{"type":"Comment","value":" get spawn number","raw":"-- get spawn number"},{"type":"Comment","value":" spawn a single hazmat NPC","raw":"-- spawn a single hazmat NPC"},{"type":"Comment","value":" if the invasion is still active then respawn the skunk    ","raw":"-- if the invasion is still active then respawn the skunk    "},{"type":"Comment","value":" get spawn number","raw":"-- get spawn number"},{"type":"Comment","value":" spawn a new skunk in this skunk's place","raw":"-- spawn a new skunk in this skunk's place"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawns the garage hazmat van from first point on path","raw":"--   Spawns the garage hazmat van from first point on path"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" load the object in the world","raw":"-- load the object in the world"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawns the rebuild hazmat van from second point on path","raw":"--   Spawns the rebuild hazmat van from second point on path"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" load the object in the world","raw":"-- load the object in the world"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawn Skunks ","raw":"--   Spawn Skunks "},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" spawn skunks","raw":"-- spawn skunks"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawns a single skunk by number, param to say if its ","raw":"--   Spawns a single skunk by number, param to say if its "},{"type":"Comment","value":"   a respawn or not","raw":"--   a respawn or not"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" construct path string, start at first waypoint","raw":"-- construct path string, start at first waypoint"},{"type":"Comment","value":" if this is a respawn, append the suffix to the string","raw":"-- if this is a respawn, append the suffix to the string"},{"type":"Comment","value":" Note: This means WP path names in the map must be exact","raw":"-- Note: This means WP path names in the map must be exact"},{"type":"Comment","value":" construct the path","raw":"-- construct the path"},{"type":"Comment","value":" pick a random waypoint on the path","raw":"-- pick a random waypoint on the path"},{"type":"Comment","value":" create the config data for the new object","raw":"-- create the config data for the new object"},{"type":"Comment","value":" if first spawn, then they are immune","raw":"-- if first spawn, then they are immune"},{"type":"Comment","value":" get first waypoint data for spawn position","raw":"-- get first waypoint data for spawn position"},{"type":"Comment","value":" pick a random skunk template","raw":"-- pick a random skunk template"},{"type":"Comment","value":" add the object","raw":"-- add the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" returns a random waypoint on a path, or 1 if there is a ","raw":"-- returns a random waypoint on a path, or 1 if there is a "},{"type":"Comment","value":" problem","raw":"-- problem"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" find waypoint info and count for number of waypoints","raw":"-- find waypoint info and count for number of waypoints"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" remove invasion skunks from the level","raw":"-- remove invasion skunks from the level"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Checks to see if a waypoint is being used by another ","raw":"-- Checks to see if a waypoint is being used by another "},{"type":"Comment","value":" stink cloud ","raw":"-- stink cloud "},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" 0 or less is not a valid waypoint number","raw":"-- 0 or less is not a valid waypoint number"},{"type":"Comment","value":" loop through waypoints","raw":"-- loop through waypoints"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Spawn Stink Clouds ","raw":"-- Spawn Stink Clouds "},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" spawn skunks","raw":"-- spawn skunks"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Spawns a single stink cloud by number in a random place","raw":"-- Spawns a single stink cloud by number in a random place"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" construct path string","raw":"-- construct path string"},{"type":"Comment","value":" do nothing if the path has no points (doesn't exist)","raw":"-- do nothing if the path has no points (doesn't exist)"},{"type":"Comment","value":" get a random waypoint","raw":"-- get a random waypoint"},{"type":"Comment","value":" check for validity, reroll a waypoint","raw":"-- check for validity, reroll a waypoint"},{"type":"Comment","value":" roll a new waypoint","raw":"-- roll a new waypoint"},{"type":"Comment","value":" too many tries","raw":"-- too many tries"},{"type":"Comment","value":" store waypoint used    ","raw":"-- store waypoint used    "},{"type":"Comment","value":" create the config data for the new object","raw":"-- create the config data for the new object"},{"type":"Comment","value":" get first waypoint data for spawn position","raw":"-- get first waypoint data for spawn position"},{"type":"Comment","value":" add the object","raw":"-- add the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" remove invasion stinks from the level","raw":"-- remove invasion stinks from the level"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" add points for a player during the invasion","raw":"-- add points for a player during the invasion"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" non existent or dead players don't get points","raw":"-- non existent or dead players don't get points"},{"type":"Comment","value":" get the player ID for checking","raw":"-- get the player ID for checking"},{"type":"Comment","value":" we found a player","raw":"-- we found a player"},{"type":"Comment","value":" add points for this player","raw":"-- add points for this player"},{"type":"Comment","value":" if we get here the player was not found, add a new one","raw":"-- if we get here the player was not found, add a new one"},{"type":"Comment","value":" add the data    ","raw":"-- add the data    "},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" reward players who participated in the invasion","raw":"-- reward players who participated in the invasion"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" player do some player reward","raw":"-- player do some player reward"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Zone script notified","raw":"-- Zone script notified"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" a skunk was cleaned by a player","raw":"-- a skunk was cleaned by a player"},{"type":"Comment","value":" add the points for the player","raw":"-- add the points for the player"},{"type":"Comment","value":" add clean points, spawn new skunk if event not over","raw":"-- add clean points, spawn new skunk if event not over"},{"type":"Comment","value":" find a random spawn time","raw":"-- find a random spawn time"},{"type":"Comment","value":" start a timer to respawn the skunk with his spawn number","raw":"-- start a timer to respawn the skunk with his spawn number"},{"type":"Comment","value":" a stink cloud was cleaned by a player","raw":"-- a stink cloud was cleaned by a player"},{"type":"Comment","value":" add the points for the player","raw":"-- add the points for the player"},{"type":"Comment","value":" add clean points, spawn new cloud if event not over","raw":"-- add clean points, spawn new cloud if event not over"},{"type":"Comment","value":" spawn a new stink in this stink's place (at a new spot)","raw":"-- spawn a new stink in this stink's place (at a new spot)"},{"type":"Comment","value":" add the points for the player","raw":"-- add the points for the player"},{"type":"Comment","value":" add clean points","raw":"-- add clean points"},{"type":"Comment","value":" add the points for the player","raw":"-- add the points for the player"},{"type":"Comment","value":" add clean points","raw":"-- add clean points"},{"type":"Comment","value":"\r\n\t--elseif(msg.name == \"can_complete_follow\") then\r\n\t--\tSKUNKFOLLOW[msg.targetID:GetID()] = msg.iPosit\r\n\t--\treturn msg\r\n\tend\r\n\t--","raw":"--[[\r\n\r\n\t--elseif(msg.name == \"can_complete_follow\") then\r\n\t--\tSKUNKFOLLOW[msg.targetID:GetID()] = msg.iPosit\r\n\t--\treturn msg\r\n\tend\r\n\t--]]"},{"type":"Comment","value":"function EndSkunkEvent(self)\r\n\r\n\tself:SetVar( \"invasionInProgress\", false )\r\n\r\n\tkillSkunks(self)\r\n\topenShutters(self)\r\n\tstopSkunkDetectors(self)\r\n\tIdleNPCs(self)\r\n\tself:SetVar(\"CurrentDestink\", 0)\r\n\tEndTruck(self)\r\n\tKillHazmatNPCs(self)\r\n\tTransformFountainToNormal( self )\r\n\t\r\n\tGAMEOBJ:GetZoneControlID():NotifyClientZoneObject{ name=\"normal_sky\" }\r\n\tGAMEOBJ:GetZoneControlID():NotifyClientZoneObject{ name=\"stop_lamp_detectors\" }\r\nend\r\n--","raw":"--[[\r\nfunction EndSkunkEvent(self)\r\n\r\n\tself:SetVar( \"invasionInProgress\", false )\r\n\r\n\tkillSkunks(self)\r\n\topenShutters(self)\r\n\tstopSkunkDetectors(self)\r\n\tIdleNPCs(self)\r\n\tself:SetVar(\"CurrentDestink\", 0)\r\n\tEndTruck(self)\r\n\tKillHazmatNPCs(self)\r\n\tTransformFountainToNormal( self )\r\n\t\r\n\tGAMEOBJ:GetZoneControlID():NotifyClientZoneObject{ name=\"normal_sky\" }\r\n\tGAMEOBJ:GetZoneControlID():NotifyClientZoneObject{ name=\"stop_lamp_detectors\" }\r\nend\r\n--]]"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set NPCs into panic state","raw":"-- set NPCs into panic state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set NPCs as idle","raw":"-- set NPCs as idle"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return if template is a valid panic npc","raw":"-- return if template is a valid panic npc"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" list of npcs does not exist","raw":"-- list of npcs does not exist"},{"type":"Comment","value":" look for a valid actor","raw":"-- look for a valid actor"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" return if template is a valid skunk npc","raw":"-- return if template is a valid skunk npc"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" list of npcs does not exist","raw":"-- list of npcs does not exist"},{"type":"Comment","value":" look for a valid actor","raw":"-- look for a valid actor"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Triggers the van animations","raw":"-- Triggers the van animations"},{"type":"Comment","value":" returns animation time","raw":"-- returns animation time"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" clear timers on it because we are animating","raw":"-- clear timers on it because we are animating"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawn Hazmat NPCs","raw":"--   Spawn Hazmat NPCs"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" spawn npcs","raw":"-- spawn npcs"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"   Spawns a hazmat NPC for the event by number","raw":"--   Spawns a hazmat NPC for the event by number"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" construct path string","raw":"-- construct path string"},{"type":"Comment","value":" create the config data for the new object","raw":"-- create the config data for the new object"},{"type":"Comment","value":" get first waypoint data for spawn position","raw":"-- get first waypoint data for spawn position"},{"type":"Comment","value":" get the truck's rotation","raw":"-- get the truck's rotation"},{"type":"Comment","value":" we want them to face the back of the truck, so 180 degrees from the way the truck faces","raw":"-- we want them to face the back of the truck, so 180 degrees from the way the truck faces"},{"type":"Comment","value":" add the object","raw":"-- add the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" remove spawned hazmat NPCs from the level","raw":"-- remove spawned hazmat NPCs from the level"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":", killType = \"SILENT\"}","raw":"--, killType = \"SILENT\"}"},{"type":"Comment","value":" Request follow message from baby skunks","raw":"-- Request follow message from baby skunks"},{"type":"Comment","value":" Forward message on to the mother","raw":"-- Forward message on to the mother"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Event from client, right now we do slash commands","raw":"-- Event from client, right now we do slash commands"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" cancel all timers we will do our own based on state","raw":"-- cancel all timers we will do our own based on state"},{"type":"Comment","value":" get our state","raw":"-- get our state"},{"type":"Comment","value":" modify state","raw":"-- modify state"},{"type":"Comment","value":" set the state","raw":"-- set the state"},{"type":"Comment","value":" 3712, 3713, 3714","raw":"-- 3712, 3713, 3714"},{"type":"Comment","value":" Chickens","raw":"-- Chickens"},{"type":"Comment","value":" TODO move some constants out to c_zoorilla","raw":"-- TODO move some constants out to c_zoorilla"},{"type":"Comment","value":"print(\"Loading chicken: \" .. i)","raw":"--print(\"Loading chicken: \" .. i)"},{"type":"Comment","value":"print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)","raw":"--print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)"},{"type":"Comment","value":" Skunks","raw":"-- Skunks"},{"type":"Comment","value":"print(\"Loading skunk: \" .. i)","raw":"--print(\"Loading skunk: \" .. i)"},{"type":"Comment","value":"print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)","raw":"--print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)"},{"type":"Comment","value":" Sheep","raw":"-- Sheep"},{"type":"Comment","value":"print(\"Loading sheep: \" .. i)","raw":"--print(\"Loading sheep: \" .. i)"},{"type":"Comment","value":"print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)","raw":"--print(\"x y x: \" .. wp.x .. \" \".. wp.y .. \" \" .. wp.z)"}]}