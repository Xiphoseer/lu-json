{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"CONSTANTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_ACTIVATED_SWITCHES_REQUIRED","raw":"\"NUM_ACTIVATED_SWITCHES_REQUIRED\""}}],"init":[{"type":"NumericLiteral","value":3,"raw":"3"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"BROKEN_WALL_DURATION","raw":"\"BROKEN_WALL_DURATION\""}}],"init":[{"type":"NumericLiteral","value":10,"raw":"10"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetFlags"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isHidden","raw":"\"isHidden\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalX","raw":"\"originalX\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalY","raw":"\"originalY\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalZ","raw":"\"originalZ\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenX","raw":"\"hiddenX\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenY","raw":"\"hiddenY\""},{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}},"inParens":true},"right":{"type":"NumericLiteral","value":20,"raw":"20.0"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenZ","raw":"\"hiddenZ\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onFireEvent"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"StoreTriggerID"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckWhetherSolved"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"brokenWallTimer","raw":"\"brokenWallTimer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"RestoreWall"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"StoreTriggerID"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"switch1On","raw":"\"switch1On\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger1ID","raw":"\"trigger1ID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"senderID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"switch2On","raw":"\"switch2On\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger2ID","raw":"\"trigger2ID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"senderID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"switch3On","raw":"\"switch3On\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger3ID","raw":"\"trigger3ID\""},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"senderID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ResetFlags"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch1Activated","raw":"\"switch1Activated\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch2Activated","raw":"\"switch2Activated\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch3Activated","raw":"\"switch3Activated\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CheckWhetherSolved"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isHidden","raw":"\"isHidden\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateAllSwitches"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"numActivated"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch1Activated","raw":"\"switch1Activated\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numActivated"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numActivated"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch2Activated","raw":"\"switch2Activated\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numActivated"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numActivated"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch3Activated","raw":"\"switch3Activated\""}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numActivated"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numActivated"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"numActivated"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_ACTIVATED_SWITCHES_REQUIRED","raw":"\"NUM_ACTIVATED_SWITCHES_REQUIRED\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"HideWall"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateSwitch"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"switch"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"NilLiteral","value":null,"raw":"nil"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger1ID","raw":"\"trigger1ID\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger2ID","raw":"\"trigger2ID\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":3,"raw":"3"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"triggerID"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger3ID","raw":"\"trigger3ID\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"triggerID"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"objs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetProximityObjects"},"base":{"type":"Identifier","name":"triggerID"}},"arguments":[]}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetSwitchFlag"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"switch"},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"WhileStatement","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"index"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"getn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"Identifier","name":"objs"}]}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"IndexExpression","base":{"type":"Identifier","name":"objs"},"index":{"type":"Identifier","name":"index"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"faction"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"faction"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"faction"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetSwitchFlag"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"switch"},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"ReturnStatement","arguments":[]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"index"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"index"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetSwitchFlag"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"switch"},{"type":"Identifier","name":"flag"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"flag"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch1Activated","raw":"\"switch1Activated\""},{"type":"Identifier","name":"flag"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch2Activated","raw":"\"switch2Activated\""},{"type":"Identifier","name":"flag"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"switch"},"right":{"type":"NumericLiteral","value":3,"raw":"3"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"switch3Activated","raw":"\"switch3Activated\""},{"type":"Identifier","name":"flag"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"UpdateAllSwitches"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ResetFlags"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"trigger1"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger1ID","raw":"\"trigger1ID\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"trigger2"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger2ID","raw":"\"trigger2ID\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"trigger3"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"trigger3ID","raw":"\"trigger3ID\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"numTriggerIDs"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger1"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numTriggerIDs"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numTriggerIDs"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger2"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numTriggerIDs"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numTriggerIDs"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger3"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"numTriggerIDs"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"numTriggerIDs"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"numTriggerIDs"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_ACTIVATED_SWITCHES_REQUIRED","raw":"\"NUM_ACTIVATED_SWITCHES_REQUIRED\""}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger1"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateSwitch"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NumericLiteral","value":1,"raw":"1"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger2"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateSwitch"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NumericLiteral","value":2,"raw":"2"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"trigger3"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UpdateSwitch"},"arguments":[{"type":"Identifier","name":"self"},{"type":"NumericLiteral","value":3,"raw":"3"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"HideWall"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isHidden","raw":"\"isHidden\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"--------------------------------------------","raw":"\"--------------------------------------------\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"MATCHING PUZZLE solved!","raw":"\"MATCHING PUZZLE solved!\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"--------------------------------------------","raw":"\"--------------------------------------------\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isHidden","raw":"\"isHidden\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"hidePos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"hidePos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenX","raw":"\"hiddenX\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"hidePos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenY","raw":"\"hiddenY\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"hidePos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"hiddenZ","raw":"\"hiddenZ\""}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"Identifier","name":"hidePos"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"BROKEN_WALL_DURATION","raw":"\"BROKEN_WALL_DURATION\""}},{"type":"StringLiteral","value":"brokenWallTimer","raw":"\"brokenWallTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"RestoreWall"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"showPos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"showPos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalX","raw":"\"originalX\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"showPos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalY","raw":"\"originalY\""}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"showPos"}}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"originalZ","raw":"\"originalZ\""}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"Identifier","name":"showPos"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"isHidden","raw":"\"isHidden\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CheckWhetherSolved"},"arguments":[{"type":"Identifier","name":"self"}]}}]}],"comments":[{"type":"Comment","value":"TODO: should be 3","raw":"--TODO: should be 3"},{"type":"Comment","value":" how long to hide the wall before bringing it back","raw":"-- how long to hide the wall before bringing it back"},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE onStartup\" )","raw":"--print ( \"MATCHING PUZZLE onStartup\" )"},{"type":"Comment","value":"print ( \"--------------------------------------------\" ) ","raw":"--print ( \"--------------------------------------------\" ) "},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE onFireEvent\" )","raw":"--print ( \"MATCHING PUZZLE onFireEvent\" )"},{"type":"Comment","value":"print ( \"--------------------------------------------\" ) ","raw":"--print ( \"--------------------------------------------\" ) "},{"type":"Comment","value":" remember each trigger's ID as we get it, so that when any trigger is touched, we can check all 3","raw":"-- remember each trigger's ID as we get it, so that when any trigger is touched, we can check all 3"},{"type":"Comment","value":" the msg contains the id of the trigger that just got a touch or unTouch and that fired the event","raw":"-- the msg contains the id of the trigger that just got a touch or unTouch and that fired the event"},{"type":"Comment","value":" count how many switches are activated","raw":"-- count how many switches are activated"},{"type":"Comment","value":" look for the players near the trigger","raw":"-- look for the players near the trigger"},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE player at switch \" .. switch )","raw":"--print ( \"MATCHING PUZZLE player at switch \" .. switch )"},{"type":"Comment","value":"print ( \"--------------------------------------------\" ) ","raw":"--print ( \"--------------------------------------------\" ) "},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE swtich \" .. switch .. \" set to \" .. flag )","raw":"--print ( \"MATCHING PUZZLE swtich \" .. switch .. \" set to \" .. flag )"},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":" there's no way the puzzle is solved if we haven't gotten an onTouch message from each of the 3 switches yet","raw":"-- there's no way the puzzle is solved if we haven't gotten an onTouch message from each of the 3 switches yet"},{"type":"Comment","value":" (unless we're cheating and allowing fewer than 3 to count as solved.)","raw":"-- (unless we're cheating and allowing fewer than 3 to count as solved.)"},{"type":"Comment","value":" count how many triggerIDs we've gotten so far","raw":"-- count how many triggerIDs we've gotten so far"},{"type":"Comment","value":"print ( \"------------------------------------------------------\" )","raw":"--print ( \"------------------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE knows \" .. numTriggerIDs .. \" trigger IDs\" )","raw":"--print ( \"MATCHING PUZZLE knows \" .. numTriggerIDs .. \" trigger IDs\" )"},{"type":"Comment","value":"print ( \"------------------------------------------------------\" ) ","raw":"--print ( \"------------------------------------------------------\" ) "},{"type":"Comment","value":" for each trigger whose ID we know, check whether there's a player there","raw":"-- for each trigger whose ID we know, check whether there's a player there"},{"type":"Comment","value":" move the wall down below ground","raw":"-- move the wall down below ground"},{"type":"Comment","value":" set a timer for when to put it back","raw":"-- set a timer for when to put it back"},{"type":"Comment","value":"print ( \"--------------------------------------------\" )","raw":"--print ( \"--------------------------------------------\" )"},{"type":"Comment","value":"print ( \"MATCHING PUZZLE RestoreWall\" )","raw":"--print ( \"MATCHING PUZZLE RestoreWall\" )"},{"type":"Comment","value":"print ( \"--------------------------------------------\" ) ","raw":"--print ( \"--------------------------------------------\" ) "},{"type":"Comment","value":" put the wall back up where it belongs","raw":"-- put the wall back up where it belongs"}]}