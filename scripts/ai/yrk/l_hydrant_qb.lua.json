{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"c_Zorillo","raw":"'c_Zorillo'"}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsActive"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rebuildState"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRebuildState"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"rebuildState"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"rebuildState"}}]},"right":{"type":"NumericLiteral","value":3,"raw":"3"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"rebuildState"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRebuildState"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"IsActive"},"arguments":[{"type":"Identifier","name":"self"}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RebuildReset"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRebuildReset"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRebuildNotifyState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onFireEventServerSide"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"args"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"cleanPlayer","raw":"\"cleanPlayer\""},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CleanPlayer"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"senderID"},"base":{"type":"Identifier","name":"msg"}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CleanPlayer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"target"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"optionalTargetID"},"value":{"type":"Identifier","name":"target"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"DESTINK_SKILL","raw":"\"DESTINK_SKILL\""}}}]}}}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Server side script watches for rebuild state changes and resets the rebuild when clicked","raw":"-- Server side script watches for rebuild state changes and resets the rebuild when clicked"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Returns true if the object is in the idle rebuild state","raw":"-- Returns true if the object is in the idle rebuild state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get the rebuild state","raw":"-- get the rebuild state"},{"type":"Comment","value":" if the state is idle we are active","raw":"-- if the state is idle we are active"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Handle client clicking on the object on server","raw":"-- Handle client clicking on the object on server"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if the state is idle we are active","raw":"-- if the state is idle we are active"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when a rebuild is reset","raw":"-- Called when a rebuild is reset"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" hydrant was just broken to turn the water on","raw":"-- hydrant was just broken to turn the water on"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Handle notification of rebuild changes","raw":"-- Handle notification of rebuild changes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" if we just hit the idle state","raw":"-- if we just hit the idle state"},{"type":"Comment","value":"if (msg.iState == 3) then","raw":"--if (msg.iState == 3) then"},{"type":"Comment","value":" hydrant just got repaired to turn the water off again","raw":"-- hydrant just got repaired to turn the water off again"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" called when a fire event msg is sent from client-side","raw":"-- called when a fire event msg is sent from client-side"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" the client-side script told us to clean off the player that's being bounced","raw":"-- the client-side script told us to clean off the player that's being bounced"},{"type":"Comment","value":" make sure it's a player","raw":"-- make sure it's a player"}]}