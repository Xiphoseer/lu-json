{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"PID"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"PID"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}],"init":[{"type":"StringLiteral","value":"PlayerObjects","raw":"\"PlayerObjects\""}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PID","raw":"\"PID\""},{"type":"Identifier","name":"PID"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsLocalCharacter"},"isLocal":false,"parameters":[{"type":"Identifier","name":"target"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetOverridePickType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"targetID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PID","raw":"\"PID\""}]}]},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PID","raw":"\"PID\""}]},"index":{"type":"Identifier","name":"i"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerFound","raw":"\"PlayerFound\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"BreakStatement"}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerFound","raw":"\"PlayerFound\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myMissionState"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"NumericLiteral","value":136,"raw":"136"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":9,"raw":"9"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"StringLiteral","value":"I'M LOST. HAVE YOU SEEN THE PET RANCHER?","raw":"\"I'M LOST. HAVE YOU SEEN THE PET RANCHER?\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"right":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":10,"raw":"10"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerFound","raw":"\"PlayerFound\""}]}}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"StringLiteral","value":"YOU SAVED ME!","raw":"\"YOU SAVED ME!\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"UpdateMissionTask"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"value"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"taskType"},"value":{"type":"StringLiteral","value":"kill","raw":"\"kill\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"num"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PID","raw":"\"PID\""}]}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"PID.","raw":"\"PID.\""},"right":{"type":"Identifier","name":"num"}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":12,"raw":"12"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayTooltip"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"strText"},"value":{"type":"StringLiteral","value":"YOU SAVED 3. REPORT BACK BEFORE SAVING MORE.","raw":"\"YOU SAVED 3. REPORT BACK BEFORE SAVING MORE.\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"iTime"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"Rescue Tourists Mission = 136","raw":"--Rescue Tourists Mission = 136"},{"type":"Comment","value":"Pet Rancher = 3257","raw":"--Pet Rancher = 3257"},{"type":"Comment","value":"�tourist� = 3386","raw":"--�tourist� = 3386"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" The object with this script component is defined as \"self\" when the script first starts up. (duplicated in PET_MISSION_NPCS_CLIENT.lua)","raw":"-- The object with this script component is defined as \"self\" when the script first starts up. (duplicated in PET_MISSION_NPCS_CLIENT.lua)"},{"type":"Comment","value":" Check to see if the \"local character\" and the \"target\" which is triggering this are the same (duplicated in PET_MISSION_NPCS_CLIENT.lua)","raw":"-- Check to see if the \"local character\" and the \"target\" which is triggering this are the same (duplicated in PET_MISSION_NPCS_CLIENT.lua)"},{"type":"Comment","value":" CLIENT ONLY Get the player object, check to see if it's the same as the ID of the target (duplicated in PET_MISSION_NPCS_CLIENT.lua)","raw":"-- CLIENT ONLY Get the player object, check to see if it's the same as the ID of the target (duplicated in PET_MISSION_NPCS_CLIENT.lua)"},{"type":"Comment","value":" Get the Pick Type (cursor clicking options) for the script object, in preparation of changing it.","raw":"-- Get the Pick Type (cursor clicking options) for the script object, in preparation of changing it."},{"type":"Comment","value":" Set the Pick Type to 14 (duplicated in PET_MISSION_NPCS_CLIENT.lua)","raw":"-- Set the Pick Type to 14 (duplicated in PET_MISSION_NPCS_CLIENT.lua)"},{"type":"Comment","value":" Send Pick Type 14 back to the script object (duplicated in PET_MISSION_NPCS_CLIENT.lua)","raw":"-- Send Pick Type 14 back to the script object (duplicated in PET_MISSION_NPCS_CLIENT.lua)"},{"type":"Comment","value":" Target OBJ ID ","raw":"-- Target OBJ ID "},{"type":"Comment","value":"GGJ No idea what this section does.","raw":"--GGJ No idea what this section does."},{"type":"Comment","value":"Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\"","raw":"--Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\""},{"type":"Comment","value":" STATE_AVAILABLE --GGJ Player has not talked to Pet Rancher yet to initiate Mission. Mission is \"Available\" (1) or \"Completed & Available\" (9)","raw":"-- STATE_AVAILABLE --GGJ Player has not talked to Pet Rancher yet to initiate Mission. Mission is \"Available\" (1) or \"Completed & Available\" (9)"},{"type":"Comment","value":"GGJ Test message","raw":"--GGJ Test message"},{"type":"Comment","value":"GGJ Quit here. You can't rescue her yet.","raw":"--GGJ Quit here. You can't rescue her yet."},{"type":"Comment","value":" STATE_ACTIVE --GGJ Mission is active. Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)","raw":"-- STATE_ACTIVE --GGJ Mission is active. Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)"},{"type":"Comment","value":"GGJ Test message","raw":"--GGJ Test message"},{"type":"Comment","value":"GGJ Mission is set up as a \"kill\" mission; to \"kill\" 3 tourists (3386). This line sends \"1 kill\" to self (3386), which increments the mission task by 1.","raw":"--GGJ Mission is set up as a \"kill\" mission; to \"kill\" 3 tourists (3386). This line sends \"1 kill\" to self (3386), which increments the mission task by 1."},{"type":"Comment","value":"GGJ No idea.","raw":"--GGJ No idea."},{"type":"Comment","value":" self:Teleport{ x= -167.09, y= 206.77, z= 327.38, w= 1.0, 0, -1 } -- GGJ - return tourist to camp. This doesn't work. It just makes her disappear. Should be done in client instead?","raw":"-- self:Teleport{ x= -167.09, y= 206.77, z= 327.38, w= 1.0, 0, -1 } -- GGJ - return tourist to camp. This doesn't work. It just makes her disappear. Should be done in client instead?"},{"type":"Comment","value":" READY_TO_COMPLETE --GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)","raw":"-- READY_TO_COMPLETE --GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)"},{"type":"Comment","value":"GGJ Test message","raw":"--GGJ Test message"},{"type":"Comment","value":"GGJ Quit here. You can't rescue her until you have reported back to the Pet Rancher.             ","raw":"--GGJ Quit here. You can't rescue her until you have reported back to the Pet Rancher.             "},{"type":"Comment","value":" Script by Trent, Comments by Geoff (to help learn LUA)","raw":"-- Script by Trent, Comments by Geoff (to help learn LUA)"}]}