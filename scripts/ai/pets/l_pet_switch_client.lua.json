{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bHasBeenUsed"}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"storedOnce","raw":"\"storedOnce\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"StoreOnce"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"storedOnce","raw":"\"storedOnce\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bIsInFaction"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"BelongsToFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"factionID"},"value":{"type":"NumericLiteral","value":99,"raw":"99"}}]}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"petswitch"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"pet_bouncer","raw":"\"pet_bouncer\""}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"down","raw":"\"down\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"petswitch"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"on","raw":"\"on\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onOffCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"up","raw":"\"up\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"petswitch"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"off","raw":"\"off\""}}]}}}]}],"comments":[{"type":"Comment","value":" Someting touches the Pet Switch","raw":"-- Someting touches the Pet Switch"},{"type":"Comment","value":"print (\"Message on collision\")","raw":"--print (\"Message on collision\")"},{"type":"Comment","value":" get the ID of the thing that sent the collision message","raw":"-- get the ID of the thing that sent the collision message"},{"type":"Comment","value":" Check to see if the thing that sent the collision message is a pet","raw":"-- Check to see if the thing that sent the collision message is a pet"},{"type":"Comment","value":"----------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------"},{"type":"Comment","value":" Note: Hint messages have been removed from this script. They will be handled in code. -","raw":"-- Note: Hint messages have been removed from this script. They will be handled in code. -"},{"type":"Comment","value":"----------------------------------------------------------------------------------------","raw":"------------------------------------------------------------------------------------------"},{"type":"Comment","value":"        \r\n        if bHasBeenUsed == true then -- Do not display message more than once\r\n            return        \r\n        end\r\n        \r\n        local player = target:GetParentObj().objIDParent --get the ID of the player\r\n        \r\n            if ( (player) and (player:Exists()) ) then\r\n                player:DisplayTooltip{ bShow = true, strText = Localize(\"CLICK_YOUR_PET_-_IT_WILL_ACTIVATE_THE_SWITCH!\"), iTime = 0 } --display hint message and leave it on until player turns it off\r\n                bHasBeenUsed = true; --Don't ever display this tooltip again\r\n            end\r\n        \r\n     \tend\r\n","raw":"--[[        \r\n        if bHasBeenUsed == true then -- Do not display message more than once\r\n            return        \r\n        end\r\n        \r\n        local player = target:GetParentObj().objIDParent --get the ID of the player\r\n        \r\n            if ( (player) and (player:Exists()) ) then\r\n                player:DisplayTooltip{ bShow = true, strText = Localize(\"CLICK_YOUR_PET_-_IT_WILL_ACTIVATE_THE_SWITCH!\"), iTime = 0 } --display hint message and leave it on until player turns it off\r\n                bHasBeenUsed = true; --Don't ever display this tooltip again\r\n            end\r\n        \r\n     \tend\r\n]]"},{"type":"Comment","value":"        ","raw":"--        "}]}