{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"FAR_RADIUS"}],"init":[{"type":"NumericLiteral","value":65,"raw":"65"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"NEAR_RADIUS"}],"init":[{"type":"NumericLiteral","value":20,"raw":"20"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"FAR_RADIUS"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"FAR_MESSAGE","raw":"\"FAR_MESSAGE\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetProximityRadius"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"NEAR_RADIUS"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"NEAR_MESSAGE","raw":"\"NEAR_MESSAGE\""}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IsLocalCharacter"},"isLocal":false,"parameters":[{"type":"Identifier","name":"target"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLocalCharID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetOverridePickType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onProximityUpdate"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"targetID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myMissionState"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"targetID"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"NumericLiteral","value":136,"raw":"136"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"FAR_MESSAGE","raw":"\"FAR_MESSAGE\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":9,"raw":"9"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_PET_MIS_FAR_AVAILABLE","raw":"\"NPC_PET_MIS_FAR_AVAILABLE\""}]}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"right":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":10,"raw":"10"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerFound","raw":"\"PlayerFound\""}]}}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_PET_MIS_FAR_ACTIVE","raw":"\"NPC_PET_MIS_FAR_ACTIVE\""}]}}]}}}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"status"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ENTER","raw":"\"ENTER\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"NEAR_MESSAGE","raw":"\"NEAR_MESSAGE\""}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objId"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":9,"raw":"9"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_PET_MIS_NEAR_AVAILABLE","raw":"\"NPC_PET_MIS_NEAR_AVAILABLE\""}]}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"right":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":10,"raw":"10"}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PlayerFound","raw":"\"PlayerFound\""}]}}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_PET_MIS_NEAR_ACTIVE","raw":"\"NPC_PET_MIS_NEAR_ACTIVE\""}]}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"myMissionState"},"right":{"type":"NumericLiteral","value":12,"raw":"12"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayChatBubble"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"wsText"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NPC_PET_MIS_NEAR_READYTOCOMPLETE","raw":"\"NPC_PET_MIS_NEAR_READYTOCOMPLETE\""}]}}]}}}]}]}]}]}]}],"comments":[{"type":"Comment","value":" GLOBALS --","raw":"-- GLOBALS --"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" The object with this script component is defined as \"self\" when the script first starts up","raw":"-- The object with this script component is defined as \"self\" when the script first starts up"},{"type":"Comment","value":" Define the message for the Far Radius as \"Far_Message\"","raw":"-- Define the message for the Far Radius as \"Far_Message\""},{"type":"Comment","value":" Define the message for the Far Radius as \"Far_Message\"","raw":"-- Define the message for the Far Radius as \"Far_Message\""},{"type":"Comment","value":" Check to see if the \"local character\" and the \"target\" which is triggering this are the same","raw":"-- Check to see if the \"local character\" and the \"target\" which is triggering this are the same"},{"type":"Comment","value":" CLIENT ONLY Get the player object, check to see if it's the same as the ID of the target","raw":"-- CLIENT ONLY Get the player object, check to see if it's the same as the ID of the target"},{"type":"Comment","value":" Get the Pick Type (cursor clicking options) for the script object, in preparation of changing it.","raw":"-- Get the Pick Type (cursor clicking options) for the script object, in preparation of changing it."},{"type":"Comment","value":" Set the Pick Type to 14","raw":"-- Set the Pick Type to 14"},{"type":"Comment","value":" Send Pick Type 14 back to the script object","raw":"-- Send Pick Type 14 back to the script object"},{"type":"Comment","value":"GGJ Define targetID as msg.objID, which comes from the player","raw":"--GGJ Define targetID as msg.objID, which comes from the player"},{"type":"Comment","value":"Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\"","raw":"--Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\""},{"type":"Comment","value":"if the Proximity Message was \"Enter\" in the far radius and the message was sent by the player, then","raw":"--if the Proximity Message was \"Enter\" in the far radius and the message was sent by the player, then"},{"type":"Comment","value":"local targetID = msg.objId --GGJ Define targetID as msg.objID, which comes from the player","raw":"--local targetID = msg.objId --GGJ Define targetID as msg.objID, which comes from the player"},{"type":"Comment","value":"local myMissionState = targetID:GetMissionState{missionID = 136}.missionState --Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\"","raw":"--local myMissionState = targetID:GetMissionState{missionID = 136}.missionState --Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\""},{"type":"Comment","value":"GGJ Mission is \"Available\" (1) or \"Completed & Available\" (9)","raw":"--GGJ Mission is \"Available\" (1) or \"Completed & Available\" (9)"},{"type":"Comment","value":" \"HELP ME! I'M LOST!\"","raw":"-- \"HELP ME! I'M LOST!\""},{"type":"Comment","value":"GGJ Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)","raw":"--GGJ Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)"},{"type":"Comment","value":" \"GET UP HERE AND RESCUE ME!\"","raw":"-- \"GET UP HERE AND RESCUE ME!\""},{"type":"Comment","value":"if myMissionState == 4 or myMissionState == 12 then -- GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)","raw":"--if myMissionState == 4 or myMissionState == 12 then -- GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)"},{"type":"Comment","value":"self:DisplayChatBubble{wsText = Localize(\"NPC_PET_MIS_FAR_READYTOCOMPLETE\") } -- \"BLAH\"","raw":"--self:DisplayChatBubble{wsText = Localize(\"NPC_PET_MIS_FAR_READYTOCOMPLETE\") } -- \"BLAH\""},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"if the Proximity Message was \"Enter\" in the near radius and the message was sent by the player, then","raw":"--if the Proximity Message was \"Enter\" in the near radius and the message was sent by the player, then"},{"type":"Comment","value":"local targetID = msg.objId --GGJ Define targetID as msg.objID, which comes from the player","raw":"--local targetID = msg.objId --GGJ Define targetID as msg.objID, which comes from the player"},{"type":"Comment","value":"local myMissionState = targetID:GetMissionState{missionID = 136}.missionState --Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\"","raw":"--local myMissionState = targetID:GetMissionState{missionID = 136}.missionState --Find out what the mission state is for the Rescue Tourists Mission, and save it as \"myMissionState\""},{"type":"Comment","value":"GGJ Mission is \"Available\" (1) or \"Completed & Available\" (9)","raw":"--GGJ Mission is \"Available\" (1) or \"Completed & Available\" (9)"},{"type":"Comment","value":" \"Did the Pet Rancher send you? I don't talk to strangers.\"","raw":"-- \"Did the Pet Rancher send you? I don't talk to strangers.\""},{"type":"Comment","value":"GGJ Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)","raw":"--GGJ Mission is \"Accepted\" (2) or \"Completed & Accepted\" (10)"},{"type":"Comment","value":" \"Click me you fool!\"","raw":"-- \"Click me you fool!\""},{"type":"Comment","value":" GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)","raw":"-- GGJ Player has just clicked on 3 tourists and is trying to save a 4th; Mission is \"Ready to Complete\" (4) or \"Completed & Ready to Completed\" (12)"},{"type":"Comment","value":" \"You better check in with the Rancher. He can't handle too many rescues at once.\"","raw":"-- \"You better check in with the Rancher. He can't handle too many rescues at once.\""},{"type":"Comment","value":" Script by Trent, Comments by Geoff (to help learn LUA)","raw":"-- Script by Trent, Comments by Geoff (to help learn LUA)"},{"type":"Comment","value":" This script is duplicated in PET_MISSIONS_NPCS.lua, presumably to get the same info to happen on the client.","raw":"-- This script is duplicated in PET_MISSIONS_NPCS.lua, presumably to get the same info to happen on the client."}]}