{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"imaginationRequirement"}],"init":[{"type":"NumericLiteral","value":4,"raw":"4"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerImagination"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"imagination"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetImagination"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"canUse"}],"init":[{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"playerImagination"},"right":{"type":"Identifier","name":"imaginationRequirement"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"canUse"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SERVER INTERACTION SUCCESS, ","raw":"\"SERVER INTERACTION SUCCESS, \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"imaginationRequirement"},"right":{"type":"StringLiteral","value":" imagination removed by the server","raw":"\" imagination removed by the server\""}}}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ModifyImagination"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"user"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"amount"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"Identifier","name":"imaginationRequirement"}}}]}}}]}],"comments":[{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" EXAMPLE INTERACTION SCRIPT (Client Version)","raw":"-- EXAMPLE INTERACTION SCRIPT (Client Version)"},{"type":"Comment","value":" For server version look for EXAMPLE_INTERACTION_SERVER.lua","raw":"-- For server version look for EXAMPLE_INTERACTION_SERVER.lua"},{"type":"Comment","value":" This script allows a player to interact with an object. It only allows interaction if","raw":"-- This script allows a player to interact with an object. It only allows interaction if"},{"type":"Comment","value":" the player has more than certain amount of imagination.","raw":"-- the player has more than certain amount of imagination."},{"type":"Comment","value":" The server version of this script will actually remove the imagination from the player","raw":"-- The server version of this script will actually remove the imagination from the player"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" We do the same checks here as we did on the client, for security purposes.","raw":"-- We do the same checks here as we did on the client, for security purposes."},{"type":"Comment","value":" We require imagination to use this object","raw":"-- We require imagination to use this object"},{"type":"Comment","value":" The player can only use this object is they have enough imagination","raw":"-- The player can only use this object is they have enough imagination"},{"type":"Comment","value":" This is the bool we set to actually prevent interaction. This should NEVER","raw":"-- This is the bool we set to actually prevent interaction. This should NEVER"},{"type":"Comment","value":" get set to true under any circumstance. Only set it to false, and only when","raw":"-- get set to true under any circumstance. Only set it to false, and only when"},{"type":"Comment","value":" the player fails a requirement check.","raw":"-- the player fails a requirement check."},{"type":"Comment","value":" This function is called when the player tries to interact with an object, but only if the player ","raw":"-- This function is called when the player tries to interact with an object, but only if the player "},{"type":"Comment","value":" passes the CheckUseRequirements check. 'onUse' is server-only, 'onClientUse' is client-only","raw":"-- passes the CheckUseRequirements check. 'onUse' is server-only, 'onClientUse' is client-only"},{"type":"Comment","value":" Drain some imagination from the player","raw":"-- Drain some imagination from the player"}]}