{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"imaginationRequirement"}],"init":[{"type":"NumericLiteral","value":4,"raw":"4"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCheckUseRequirements"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"playerImagination"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"imagination"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetImagination"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDUser"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"canUse"}],"init":[{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"playerImagination"},"right":{"type":"Identifier","name":"imaginationRequirement"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"isFromUI"},"base":{"type":"Identifier","name":"msg"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"HasReasonFromScript"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Failed_Requirement"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"playerImagination"},"right":{"type":"Identifier","name":"imaginationRequirement"},"inParens":true}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"canUse"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_Reason"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"Localize"},"arguments":[{"type":"StringLiteral","value":"NOT_ENOUGH_IMAGINATION","raw":"\"NOT_ENOUGH_IMAGINATION\""}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_IconID"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":3118,"raw":"3118"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"Script_TargetAmount"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"imaginationRequirement"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"Identifier","name":"canUse"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bCanUse"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":false,"raw":"false"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"isFromUI"},"base":{"type":"Identifier","name":"msg"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"PLAYER FAILED TO USE THIS OBJECT","raw":"\"PLAYER FAILED TO USE THIS OBJECT\""}]}}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onGetPriorityPickListType"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPriority"}],"init":[{"type":"NumericLiteral","value":0.8,"raw":"0.8"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"myPriority"},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"fCurrentPickTypePriority"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"Identifier","name":"myPriority"}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ePickType"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"NumericLiteral","value":14,"raw":"14"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onClientUse"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"CLIENT INTERACTION SUCCESS","raw":"\"CLIENT INTERACTION SUCCESS\""}]}}]}],"comments":[{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" EXAMPLE INTERACTION SCRIPT (Client Version)","raw":"-- EXAMPLE INTERACTION SCRIPT (Client Version)"},{"type":"Comment","value":" For server version look for EXAMPLE_INTERACTION_SERVER.lua","raw":"-- For server version look for EXAMPLE_INTERACTION_SERVER.lua"},{"type":"Comment","value":" This script allows a player to interact with an object. It only allows interaction if","raw":"-- This script allows a player to interact with an object. It only allows interaction if"},{"type":"Comment","value":" the player has more than certain amount of imagination.","raw":"-- the player has more than certain amount of imagination."},{"type":"Comment","value":" The server version of this script will actually remove the imagination from the player","raw":"-- The server version of this script will actually remove the imagination from the player"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":"-----------------------------------------------------------------------------------------------","raw":"-------------------------------------------------------------------------------------------------"},{"type":"Comment","value":" We require imagination to use this object","raw":"-- We require imagination to use this object"},{"type":"Comment","value":" The player can only use this object is they have enough imagination","raw":"-- The player can only use this object is they have enough imagination"},{"type":"Comment","value":" We don't need to report most of this information unless this check is coming from the UI","raw":"-- We don't need to report most of this information unless this check is coming from the UI"},{"type":"Comment","value":" This MUST be set to true, otherwise all requirements from this script will be ignored","raw":"-- This MUST be set to true, otherwise all requirements from this script will be ignored"},{"type":"Comment","value":" True if player has less than four imagination","raw":"-- True if player has less than four imagination"},{"type":"Comment","value":" Pass the text we want to show, we only need to pass text if they fail the requirement","raw":"-- Pass the text we want to show, we only need to pass text if they fail the requirement"},{"type":"Comment","value":" Pass an icon to show as well, we pass this whether or not they failed the requirement","raw":"-- Pass an icon to show as well, we pass this whether or not they failed the requirement"},{"type":"Comment","value":" This iconID references the 'IconID' column in the 'Icons' DB table.","raw":"-- This iconID references the 'IconID' column in the 'Icons' DB table."},{"type":"Comment","value":" This is the amount that will show up on the icon (as a number)","raw":"-- This is the amount that will show up on the icon (as a number)"},{"type":"Comment","value":" If you pass a 'TargetLOT' AND a 'TargetAmount', the icon will grab the appropriate iconID","raw":"-- If you pass a 'TargetLOT' AND a 'TargetAmount', the icon will grab the appropriate iconID"},{"type":"Comment","value":" automatically based on the LOT of the object. This way if you don't know the IconID, you can","raw":"-- automatically based on the LOT of the object. This way if you don't know the IconID, you can"},{"type":"Comment","value":" use this instead. In the case of this script however, we're already passing an IconID, so","raw":"-- use this instead. In the case of this script however, we're already passing an IconID, so"},{"type":"Comment","value":" we'll leave this commented out.","raw":"-- we'll leave this commented out."},{"type":"Comment","value":"msg.Script_TargetLOT = 1234;","raw":"--msg.Script_TargetLOT = 1234;"},{"type":"Comment","value":" This is the bool we set to actually prevent interaction. This should NEVER","raw":"-- This is the bool we set to actually prevent interaction. This should NEVER"},{"type":"Comment","value":" get set to true under any circumstance. Only set it to false, and only when","raw":"-- get set to true under any circumstance. Only set it to false, and only when"},{"type":"Comment","value":" the player fails a requirement check.","raw":"-- the player fails a requirement check."},{"type":"Comment","value":" This function is called when the object starts up or someone requests a pick type update","raw":"-- This function is called when the object starts up or someone requests a pick type update"},{"type":"Comment","value":" Handling this to set pick type on an object, which makes it able to be interactive","raw":"-- Handling this to set pick type on an object, which makes it able to be interactive"},{"type":"Comment","value":" Interactive pick type (Setting to -1 makes something non-interactive) ","raw":"-- Interactive pick type (Setting to -1 makes something non-interactive) "},{"type":"Comment","value":" This function is called when the player tries to interact with an object, but only if the player ","raw":"-- This function is called when the player tries to interact with an object, but only if the player "},{"type":"Comment","value":" passes the CheckUseRequirements check. 'onClientUse' is client-only, 'onUse' is server-only","raw":"-- passes the CheckUseRequirements check. 'onClientUse' is client-only, 'onUse' is server-only"},{"type":"Comment","value":" If I wanted to do something on the client when the player successfully uses this object,","raw":"-- If I wanted to do something on the client when the player successfully uses this object,"},{"type":"Comment","value":" I could do that here. In the case of this script we're removing imagination on the server","raw":"-- I could do that here. In the case of this script we're removing imagination on the server"},{"type":"Comment","value":" so we don't need to do anything here.","raw":"-- so we don't need to do anything here."}]}