{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"02_server/Map/AG/L_REMOVE_RENTAL_GEAR","raw":"'02_server/Map/AG/L_REMOVE_RENTAL_GEAR'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"firstMission"}],"init":[{"type":"NumericLiteral","value":891,"raw":"891"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"lastMission"}],"init":[{"type":"NumericLiteral","value":320,"raw":"320"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mState"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"Identifier","name":"lastMission"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":768,"raw":"768"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":71,"raw":"71"}}]}}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"StringLiteral","value":"MissionCam","raw":"\"MissionCam\""}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"lastMission"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"inParens":true},"right":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"mState"},"right":{"type":"NumericLiteral","value":8,"raw":"8"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"Identifier","name":"firstMission"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"LastMissionAccepted","raw":"\"LastMissionAccepted\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"param1"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"Identifier","name":"player"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"NumericLiteral","value":113,"raw":"113"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bFlag"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"GuardChat","raw":"\"GuardChat\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"Guard"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":5,"raw":"5"},{"type":"StringLiteral","value":"SelfDie","raw":"\"SelfDie\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseMissionDialogueOK"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"SelfDie","raw":"\"SelfDie\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killtype"},"value":{"type":"StringLiteral","value":"VIOLENT","raw":"\"VIOLENT\""}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SpawnerDeactivate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"StringLiteral","value":"PropertyGuard","raw":"\"PropertyGuard\""}]}},"arguments":[]}}]}]}]}],"comments":[{"type":"Comment","value":"---------------------------------------------------------","raw":"-----------------------------------------------------------"},{"type":"Comment","value":" this script is on the property guard in the ag property","raw":"-- this script is on the property guard in the ag property"},{"type":"Comment","value":" he needs to go away after the player completes the last mission in this property","raw":"-- he needs to go away after the player completes the last mission in this property"},{"type":"Comment","value":" THIS SCRIPT NEEDS COMMENTING","raw":"-- THIS SCRIPT NEEDS COMMENTING"},{"type":"Comment","value":" brandi 6/3/10","raw":"-- brandi 6/3/10"},{"type":"Comment","value":" updated mrb... 7/27/11 - updated for 1.9 existingplayerupdate","raw":"-- updated mrb... 7/27/11 - updated for 1.9 existingplayerupdate"},{"type":"Comment","value":"------------------------------","raw":"--------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" make sure the player has started the guards first mission, workaround for 1.9","raw":"-- make sure the player has started the guards first mission, workaround for 1.9"},{"type":"Comment","value":" the player accepts the mission to touch the orb, and hasnt touched the orb yet, so the mission cam","raw":"-- the player accepts the mission to touch the orb, and hasnt touched the orb yet, so the mission cam"},{"type":"Comment","value":" if the player accepts the last tutorial mission, let the zone control object know","raw":"-- if the player accepts the last tutorial mission, let the zone control object know"},{"type":"Comment","value":" and the guard should teleport away","raw":"-- and the guard should teleport away"},{"type":"Comment","value":" player flag for being able to open the property up to visitors","raw":"-- player flag for being able to open the property up to visitors"}]}