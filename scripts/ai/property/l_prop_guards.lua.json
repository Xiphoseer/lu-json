{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"flag"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"misID872"},"value":{"type":"NumericLiteral","value":97,"raw":"97"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"misID873"},"value":{"type":"NumericLiteral","value":98,"raw":"98"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"misID874"},"value":{"type":"NumericLiteral","value":99,"raw":"99"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"misID1293"},"value":{"type":"NumericLiteral","value":118,"raw":"118"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"misID1322"},"value":{"type":"NumericLiteral","value":122,"raw":"122"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMissionDialogueOK"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"responder"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"missionID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mission"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"misID","raw":"\"misID\""},"right":{"type":"Identifier","name":"missionID"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bFlag"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFlag"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"iFlagID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"flag"},"index":{"type":"Identifier","name":"mission"}}}]}}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayCinematic"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"StringLiteral","value":"MissionCam","raw":"\"MissionCam\""}}]}}}]}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iMissionState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyClientObject"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"GuardChat","raw":"\"GuardChat\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"paramObj"},"value":{"type":"Identifier","name":"Guard"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":5,"raw":"5"},{"type":"StringLiteral","value":"SelfDie","raw":"\"SelfDie\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"SelfDie","raw":"\"SelfDie\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killtype"},"value":{"type":"StringLiteral","value":"VIOLENT","raw":"\"VIOLENT\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerName"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"spawner_name","raw":"\"spawner_name\""}]},"right":{"type":"StringLiteral","value":"Guard","raw":"\"Guard\""}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"spawnerObj"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SpawnerDeactivate"},"base":{"type":"Identifier","name":"spawnerObj"}},"arguments":[]}}]}]}]}]}]}],"comments":[{"type":"Comment","value":"---------------------------------------------------------","raw":"-----------------------------------------------------------"},{"type":"Comment","value":" this script is on the property guard in the ag property","raw":"-- this script is on the property guard in the ag property"},{"type":"Comment","value":" he needs to go away after the player completes the last mission in this property","raw":"-- he needs to go away after the player completes the last mission in this property"},{"type":"Comment","value":" THIS SCRIPT NEEDS COMMENTING","raw":"-- THIS SCRIPT NEEDS COMMENTING"},{"type":"Comment","value":" brandi 6/3/10","raw":"-- brandi 6/3/10"},{"type":"Comment","value":" updated mrb... 1/12/11 - updated for med prop","raw":"-- updated mrb... 1/12/11 - updated for med prop"},{"type":"Comment","value":"------------------------------","raw":"--------------------------------"},{"type":"Comment","value":" the player accepts the mission to touch the orb, and hasnt touched the orb yet, so the mission cam","raw":"-- the player accepts the mission to touch the orb, and hasnt touched the orb yet, so the mission cam"},{"type":"Comment","value":"if the player completes the last mission, the guard should teleport away","raw":"--if the player completes the last mission, the guard should teleport away"},{"type":"Comment","value":" get the spawner name of this object and then get the spawnerObj","raw":"-- get the spawner name of this object and then get the spawnerObj"},{"type":"Comment","value":" if the spawner exists then deactivate it","raw":"-- if the spawner exists then deactivate it"}]}