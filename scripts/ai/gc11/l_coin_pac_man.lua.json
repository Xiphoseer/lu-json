{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onCollision"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objectID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"faction"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetFaction"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"score"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"faction"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"faction"},"base":{"type":"Identifier","name":"faction"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"pickup","raw":"\"pickup\""}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"KillObj"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"Identifier","name":"self"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ArcadeScoreEvent"},"base":{"type":"Identifier","name":"score"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectID"},"value":{"type":"Identifier","name":"self"}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"ignoreCollision"},"base":{"type":"Identifier","name":"msg"}}],"init":[{"type":"BooleanLiteral","value":true,"raw":"true"}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"msg"}]}]}],"comments":[{"type":"Comment","value":"~ function onCollision(self, msg)","raw":"--~ function onCollision(self, msg)"},{"type":"Comment","value":"~ \tlocal target = msg.objectID","raw":"--~ \tlocal target = msg.objectID"},{"type":"Comment","value":"~ \tlocal faction = target:GetFaction()","raw":"--~ \tlocal faction = target:GetFaction()"},{"type":"Comment","value":"~ \tlocal target = GAMEOBJ:GetZoneControlID()","raw":"--~ \tlocal target = GAMEOBJ:GetZoneControlID()"},{"type":"Comment","value":"~ \t-- If a player collided with me, then do our stuff","raw":"--~ \t-- If a player collided with me, then do our stuff"},{"type":"Comment","value":"~ \tif faction and faction.faction == 1 then","raw":"--~ \tif faction and faction.faction == 1 then"},{"type":"Comment","value":"~         --print \"just entered the if statement\"","raw":"--~         --print \"just entered the if statement\""},{"type":"Comment","value":"~             self:PlayFXEffect{effectType = \"pickup\"}","raw":"--~             self:PlayFXEffect{effectType = \"pickup\"}"},{"type":"Comment","value":"~ \t  target:ArcadeScoreEvent{objectID = self}","raw":"--~ \t  target:ArcadeScoreEvent{objectID = self}"},{"type":"Comment","value":"~ \t      print(\"onCollision\")","raw":"--~ \t      print(\"onCollision\")"},{"type":"Comment","value":"~ \t\t--print \"i just cast a skill\"","raw":"--~ \t\t--print \"i just cast a skill\""},{"type":"Comment","value":"~             self:KillObj{targetID = self}","raw":"--~             self:KillObj{targetID = self}"},{"type":"Comment","value":"~ \t\t--print \"i just killed myself\"","raw":"--~ \t\t--print \"i just killed myself\""},{"type":"Comment","value":"~ \t    ","raw":"--~ \t    "},{"type":"Comment","value":"~ \tend       \t","raw":"--~ \tend       \t"},{"type":"Comment","value":"~ \t-- Ignore this on the server actually. More of a test than needed","raw":"--~ \t-- Ignore this on the server actually. More of a test than needed"},{"type":"Comment","value":"~ \tmsg.ignoreCollision = true","raw":"--~ \tmsg.ignoreCollision = true"},{"type":"Comment","value":"~ \t-- ONly do this once","raw":"--~ \t-- ONly do this once"},{"type":"Comment","value":"~   return msg","raw":"--~   return msg"},{"type":"Comment","value":"~ end","raw":"--~ end"},{"type":"Comment","value":"L_SPECIAL_NINJA-FLAG-SPAWNER.lua","raw":"--L_SPECIAL_NINJA-FLAG-SPAWNER.lua"},{"type":"Comment","value":" local newcurrency = 0","raw":"-- local newcurrency = 0"},{"type":"Comment","value":" If a player collided with me, then do our stuff","raw":"-- If a player collided with me, then do our stuff"},{"type":"Comment","value":"print \"just entered the if statement\"","raw":"--print \"just entered the if statement\""},{"type":"Comment","value":" Send the message to the zone object, who will relay it to C++","raw":"-- Send the message to the zone object, who will relay it to C++"},{"type":"Comment","value":"newcurrency = target:GetCurrency().currency","raw":"--newcurrency = target:GetCurrency().currency"},{"type":"Comment","value":"newcurrency = newcurrency + 100","raw":"--newcurrency = newcurrency + 100"},{"type":"Comment","value":" target:SetCurrency {currency = newcurrency}","raw":"-- target:SetCurrency {currency = newcurrency}"},{"type":"Comment","value":"print \"i just cast a skill\"","raw":"--print \"i just cast a skill\""},{"type":"Comment","value":"self:KillObj{targetID = self}","raw":"--self:KillObj{targetID = self}"},{"type":"Comment","value":"print \"i just killed myself\"","raw":"--print \"i just killed myself\""},{"type":"Comment","value":" Ignore this on the server actually. More of a test than needed","raw":"-- Ignore this on the server actually. More of a test than needed"},{"type":"Comment","value":" ONly do this once","raw":"-- ONly do this once"}]}