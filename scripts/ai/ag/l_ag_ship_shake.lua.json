{"type":"Chunk","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"repTime"}],"init":[{"type":"NumericLiteral","value":2,"raw":"2"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"randTime"}],"init":[{"type":"NumericLiteral","value":10,"raw":"10"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"shakeRad"}],"init":[{"type":"NumericLiteral","value":500,"raw":"500.0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"debrisObj"}],"init":[{"type":"StringLiteral","value":"","raw":"''"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"fxName"}],"init":[{"type":"StringLiteral","value":"camshake-bridge","raw":"\"camshake-bridge\""}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"newTime"},"isLocal":false,"parameters":[],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"time"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"Identifier","name":"randTime"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"time"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"randTime"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"time"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"time"},"right":{"type":"BinaryExpression","operator":"/","left":{"type":"Identifier","name":"randTime"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}}}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"repTime"},"right":{"type":"Identifier","name":"time"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"MaxRepTime","raw":"\"MaxRepTime\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"randTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"MaxRepTime","raw":"\"MaxRepTime\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Radius","raw":"\"Radius\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"shakeRad"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Radius","raw":"\"Radius\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"EffectName","raw":"\"EffectName\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"fxName"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"EffectName","raw":"\"EffectName\""}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"debrisObj"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"DebrisFX","raw":"\"DebrisFX\""}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"randomseed"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"Identifier","name":"os"}},"arguments":[]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"repTime"},{"type":"StringLiteral","value":"ShakeTimer","raw":"\"ShakeTimer\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"shipFXObj"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"ShipFX","raw":"\"ShipFX\""}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"shipFX2Obj"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"ShipFX2","raw":"\"ShipFX2\""}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ShakeTimer","raw":"\"ShakeTimer\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"CallExpression","base":{"type":"Identifier","name":"newTime"},"arguments":[]},{"type":"StringLiteral","value":"ShakeTimer","raw":"\"ShakeTimer\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayEmbeddedEffectOnAllClientsNearObject"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"Identifier","name":"shakeRad"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fromObjectID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectName"},"value":{"type":"Identifier","name":"fxName"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"debrisObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"Debris","raw":"\"Debris\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"StringLiteral","value":"DebrisFall","raw":"\"DebrisFall\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"randFX"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":3,"raw":"3"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayFXEffect"},"base":{"type":"Identifier","name":"shipFXObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"FX","raw":"\"FX\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectType"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"shipboom","raw":"'shipboom'"},"right":{"type":"Identifier","name":"randFX"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"effectID"},"value":{"type":"NumericLiteral","value":559,"raw":"559"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"animTime"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetAnimationTime"},"base":{"type":"Identifier","name":"shipFXObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"explosion","raw":"'explosion'"},"right":{"type":"Identifier","name":"randFX"}}}]}}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"animTime"},{"type":"StringLiteral","value":"ExplodeIdle","raw":"\"ExplodeIdle\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"shipFX2Obj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"explosion","raw":"'explosion'"}}]}}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"ExplodeIdle","raw":"\"ExplodeIdle\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"shipFXObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"idle","raw":"'idle'"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"shipFX2Obj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"idle","raw":"'idle'"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":" base time for the first shake","raw":"-- base time for the first shake"},{"type":"Comment","value":" number put into the math.random() to get the next shake","raw":"-- number put into the math.random() to get the next shake"},{"type":"Comment","value":" radius away from object clients should shake","raw":"-- radius away from object clients should shake"},{"type":"Comment","value":"local randFX = {{'fx' = 'shipboom1', 'id' = 559},{'fx' = 'shipboom2', 'id' = 560},{'fx' = 'shipboom3', 'id' = 561}}","raw":"--local randFX = {{'fx' = 'shipboom1', 'id' = 559},{'fx' = 'shipboom2', 'id' = 560},{'fx' = 'shipboom3', 'id' = 561}}"},{"type":"Comment","value":" two different shake effect, only have one uncommented at a time","raw":"-- two different shake effect, only have one uncommented at a time"},{"type":"Comment","value":" Lighter Shake with Angry animation","raw":"-- Lighter Shake with Angry animation"},{"type":"Comment","value":"local fxName = \"camshake\" -- Big Shake","raw":"--local fxName = \"camshake\" -- Big Shake"},{"type":"Comment","value":" see if object has some varibles set in HF","raw":"-- see if object has some varibles set in HF"},{"type":"Comment","value":" Initialize the pseudo random number generator and return ","raw":"-- Initialize the pseudo random number generator and return "},{"type":"Comment","value":" Do the first Shake Timer on start up","raw":"-- Do the first Shake Timer on start up"},{"type":"Comment","value":" check to make sure there is a message and the timer name is correct","raw":"-- check to make sure there is a message and the timer name is correct"},{"type":"Comment","value":" Start another shake timer with newTime()","raw":"-- Start another shake timer with newTime()"},{"type":"Comment","value":" Shakes the players using the variables at the top of the script","raw":"-- Shakes the players using the variables at the top of the script"},{"type":"Comment","value":" Plays ship debris effect","raw":"-- Plays ship debris effect"},{"type":"Comment","value":" Plays ship FX       ","raw":"-- Plays ship FX       "},{"type":"Comment","value":"print('playFX **** ' .. randFX)","raw":"--print('playFX **** ' .. randFX)"},{"type":"Comment","value":" Plays ship FX2","raw":"-- Plays ship FX2"},{"type":"Comment","value":"shipFX2Obj:PlayFXEffect{ name  = \"FX2\", effectType = 'ship-shake', effectID = 578}","raw":"--shipFX2Obj:PlayFXEffect{ name  = \"FX2\", effectType = 'ship-shake', effectID = 578}"},{"type":"Comment","value":"print('reset FX idle ****')","raw":"--print('reset FX idle ****')"}]}