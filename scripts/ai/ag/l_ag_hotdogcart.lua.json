{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bFinishedBuild","raw":"\"bFinishedBuild\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRebuildNotifyState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Burno"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objIDParent"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetParentObj"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"Burno"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"Burno"}},"arguments":[]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"}},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":3,"raw":"3"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bFinishedBuild","raw":"\"bFinishedBuild\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"Burno"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"rebuildDone","raw":"\"rebuildDone\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"Burno"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"rebuildFixing","raw":"\"rebuildFixing\""}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bFinishedBuild","raw":"\"bFinishedBuild\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"bFinishedBuild","raw":"\"bFinishedBuild\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"NotifyObject"},"base":{"type":"Identifier","name":"Burno"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ObjIDSender"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"name"},"value":{"type":"StringLiteral","value":"rebuildCancelled","raw":"\"rebuildCancelled\""}}]}}}]}]}]}]}]}],"comments":[{"type":"Comment","value":" a player just did the quickbuild.","raw":"-- a player just did the quickbuild."},{"type":"Comment","value":" a player is currently fixing me","raw":"-- a player is currently fixing me"},{"type":"Comment","value":" the quickbuild is being reset either","raw":"-- the quickbuild is being reset either"},{"type":"Comment","value":" because a player finished it or","raw":"-- because a player finished it or"},{"type":"Comment","value":" because a player was doing the quickbuild, but used the UI button to exit before finishing it","raw":"-- because a player was doing the quickbuild, but used the UI button to exit before finishing it"},{"type":"Comment","value":" KEEPING THIS AROUND JUST IN CASE","raw":"-- KEEPING THIS AROUND JUST IN CASE"},{"type":"Comment","value":" This is the state to tell Burno that the cart is broken.  Don't  need it due to timers and idles.","raw":"-- This is the state to tell Burno that the cart is broken.  Don't  need it due to timers and idles."},{"type":"Comment","value":"if (msg.iState == 0) then                     ","raw":"--if (msg.iState == 0) then                     "},{"type":"Comment","value":" The cart(me) just broke","raw":"-- The cart(me) just broke"},{"type":"Comment","value":"\tlocal Burno = self:GetParentObj().objIDParent        ","raw":"--\tlocal Burno = self:GetParentObj().objIDParent        "},{"type":"Comment","value":"\tif( Burno ~= nil and Burno:Exists() ) then","raw":"--\tif( Burno ~= nil and Burno:Exists() ) then"},{"type":"Comment","value":"\t \tBurno:NotifyObject{ ObjIDSender = self, name = \"rebuildBroken\" }","raw":"--\t \tBurno:NotifyObject{ ObjIDSender = self, name = \"rebuildBroken\" }"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"end","raw":"--end"}]}