{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"CONSTANTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NO_OBJECT","raw":"\"NO_OBJECT\""}}],"init":[{"type":"StringLiteral","value":"0","raw":"\"0\""}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mobTarget"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wallGroupNames"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"wallEffectA","raw":"\"wallEffectA\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"wallEffectB","raw":"\"wallEffectB\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerNamesA"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"strombieA","raw":"\"strombieA\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"mechA","raw":"\"mechA\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerNamesB"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"strombieB","raw":"\"strombieB\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"mechB","raw":"\"mechB\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerGroups"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"Identifier","name":"spawnerNamesA"}},{"type":"TableValue","value":{"type":"Identifier","name":"spawnerNamesB"}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"groupA"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"groupB"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onPlayerReady"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerGroup"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroups"}]}],"body":[{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroup"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawner"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"spawner"},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SendLuaNotificationRequest"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"requestTarget"},"value":{"type":"Identifier","name":"spawner"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"messageName"},"value":{"type":"StringLiteral","value":"NotifySpawnerOfDeath","raw":"\"NotifySpawnerOfDeath\""}}]}}}]}]}]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"groupName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"wallGroupNames"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wallFX"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"Identifier","name":"groupName"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"wallFX"},"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"wallFX"}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"wallFX"},"index":{"type":"Identifier","name":"i"}},{"type":"StringLiteral","value":"effect","raw":"\"effect\""},{"type":"StringLiteral","value":"beam","raw":"\"beam\""}]}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyNotifySpawnerOfDeath"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"mob death","raw":"\"mob death\""}]}},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerGroup"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroups"}]}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"currentSpawned"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroup"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawner"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"mobs"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iSpawned"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SpawnerGetCurrentSpawned"},"base":{"type":"Identifier","name":"spawner"}},"arguments":[]}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"currentSpawned"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"currentSpawned"},"right":{"type":"Identifier","name":"mobs"}}]}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroup"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawner"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"spawner"},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"currentSpawned"},"right":{"type":"Identifier","name":"mobTarget"}},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"spawnerGroup"},"right":{"type":"Identifier","name":"spawnerNamesA"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"groupA"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"groupA"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroup"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerOFF"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SpawnerDeactivate"},"base":{"type":"Identifier","name":"spawnerOFF"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"object"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"physics_01","raw":"\"physics_01\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"object"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"object"}},"arguments":[{"type":"StringLiteral","value":"Active","raw":"\"Active\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wallFX"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"wallEffectA","raw":"\"wallEffectA\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"wallFX"},"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"wallFX"}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"wallFX"},"index":{"type":"Identifier","name":"i"}},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""},{"type":"StringLiteral","value":"beam","raw":"\"beam\""}]}}]}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"spawnerGroup"},"right":{"type":"Identifier","name":"spawnerNamesB"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"groupB"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"groupB"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"spawnerName"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"spawnerGroup"}]}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnerOFF"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSpawnerByName"},"base":{"type":"Identifier","name":"LEVEL"}},"arguments":[{"type":"Identifier","name":"spawnerName"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SpawnerDeactivate"},"base":{"type":"Identifier","name":"spawnerOFF"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"object"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"physics_02","raw":"\"physics_02\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"object"},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"object"}},"arguments":[{"type":"StringLiteral","value":"Active","raw":"\"Active\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wallFX"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"wallEffectB","raw":"\"wallEffectB\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"wallFX"},"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"wallFX"}},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoObjectAction"},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"wallFX"},"index":{"type":"Identifier","name":"i"}},{"type":"StringLiteral","value":"stopeffects","raw":"\"stopeffects\""},{"type":"StringLiteral","value":"beam","raw":"\"beam\""}]}}]}]}]}]}]}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":"---------------------------------------------------------","raw":"-----------------------------------------------------------"},{"type":"Comment","value":" Deactivate spawner areas if all mobs in area have been killed","raw":"-- Deactivate spawner areas if all mobs in area have been killed"},{"type":"Comment","value":" Updated 3/24 Darren McKinsey","raw":"-- Updated 3/24 Darren McKinsey"},{"type":"Comment","value":"---------------------------------------------------------","raw":"-----------------------------------------------------------"},{"type":"Comment","value":"the amount of mobs allowed before shutting off the area","raw":"--the amount of mobs allowed before shutting off the area"},{"type":"Comment","value":" the table of wall effects","raw":"-- the table of wall effects"},{"type":"Comment","value":",\"wallEffectC\"}","raw":"--,\"wallEffectC\"}"},{"type":"Comment","value":" the table of spawnernetworks","raw":"-- the table of spawnernetworks"},{"type":"Comment","value":",\"wallEffect_03\"}","raw":"--,\"wallEffect_03\"}"},{"type":"Comment","value":",\"wallEffect_03\"}","raw":"--,\"wallEffect_03\"}"},{"type":"Comment","value":"local missionState = player:GetMissionState{missionID = 785}.missionState","raw":"--local missionState = player:GetMissionState{missionID = 785}.missionState"},{"type":"Comment","value":"print(\"startup\")","raw":"--print(\"startup\")"},{"type":"Comment","value":" set spawners to be notified when something dies that they spawned","raw":"-- set spawners to be notified when something dies that they spawned"},{"type":"Comment","value":" turn on wall effects","raw":"-- turn on wall effects"},{"type":"Comment","value":" When death notified the all spawn networks are checked for having no mobs on them, if the set of networks has zero mobs the corresponding area is opened up.","raw":"-- When death notified the all spawn networks are checked for having no mobs on them, if the set of networks has zero mobs the corresponding area is opened up."},{"type":"Comment","value":"  add currently spawned mobs from each network in group","raw":"--  add currently spawned mobs from each network in group"},{"type":"Comment","value":" print(currentSpawned)","raw":"-- print(currentSpawned)"},{"type":"Comment","value":"-----------------------------------","raw":"-------------------------------------"},{"type":"Comment","value":" Section for each Spawner Group  --","raw":"-- Section for each Spawner Group  --"},{"type":"Comment","value":"-----------------------------------","raw":"-------------------------------------"},{"type":"Comment","value":"print(\"turn off groupA\")","raw":"--print(\"turn off groupA\")"},{"type":"Comment","value":" shut off spawner networks","raw":"-- shut off spawner networks"},{"type":"Comment","value":" shut off physics","raw":"-- shut off physics"},{"type":"Comment","value":" shut off maelstrom effects","raw":"-- shut off maelstrom effects"},{"type":"Comment","value":"-----------------------------------","raw":"-------------------------------------"},{"type":"Comment","value":"-----------------------------------","raw":"-------------------------------------"},{"type":"Comment","value":" Section for each Spawner Group  --","raw":"-- Section for each Spawner Group  --"},{"type":"Comment","value":"-----------------------------------","raw":"-------------------------------------"},{"type":"Comment","value":"print(\"turn off groupB\")","raw":"--print(\"turn off groupB\")"},{"type":"Comment","value":" shut off spawner networks","raw":"-- shut off spawner networks"},{"type":"Comment","value":" shut off physics\t\t\t\t\t\t\t","raw":"-- shut off physics\t\t\t\t\t\t\t"},{"type":"Comment","value":" shut off maelstrom effects","raw":"-- shut off maelstrom effects"}]}