{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFaction"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"faction"},"value":{"type":"NumericLiteral","value":6,"raw":"6"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRebuildNotifyState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFaction"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"faction"},"value":{"type":"NumericLiteral","value":37,"raw":"37"}}]}}}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iState"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFaction"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"faction"},"value":{"type":"NumericLiteral","value":6,"raw":"6"}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"killerID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"right":{"type":"StringLiteral","value":"0","raw":"\"0\""}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mypos"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"posString"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"string"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CreatePositionString"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"mypos"}},"right":{"type":"NumericLiteral","value":10,"raw":"10"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"mypos"}},"right":{"type":"NumericLiteral","value":20,"raw":"20"}}}]}}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myRot"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetRotation"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"parent"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"killerID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"rebuild_activators","raw":"\"rebuild_activators\""}},{"type":"TableValue","value":{"type":"Identifier","name":"posString"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"respawn","raw":"\"respawn\""}},{"type":"TableValue","value":{"type":"NumericLiteral","value":100000,"raw":"100000"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"rebuild_reset_time","raw":"\"rebuild_reset_time\""}},{"type":"TableValue","value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":1,"raw":"1"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"no_timed_spawn","raw":"\"no_timed_spawn\""}},{"type":"TableValue","value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"CheckPrecondition","raw":"\"CheckPrecondition\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"0:21","raw":"\"0:21\""}}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":6483,"raw":"6483"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"mypos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rw"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"Identifier","name":"myRot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rx"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"myRot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ry"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"myRot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rz"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"myRot"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"parent"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------","raw":"--------------------------------------------------"},{"type":"Comment","value":"script on the QB wall that spawns another quick build when destroyed and resets it's faction","raw":"--script on the QB wall that spawns another quick build when destroyed and resets it's faction"},{"type":"Comment","value":"------------------------------------------------","raw":"--------------------------------------------------"},{"type":"Comment","value":"print(\"QB wall starting up!\")","raw":"--print(\"QB wall starting up!\")"},{"type":"Comment","value":"print(\"wall faction set to 6!\")","raw":"--print(\"wall faction set to 6!\")"},{"type":"Comment","value":"print(\"notifying state\")","raw":"--print(\"notifying state\")"},{"type":"Comment","value":"print(\"faction set to 37\")","raw":"--print(\"faction set to 37\")"},{"type":"Comment","value":"print(\"faction set to 6\")","raw":"--print(\"faction set to 6\")"},{"type":"Comment","value":"print(\"QB wall down!\")","raw":"--print(\"QB wall down!\")"},{"type":"Comment","value":"print(\"spawning QB\")","raw":"--print(\"spawning QB\")"}]}