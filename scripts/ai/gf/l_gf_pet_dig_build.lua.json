{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onRebuildComplete"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"oPos"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"TableConstructorExpression","fields":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"rot"},"value":{"type":"TableConstructorExpression","fields":[]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"userID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"flagNum","raw":"\"flagNum\""}]},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Flag","raw":"\"Flag\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"flagNum","raw":"\"flagNum\""}]}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"builder","raw":"\"builder\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"Identifier","name":"player"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"X","raw":"\"X\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":7410,"raw":"7410"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}},"right":{"type":"NumericLiteral","value":0.5,"raw":".5"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mission"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"missionState"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMissionState"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"userID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"missionID"},"value":{"type":"NumericLiteral","value":746,"raw":"746"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"mission"},"right":{"type":"NumericLiteral","value":2,"raw":"2"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"builder","raw":"\"builder\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"Identifier","name":"player"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"X","raw":"\"X\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":3495,"raw":"3495"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}},"right":{"type":"NumericLiteral","value":0.5,"raw":".5"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"config"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"builder","raw":"\"builder\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"Identifier","name":"player"}}}]}},{"type":"TableValue","value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"X","raw":"\"X\""}},{"type":"TableValue","value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"'|'"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"NumericLiteral","value":9307,"raw":"9307"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"BinaryExpression","operator":"+","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}},"right":{"type":"NumericLiteral","value":0.5,"raw":".5"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"Identifier","name":"oPos"}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"configData"},"value":{"type":"Identifier","name":"config"}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"childLOT"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"childLOT"},"right":{"type":"NumericLiteral","value":3495,"raw":"3495"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"childLOT"},"right":{"type":"NumericLiteral","value":9307,"raw":"9307"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"childLOT"},"right":{"type":"NumericLiteral","value":7410,"raw":"7410"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"chestObj","raw":"\"chestObj\""},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"\"|\""},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"chestID"}],"init":[{"type":"LogicalExpression","operator":"or","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"chestObj","raw":"\"chestObj\""}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"chestObj"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"chestID"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"chestObj"}},"arguments":[]},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"chestObj"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"StringLiteral","value":"SILENT","raw":"\"SILENT\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Script on the red X to spawn certain pets digs","raw":"-- Script on the red X to spawn certain pets digs"},{"type":"Comment","value":" ","raw":"-- "},{"type":"Comment","value":" created by brandi 3/9/10","raw":"-- created by brandi 3/9/10"},{"type":"Comment","value":" updated by mrb... 1/18/11 - kill the treasure chest onDie if it's alive","raw":"-- updated by mrb... 1/18/11 - kill the treasure chest onDie if it's alive"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"get the position and rotation of the X to spawn the pet treasure node in the same location.","raw":"--get the position and rotation of the X to spawn the pet treasure node in the same location."},{"type":"Comment","value":" if this is one of the x builds in GF, they have flagNum config data put on them in HF","raw":"-- if this is one of the x builds in GF, they have flagNum config data put on them in HF"},{"type":"Comment","value":"load the pet treasure node, passing the player the built the X as a varible and the config data of the collible flag number","raw":"--load the pet treasure node, passing the player the built the X as a varible and the config data of the collible flag number"},{"type":"Comment","value":"X is to smash this quickbuild","raw":"--X is to smash this quickbuild"},{"type":"Comment","value":" the only other x build is in AG","raw":"-- the only other x build is in AG"},{"type":"Comment","value":"if the player is not on the missions 746 from Captain jack, then spawn a normal pet dig","raw":"--if the player is not on the missions 746 from Captain jack, then spawn a normal pet dig"},{"type":"Comment","value":"X is to smash this quickbuild","raw":"--X is to smash this quickbuild"},{"type":"Comment","value":" the player is on mission 746, spawn the pet dig that spits out pic of Captain Jacks mom","raw":"-- the player is on mission 746, spawn the pet dig that spits out pic of Captain Jacks mom"},{"type":"Comment","value":"X is to smash this quickbuild","raw":"--X is to smash this quickbuild"},{"type":"Comment","value":" killing the treasure node with violent is what spits out the loot, and the loot shows up for the pet owner","raw":"-- killing the treasure node with violent is what spits out the loot, and the loot shows up for the pet owner"}]}