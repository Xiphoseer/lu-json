{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.SuspendLuaMovementAI","raw":"\"Set.SuspendLuaMovementAI\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""},{"type":"StringLiteral","value":"Wander","raw":"\"Wander\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderChance","raw":"\"Set.WanderChance\""},{"type":"NumericLiteral","value":100,"raw":"100"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderDelayMin","raw":"\"Set.WanderDelayMin\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderDelayMax","raw":"\"Set.WanderDelayMax\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderSpeed","raw":"\"Set.WanderSpeed\""},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.wanderRadius","raw":"\"Set.wanderRadius\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"groupName"}],"iterators":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"gmatch"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}]},{"type":"StringLiteral","value":"%w+;","raw":"\"%w+;\""}]}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"groupName"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"groupName"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":2,"raw":"2"}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"mygroup"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"Identifier","name":"groupName"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"i"},{"type":"Identifier","name":"object"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"ipairs"},"arguments":[{"type":"Identifier","name":"mygroup"}]}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"object"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"Identifier","name":"object"}},"arguments":[]}},"right":{"type":"NumericLiteral","value":8551,"raw":"8551"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"Identifier","name":"object"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"StringLiteral","value":"ISpawned","raw":"\"ISpawned\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objtemplate"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetLOT"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"killerID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}},"right":{"type":"NumericLiteral","value":8665,"raw":"8665"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"volume"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"HorsemenTrigger","raw":"\"HorsemenTrigger\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"volume"},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FireEvent"},"base":{"type":"Identifier","name":"volume"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"senderID"},"value":{"type":"Identifier","name":"self"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"args"},"value":{"type":"StringLiteral","value":"HorsemanDeath","raw":"\"HorsemanDeath\""}}]}}}]}]}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------","raw":"--------------------------------------------------------"},{"type":"Comment","value":"horsemen 1 script","raw":"--horsemen 1 script"},{"type":"Comment","value":"------------------------------------------------------","raw":"--------------------------------------------------------"},{"type":"Comment","value":" a state suspending scripted movement AI","raw":"-- a state suspending scripted movement AI"},{"type":"Comment","value":" this is how the NPC will behave when not on a path. ","raw":"-- this is how the NPC will behave when not on a path. "},{"type":"Comment","value":" Wander Settings ---------------------------------------------------------","raw":"-- Wander Settings ---------------------------------------------------------"},{"type":"Comment","value":" Main Weight","raw":"-- Main Weight"},{"type":"Comment","value":" Min Wander Delay","raw":"-- Min Wander Delay"},{"type":"Comment","value":" Max Wander Delay","raw":"-- Max Wander Delay"},{"type":"Comment","value":" Move speed ","raw":"-- Move speed "},{"type":"Comment","value":" Move radius ","raw":"-- Move radius "},{"type":"Comment","value":"print(\"horseman 1 starting up\")","raw":"--print(\"horseman 1 starting up\")"},{"type":"Comment","value":"print( tostring(self:GetVar(\"groupID\")) )","raw":"--print( tostring(self:GetVar(\"groupID\")) )"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"get the name of the group that the object is in and trim off the ';'s","raw":"--get the name of the group that the object is in and trim off the ';'s"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"for the object in my group with ID 8551, tell it I spawned","raw":"--for the object in my group with ID 8551, tell it I spawned"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"print(\"telling the turret I spawned\")","raw":"--print(\"telling the turret I spawned\")"},{"type":"Comment","value":" on horseman death","raw":"-- on horseman death"},{"type":"Comment","value":" if Brick Fury killed the horseman","raw":"-- if Brick Fury killed the horseman"},{"type":"Comment","value":" get the mission update volume by group name, tell it Brick fury killed the horseman","raw":"-- get the mission update volume by group name, tell it Brick fury killed the horseman"},{"type":"Comment","value":"I'm assuming there is only one volume","raw":"--I'm assuming there is only one volume"}]}