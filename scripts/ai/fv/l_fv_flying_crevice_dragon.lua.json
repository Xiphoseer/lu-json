{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onArrived"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"wayPoint"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"attack1","raw":"\"attack1\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":1.75,"raw":"1.75"},{"type":"StringLiteral","value":"platform1attack","raw":"\"platform1attack\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"wayPoint"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":12,"raw":"12"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"attack2","raw":"\"attack2\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"group2"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"dragonFireballs2","raw":"\"dragonFireballs2\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"group2"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"group2"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":762,"raw":"762"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"minionCount"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":2,"raw":"2"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"group2"}},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"minionCount"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"NumericLiteral","value":5,"raw":"5"}]},"right":{"type":"NumericLiteral","value":3,"raw":"3"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"group2"},"index":{"type":"Identifier","name":"i"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":762,"raw":"762"}}]}}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"minionCount"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"minionCount"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"wayPoint"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":16,"raw":"16"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayAnimation"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"animationID"},"value":{"type":"StringLiteral","value":"attack3","raw":"\"attack3\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"fPriority"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"NumericLiteral","value":0.5,"raw":".5"},{"type":"StringLiteral","value":"platform3attack","raw":"\"platform3attack\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"platform1attack","raw":"\"platform1attack\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"platform3attack","raw":"\"platform3attack\""}}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"groupName"}],"init":[]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"platform1attack","raw":"\"platform1attack\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"groupName"}],"init":[{"type":"StringLiteral","value":"dragonFireballs1","raw":"\"dragonFireballs1\""}]}]},{"type":"ElseifClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"platform3attack","raw":"\"platform3attack\""}},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"groupName"}],"init":[{"type":"StringLiteral","value":"dragonFireballs3","raw":"\"dragonFireballs3\""}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"group"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"objects"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectsInGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"Identifier","name":"groupName"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ignoreSpawners"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"group"},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"group"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":762,"raw":"762"}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"minionCount"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":2,"raw":"2"},"end":{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"group"}},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"minionCount"},"right":{"type":"NumericLiteral","value":4,"raw":"4"}},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"random"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"NumericLiteral","value":5,"raw":"5"}]},"right":{"type":"NumericLiteral","value":3,"raw":"3"}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"group"},"index":{"type":"Identifier","name":"i"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"NumericLiteral","value":762,"raw":"762"}}]}}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"minionCount"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"minionCount"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]}]}]}]}]}]}],"comments":[{"type":"Comment","value":" When the flying dragon arrives at certain waypoints it tells objects on the platforms to fire skills.","raw":"-- When the flying dragon arrives at certain waypoints it tells objects on the platforms to fire skills."}]}