{"type":"Chunk","body":[{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.SuspendLuaMovementAI","raw":"\"Set.SuspendLuaMovementAI\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""},{"type":"StringLiteral","value":"Wander","raw":"\"Wander\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderChance","raw":"\"Set.WanderChance\""},{"type":"NumericLiteral","value":100,"raw":"100"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderDelayMin","raw":"\"Set.WanderDelayMin\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderDelayMax","raw":"\"Set.WanderDelayMax\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WanderSpeed","raw":"\"Set.WanderSpeed\""},{"type":"NumericLiteral","value":1,"raw":"1"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.wanderRadius","raw":"\"Set.wanderRadius\""},{"type":"NumericLiteral","value":5,"raw":"5"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddObjectToGroup"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"group"},"value":{"type":"StringLiteral","value":"RoninEnemies","raw":"\"RoninEnemies\""}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"suicideTimer"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"suicideTimer","raw":"\"suicideTimer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"suicideTimer"},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"suicideTimer"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"suicideTimer"},{"type":"StringLiteral","value":"Dead","raw":"\"Dead\""},{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"Dead","raw":"\"Dead\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestDie"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killType"},"value":{"type":"Identifier","name":"SILENT"}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"-----------------------------------------------------------","raw":"-------------------------------------------------------------"},{"type":"Comment","value":"Ronin script that kills them after a certain time","raw":"--Ronin script that kills them after a certain time"},{"type":"Comment","value":"-----------------------------------------------------------","raw":"-------------------------------------------------------------"},{"type":"Comment","value":" a state suspending scripted movement AI","raw":"-- a state suspending scripted movement AI"},{"type":"Comment","value":" this is how the NPC will behave when not on a path. ","raw":"-- this is how the NPC will behave when not on a path. "},{"type":"Comment","value":" Wander Settings ---------------------------------------------------------","raw":"-- Wander Settings ---------------------------------------------------------"},{"type":"Comment","value":" Main Weight","raw":"-- Main Weight"},{"type":"Comment","value":" Min Wander Delay","raw":"-- Min Wander Delay"},{"type":"Comment","value":" Max Wander Delay","raw":"-- Max Wander Delay"},{"type":"Comment","value":" Move speed ","raw":"-- Move speed "},{"type":"Comment","value":" Move radius ","raw":"-- Move radius "},{"type":"Comment","value":" add a 'suicide timer' if this object was spawned with a request for it","raw":"-- add a 'suicide timer' if this object was spawned with a request for it"},{"type":"Comment","value":" (this normally happens when spawned by a statue, so that it is forced to reset back to statue mode after a bit)","raw":"-- (this normally happens when spawned by a statue, so that it is forced to reset back to statue mode after a bit)"},{"type":"Comment","value":" TODO: we need a message to request whether or not we have anyone on our threat list","raw":"-- TODO: we need a message to request whether or not we have anyone on our threat list"},{"type":"Comment","value":"       so that we can delay the timer again instead of killing ourselves... otherwise,","raw":"--       so that we can delay the timer again instead of killing ourselves... otherwise,"},{"type":"Comment","value":"       it just looks like a bug...  (Though it has been pointed out that the statue is","raw":"--       it just looks like a bug...  (Though it has been pointed out that the statue is"},{"type":"Comment","value":"       going to respawn regardless, so it's possible we don't want to actually do this...)","raw":"--       going to respawn regardless, so it's possible we don't want to actually do this...)"}]}