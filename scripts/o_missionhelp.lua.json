{"type":"Chunk","body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_AVAILABLE"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_ACTIVE"}],"init":[{"type":"NumericLiteral","value":2,"raw":"2"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE"}],"init":[{"type":"NumericLiteral","value":3,"raw":"3"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_COMPLETE"}],"init":[{"type":"NumericLiteral","value":4,"raw":"4"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_FAIL"}],"init":[{"type":"NumericLiteral","value":5,"raw":"5"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE_REPORTED"}],"init":[{"type":"NumericLiteral","value":6,"raw":"6"}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"AddMissionHelp"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"dataTable"},{"type":"Identifier","name":"missionID"},{"type":"Identifier","name":"state"},{"type":"Identifier","name":"myFunc"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dataTable"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}}],"init":[{"type":"TableConstructorExpression","fields":[]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"index":{"type":"Identifier","name":"state"}},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"MISSION_STATE"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"action"},"value":{"type":"Identifier","name":"myFunc"}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"index":{"type":"Identifier","name":"state"}}],"init":[{"type":"Identifier","name":"MISSION_STATE"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"bit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"p"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"^","left":{"type":"NumericLiteral","value":2,"raw":"2"},"right":{"type":"BinaryExpression","operator":"-","left":{"type":"Identifier","name":"p"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"hasbit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"x"},{"type":"Identifier","name":"p"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":">=","left":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"x"},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"p"},"right":{"type":"Identifier","name":"p"},"inParens":true}},"right":{"type":"Identifier","name":"p"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"ActivateHelp"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"dataTable"},{"type":"Identifier","name":"missionID"},{"type":"Identifier","name":"missionState"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_AVAILABLE"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_AVAILABLE"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE_REPORTED"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE_REPORTED"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_READY_TO_COMPLETE"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_COMPLETE"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_COMPLETE"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_FAIL"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_FAIL"}]}]},{"type":"ElseifClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"hasbit"},"arguments":[{"type":"Identifier","name":"missionState"},{"type":"CallExpression","base":{"type":"Identifier","name":"bit"},"arguments":[{"type":"Identifier","name":"MISSION_ACTIVE"}]}],"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"checkState"}],"init":[{"type":"Identifier","name":"MISSION_ACTIVE"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"Identifier","name":"checkState"},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"index":{"type":"Identifier","name":"checkState"}}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"action"},"base":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"index":{"type":"Identifier","name":"checkState"}}},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"action"},"base":{"type":"IndexExpression","base":{"type":"IndexExpression","base":{"type":"Identifier","name":"dataTable"},"index":{"type":"Identifier","name":"missionID"}},"index":{"type":"Identifier","name":"checkState"}}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Mission Helper Functions","raw":"-- Mission Helper Functions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Add mission help to the data structure","raw":"-- Add mission help to the data structure"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Bit Checking Functions","raw":"-- Bit Checking Functions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" 1-based indexing","raw":"-- 1-based indexing"},{"type":"Comment","value":" Typical call:  if hasbit(x, bit(3)) then ...","raw":"-- Typical call:  if hasbit(x, bit(3)) then ..."},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Performs help actions for an object based on missions and mission states","raw":"-- Performs help actions for an object based on missions and mission states"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set the state we are looking for","raw":"-- set the state we are looking for"},{"type":"Comment","value":" good state, check state for mission and do action","raw":"-- good state, check state for mission and do action"}]}