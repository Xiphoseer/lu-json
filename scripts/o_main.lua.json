{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"State","raw":"'State'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_WayPointEvents","raw":"'o_WayPointEvents'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_onEvent","raw":"'o_onEvent'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_Movement","raw":"\"o_Movement\""}]}},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CreateStates"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"Timers"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"Timers"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}],"init":[{"type":"StringLiteral","value":"blank","raw":"\"blank\""}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Timers","raw":"\"Timers\""},{"type":"Identifier","name":"Timers"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetTetherPoint"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"tetherPt"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CombatState"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.WayPointSet","raw":"\"Set.WayPointSet\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"attached_path","raw":"\"attached_path\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"groupID","raw":"\"groupID\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"UseWayPoints"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Pet_Active","raw":"\"Set.Pet_Active\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetPetClass"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""}]},"right":{"type":"StringLiteral","value":"Frozen","raw":"\"Frozen\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AggroState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""}]},"right":{"type":"StringLiteral","value":"Guard","raw":"\"Guard\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"AggroState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""}]},"right":{"type":"StringLiteral","value":"Wander","raw":"\"Wander\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"MeanderState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.FollowActive","raw":"\"Set.FollowActive\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"FollowState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Helper","raw":"\"Set.Helper\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetHelper"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"customState"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"customState"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"onTemplateCustomStateEnter","inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"onTemplateCustomStateEnter"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true}},"body":[{"type":"ReturnStatement","arguments":[]}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onArrived"},"base":{"type":"Identifier","name":"customState"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"onTemplateCustomStateArrived","inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"onTemplateCustomStateArrived"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true}},"body":[{"type":"ReturnStatement","arguments":[]}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"Idle"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"Idle"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Pet_Active","raw":"\"Set.Pet_Active\""}]},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PetLoaded","raw":"\"PetLoaded\""}]}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"PetLoaded","raw":"\"PetLoaded\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"PetClass","raw":"\"PetClass\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"RebuildStart","raw":"\"RebuildStart\""}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"inpursuit","raw":"\"inpursuit\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Emote_EventDelay","raw":"\"Set.Emote_EventDelay\""}]},{"type":"StringLiteral","value":"rebuildBreak","raw":"\"rebuildBreak\""},{"type":"Identifier","name":"self"}]}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"AiDisable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"AiDisable"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""},{"type":"NilLiteral","value":null,"raw":"nil"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetTetherPoint"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"tetherPt"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"pos"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetPosition"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CancelTemplateTimers"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"AiDisabled","raw":"\"AiDisabled\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"StopPathing"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"AiEnable"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"AiEnable"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"AiDisabled","raw":"\"AiDisabled\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetResetState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"Dead"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"Dead"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurrentState","raw":"\"CurrentState\""},{"type":"StringLiteral","value":"Dead","raw":"\"Dead\""}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"I_Have_A_Parent","raw":"\"I_Have_A_Parent\""}]},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"WpSetName"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"attached_path","raw":"\"attached_path\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myParent"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"sSplit"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"split"},"arguments":[{"type":"Identifier","name":"WpSetName"},{"type":"StringLiteral","value":"_","raw":"\"_\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"xSplit"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"xSplit"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"alpa"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"sSplit"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"num"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"sSplit"},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"myParent"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"SpawnedVar","raw":"\"SpawnedVar\""}]},{"type":"StringLiteral","value":"NotSpawned","raw":"\"NotSpawned\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setState"},"arguments":[{"type":"StringLiteral","value":"DeadChild","raw":"\"DeadChild\""},{"type":"Identifier","name":"myParent"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Im_A_Child","raw":"\"Im_A_Child\""}]},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"myParent"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getParent"},"arguments":[{"type":"Identifier","name":"self"}]}},"arguments":[{"type":"StringLiteral","value":"MaxPet","raw":"\"MaxPet\""}]},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myidString"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myfinalID"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"\"|\""},"right":{"type":"Identifier","name":"myidString"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Pet"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"CallExpression","base":{"type":"Identifier","name":"getPetID"},"arguments":[{"type":"Identifier","name":"myParent"},{"type":"Identifier","name":"i"}]}},"arguments":[]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"Pet"},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"myParent"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"StoredPet.","raw":"\"StoredPet.\""},"right":{"type":"Identifier","name":"i"}},{"type":"StringLiteral","value":"none","raw":"\"none\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"myParent"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Child_Timer.","raw":"\"Child_Timer.\""},"right":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"myfinalID"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"myParent"}},"arguments":[{"type":"StringLiteral","value":"Set.Pet_Respawn","raw":"\"Set.Pet_Respawn\""}]},{"type":"Identifier","name":"myfinalID"},{"type":"Identifier","name":"myParent"}]}}]}]}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"getVarables"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"CancelTemplateTimers"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"tether"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"tether"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"aggrotarget","raw":"\"aggrotarget\""},{"type":"NumericLiteral","value":2,"raw":"2"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetImmunity"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"immunity"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"myTarget","raw":"\"myTarget\""},{"type":"NilLiteral","value":null,"raw":"nil"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.tetherSpeed","raw":"\"Set.tetherSpeed\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Tspeed"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.tetherSpeed","raw":"\"Set.tetherSpeed\""}]}]}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Tspeed"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPos"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GoTo"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.tetherSpeed","raw":"\"Set.tetherSpeed\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"myPos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"myPos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"myPos"}}}]}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onArrived"},"base":{"type":"Identifier","name":"tether"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurrentState","raw":"\"CurrentState\""},{"type":"StringLiteral","value":"tether","raw":"\"tether\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"aggrotarget","raw":"\"aggrotarget\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetHealth"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"health"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"health"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetMaxHealth"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[]}}}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetImmunity"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"immunity"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"getVarables"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetResetState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"GoHome"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"GoHome"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurrentState","raw":"\"CurrentState\""},{"type":"StringLiteral","value":"GoHome","raw":"\"GoHome\""}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"hpos"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GoTo"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"target"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"hpos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"hpos"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"hpos"}}}]}}]}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onArrived"},"base":{"type":"Identifier","name":"GoHome"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetRotation"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"rot","raw":"\"rot\""}]}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SetResetState"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"dist"},"isLocal":false,"parameters":[{"type":"Identifier","name":"a"},{"type":"Identifier","name":"b"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dx"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"abs"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"b"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"a"}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dy"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"abs"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"b"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"a"}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dz"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"abs"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"b"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"a"}}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"d"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sqrt"},"base":{"type":"Identifier","name":"math"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"^","left":{"type":"Identifier","name":"dx"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true},"right":{"type":"BinaryExpression","operator":"^","left":{"type":"Identifier","name":"dy"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true}},"right":{"type":"BinaryExpression","operator":"^","left":{"type":"Identifier","name":"dz"},"right":{"type":"NumericLiteral","value":2,"raw":"2"},"inParens":true}}]}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"d"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"Distance"},"isLocal":false,"parameters":[{"type":"Identifier","name":"point1"},{"type":"Identifier","name":"point2"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"distance"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"distance"}}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"point2"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"point1"}},"inParens":true}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"distance"}}],"init":[{"type":"BinaryExpression","operator":"-","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"point2"}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"point1"}},"inParens":true}]},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"distance"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"AggroState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"aggro"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurrentState","raw":"\"CurrentState\""},{"type":"StringLiteral","value":"aggro","raw":"\"aggro\""}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"INITIAL_ATTACK_TIME"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"INITIAL_ATTACK_TIME"},{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"MeanderPause","raw":"\"MeanderPause\""},{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myPos"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getHomePoint"},"arguments":[{"type":"Identifier","name":"self"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"target"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"AttackingTarget","raw":"\"AttackingTarget\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"target"}},"arguments":[]}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Aggroed","raw":"\"Aggroed\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ProximityPuls"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.MovementType","raw":"\"Set.MovementType\""}]},"right":{"type":"StringLiteral","value":"Frozen","raw":"\"Frozen\""}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetTetherPoint"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"tetherPt"},"value":{"type":"Identifier","name":"myPos"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.tetherRadius","raw":"\"Set.tetherRadius\""}]}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.AggroDist","raw":"\"Set.AggroDist\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"right":{"type":"BinaryExpression","operator":"~=","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.AggroSpeed","raw":"\"Set.AggroSpeed\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FollowTarget"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"Identifier","name":"target"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.AggroDist","raw":"\"Set.AggroDist\""}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"BinaryExpression","operator":"*","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.AggroSpeed","raw":"\"Set.AggroSpeed\""}]},"right":{"type":"NumericLiteral","value":2,"raw":"2"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"keepFollowing"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Aggroed","raw":"\"Aggroed\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FollowTarget"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"Identifier","name":"target"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"radius"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"keepFollowing"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]}]}]}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onTimerDone"},"base":{"type":"Identifier","name":"aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoAttack"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"castTime"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"SkillTime","raw":"\"SkillTime\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<","left":{"type":"Identifier","name":"castTime"},"right":{"type":"NumericLiteral","value":1,"raw":"1"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"castTime","raw":"\"castTime\""},{"type":"Identifier","name":"castTime"}]}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"castTime"},{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"onTimerDone"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onArrived"},"base":{"type":"Identifier","name":"aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoAttack"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onExit"},"base":{"type":"Identifier","name":"aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"AttackHeartBeat","raw":"\"AttackHeartBeat\""},{"type":"Identifier","name":"self"}]}}]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onCancelled"},"base":{"type":"Identifier","name":"aggro"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Aggroed","raw":"\"Aggroed\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ProximityPuls"},"arguments":[{"type":"Identifier","name":"self"}]}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoAttack"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"ReturnStatement","arguments":[]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"Identifier","name":"CanAttackTarget"},"arguments":[{"type":"Identifier","name":"self"}]},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"readyToAttack","raw":"\"readyToAttack\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.Aggression","raw":"\"Set.Aggression\""}]},"right":{"type":"StringLiteral","value":"PassiveAggres","raw":"\"PassiveAggres\""}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"AggroOnce","raw":"\"AggroOnce\""}]},"right":{"type":"NumericLiteral","value":0,"raw":"0"}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"AggroOnce","raw":"\"AggroOnce\""},{"type":"NumericLiteral","value":1,"raw":"1"}]}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"MaxTableSkill","raw":"\"MaxTableSkill\""}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"skills"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSkills"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}}]},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"MaxTableSkill","raw":"\"MaxTableSkill\""},{"type":"Identifier","name":"i"}]}}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"attackSkillID"}],"init":[{"type":"IndexExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"skills"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetSkills"},"base":{"type":"Identifier","name":"self"}},"arguments":[]}},"index":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"MaxTableSkill","raw":"\"MaxTableSkill\""}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bOverrideSkill"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.OverRideAttackSkill","raw":"\"Set.OverRideAttackSkill\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"overrideSkillID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.AttackSkill","raw":"\"Set.AttackSkill\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"bOverrideSkill"},"right":{"type":"Identifier","name":"overrideSkillID"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bOverrideSkill"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"attackSkillID"}],"init":[{"type":"Identifier","name":"overrideSkillID"}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"bUseOptTarget"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Set.UseOptionalTargetOnAttack","raw":"\"Set.UseOptionalTargetOnAttack\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"bUseOptTarget"},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bUseOptTarget"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"Identifier","name":"attackSkillID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"optionalTargetID"},"value":{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"AttackingTarget","raw":"\"AttackingTarget\""}]}}]}}}]},{"type":"ElseClause","body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CastSkill"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"Identifier","name":"attackSkillID"}}]}}}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CombatState"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"combat"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"create"},"base":{"type":"Identifier","name":"State"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"onEnter"},"base":{"type":"Identifier","name":"combat"}}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"StringLiteral","value":"MeanderPause","raw":"\"MeanderPause\""},{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurrentState","raw":"\"CurrentState\""},{"type":"StringLiteral","value":"combat","raw":"\"combat\""}]}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CanAttackTarget"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"myTarget"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"AttackingTarget","raw":"\"AttackingTarget\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"or","left":{"type":"LogicalExpression","operator":"or","left":{"type":"UnaryExpression","operator":"not","argument":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Exists"},"base":{"type":"Identifier","name":"myTarget"}},"arguments":[]}},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"myTarget"}},"arguments":[]}}},"right":{"type":"UnaryExpression","operator":"not","argument":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"enemy"},"base":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsEnemy"},"base":{"type":"Identifier","name":"self"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"targetID"},"value":{"type":"Identifier","name":"myTarget"}}]}}}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"AttackingTarget","raw":"\"AttackingTarget\""},{"type":"StringLiteral","value":"NoTarget","raw":"\"NoTarget\""}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Aggroed","raw":"\"Aggroed\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"ProximityPuls"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":false,"raw":"false"}]}]}]},{"type":"ReturnStatement","arguments":[{"type":"BooleanLiteral","value":true,"raw":"true"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SetStoreTimmer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"intTime"},{"type":"Identifier","name":"Name"},{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"intTime","inParens":true},"right":{"type":"Identifier","name":"Name","inParens":true}},"right":{"type":"Identifier","name":"self","inParens":true}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"intTime"},{"type":"Identifier","name":"Name"},{"type":"Identifier","name":"self"}]}}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Timers","raw":"\"Timers\""}]}]},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"step":null,"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Timers.","raw":"\"Timers.\""},"right":{"type":"Identifier","name":"i"}}]},"right":{"type":"Identifier","name":"Name"}},"body":[{"type":"BreakStatement"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Timers.","raw":"\"Timers.\""},"right":{"type":"Identifier","name":"i"}}]},"right":{"type":"NilLiteral","value":null,"raw":"nil"}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Timers.","raw":"\"Timers.\""},"right":{"type":"Identifier","name":"i"}},{"type":"Identifier","name":"Name"}]}}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"CancelTemplateTimers"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Timers","raw":"\"Timers\""}]},"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"i"},"start":{"type":"NumericLiteral","value":2,"raw":"2"},"end":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"maxn"},"base":{"type":"Identifier","name":"table"}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Timers","raw":"\"Timers\""}]}]},"step":null,"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelTimer"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Timers.","raw":"\"Timers.\""},"right":{"type":"Identifier","name":"i"}}]},{"type":"Identifier","name":"self"}]}}]}]}]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"onDie"}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"onTemplateDie","inParens":true},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"Identifier","name":"onTemplateDie"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true}},"body":[{"type":"ReturnStatement","arguments":[]}]}]}]}]}],"comments":[{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" if Way Points","raw":"-- if Way Points"},{"type":"Comment","value":" if PetCalss","raw":"-- if PetCalss"},{"type":"Comment","value":" if Frozen","raw":"-- if Frozen"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" if Guard","raw":"-- if Guard"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" if Wander","raw":"-- if Wander"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" if follow","raw":"-- if follow"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" if Helper ","raw":"-- if Helper "},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" Idle","raw":"-- Idle"},{"type":"Comment","value":"setState(\"Dead\", self) ","raw":"--setState(\"Dead\", self) "},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" Death","raw":"-- Death"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" Tether","raw":"-- Tether"},{"type":"Comment","value":"print(\"I am tethering\") ","raw":"--print(\"I am tethering\") "},{"type":"Comment","value":" print(\"I have arrived at my home tether point.\")","raw":"-- print(\"I have arrived at my home tether point.\")"},{"type":"Comment","value":"  Find what state i should reset too ","raw":"--  Find what state i should reset too "},{"type":"Comment","value":"if self:GetVar(\"Set.FearHP\") then","raw":"--if self:GetVar(\"Set.FearHP\") then"},{"type":"Comment","value":" self:SetVar(\"FleeStatus\",0)","raw":"-- self:SetVar(\"FleeStatus\",0)"},{"type":"Comment","value":" self:SetVar(\"FleeDone\",true)","raw":"-- self:SetVar(\"FleeDone\",true)"},{"type":"Comment","value":" self:SetVar(\"FleeRetrun\",true)          ","raw":"-- self:SetVar(\"FleeRetrun\",true)          "},{"type":"Comment","value":" setState(\"aggro\", self)","raw":"-- setState(\"aggro\", self)"},{"type":"Comment","value":"else","raw":"--else"},{"type":"Comment","value":" end","raw":"-- end"},{"type":"Comment","value":" print(\"I have Arrived at my Home Point\")","raw":"-- print(\"I have Arrived at my Home Point\")"},{"type":"Comment","value":" //////////////////////////////////////////////////////////////////////////////////","raw":"-- //////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" Aggro ","raw":"-- Aggro "},{"type":"Comment","value":"\tAggro::\r\n\t\r\n\tRight away, turn on the heartbeat timer and follow the target.  The FollowTarget method will continually follow, face the target, and keep a good attacking distance.\r\n\tWhen the heartbeat comes back, decide what to do.  For now, we just say that we are ready to attack.\r\n\tIf you are a given distance from the target and you are facing him, attack.  If you cannot attack, wait until onArrived and then attack.\r\n\t\r\n--","raw":"--[[\r\n\tAggro::\r\n\t\r\n\tRight away, turn on the heartbeat timer and follow the target.  The FollowTarget method will continually follow, face the target, and keep a good attacking distance.\r\n\tWhen the heartbeat comes back, decide what to do.  For now, we just say that we are ready to attack.\r\n\tIf you are a given distance from the target and you are facing him, attack.  If you cannot attack, wait until onArrived and then attack.\r\n\t\r\n--]]"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" Aggro onEnter","raw":"-- Aggro onEnter"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" Start the heartbeat","raw":"-- Start the heartbeat"},{"type":"Comment","value":" print(\"Setting Tether Point \")  ","raw":"-- print(\"Setting Tether Point \")  "},{"type":"Comment","value":" end if frozen","raw":"-- end if frozen"},{"type":"Comment","value":" end else is not dead","raw":"-- end else is not dead"},{"type":"Comment","value":" end function","raw":"-- end function"},{"type":"Comment","value":" This will be called if FollowTarget fails.  That would only fail because the target has died or logged out.  In any case, the target was lost","raw":"-- This will be called if FollowTarget fails.  That would only fail because the target has died or logged out.  In any case, the target was lost"},{"type":"Comment","value":"setState(\"tether\",self)","raw":"--setState(\"tether\",self)"},{"type":"Comment","value":" print(\"Not Ready to Attack\") ","raw":"-- print(\"Not Ready to Attack\") "},{"type":"Comment","value":" print(\"Can Attack\") ","raw":"-- print(\"Can Attack\") "},{"type":"Comment","value":" set current skill to max entry in table (default behavior)","raw":"-- set current skill to max entry in table (default behavior)"},{"type":"Comment","value":" look for an attack override skill and use it","raw":"-- look for an attack override skill and use it"},{"type":"Comment","value":" use an optional target if needed","raw":"-- use an optional target if needed"},{"type":"Comment","value":" end create aggro state","raw":"-- end create aggro state"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" Combat state - native code handling it","raw":"-- Combat state - native code handling it"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" function combat.onEnter","raw":"-- function combat.onEnter"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":" CanAttackTarget","raw":"-- CanAttackTarget"},{"type":"Comment","value":"---------------------------------------------------------------------------","raw":"-----------------------------------------------------------------------------"},{"type":"Comment","value":"local range = self:GetVar(\"Set.AggroDist\")","raw":"--local range = self:GetVar(\"Set.AggroDist\")"},{"type":"Comment","value":"local myPos = Vector.new(self:GetPosition().pos)","raw":"--local myPos = Vector.new(self:GetPosition().pos)"},{"type":"Comment","value":"local hisPos = Vector.new(myTarget:GetPosition().pos)","raw":"--local hisPos = Vector.new(myTarget:GetPosition().pos)"},{"type":"Comment","value":"local dist = hisPos - myPos","raw":"--local dist = hisPos - myPos"},{"type":"Comment","value":" If we are close enough and if the object is in the FOV, then attack","raw":"-- If we are close enough and if the object is in the FOV, then attack"},{"type":"Comment","value":"if dist:sqrLength() - range <= range * range then --and (self:IsObjectInFOV { target = myTarget, radius = 5 , minRange = 0, maxRange = 100 }.result) then","raw":"--if dist:sqrLength() - range <= range * range then --and (self:IsObjectInFOV { target = myTarget, radius = 5 , minRange = 0, maxRange = 100 }.result) then"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"self:SetVar(\"Aggroed\", false)","raw":"--self:SetVar(\"Aggroed\", false)"},{"type":"Comment","value":"return false","raw":"--return false"},{"type":"Comment","value":" end CanAttackTarget","raw":"-- end CanAttackTarget"},{"type":"Comment","value":" Start timer funciton","raw":"-- Start timer funciton"},{"type":"Comment","value":" Start Timer","raw":"-- Start Timer"},{"type":"Comment","value":" Store Timer","raw":"-- Store Timer"}]}