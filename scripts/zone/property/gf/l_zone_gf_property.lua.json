{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"zone/PROPERTY/L_BASE_PROPERTY_SERVER","raw":"'zone/PROPERTY/L_BASE_PROPERTY_SERVER'"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Group"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"ClaimMarker"},"value":{"type":"StringLiteral","value":"BehavQB","raw":"\"BehavQB\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Generator"},"value":{"type":"StringLiteral","value":"Generator","raw":"\"Generator\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Guard"},"value":{"type":"StringLiteral","value":"Guard","raw":"\"Guard\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"PropertyPlaque"},"value":{"type":"StringLiteral","value":"PropertyPlaque","raw":"\"PropertyPlaque\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"PropertyVendor"},"value":{"type":"StringLiteral","value":"PropertyVendor","raw":"\"PropertyVendor\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Spots"},"value":{"type":"StringLiteral","value":"Spots","raw":"\"Spots\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"MSClouds"},"value":{"type":"StringLiteral","value":"Clouds","raw":"\"Clouds\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Enemies"},"value":{"type":"StringLiteral","value":"Enemies","raw":"\"Enemies\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"FXManager"},"value":{"type":"StringLiteral","value":"FXManager","raw":"\"FXManager\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ImagOrb"},"value":{"type":"StringLiteral","value":"Orb","raw":"\"Orb\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"GeneratorFX"},"value":{"type":"StringLiteral","value":"GeneratorFX","raw":"\"GeneratorFX\""}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"Spawners"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"Enemy"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"PiratesWander","raw":"\"PiratesWander\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"PiratesGen","raw":"\"PiratesGen\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"AdmiralsWander","raw":"\"AdmiralsWander\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"AdmiralsGen","raw":"\"AdmiralsGen\""}}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ClaimMarker"},"value":{"type":"StringLiteral","value":"BehavPlat","raw":"\"BehavPlat\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Generator"},"value":{"type":"StringLiteral","value":"Generator","raw":"\"Generator\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"DamageFX"},"value":{"type":"StringLiteral","value":"Clouds","raw":"\"Clouds\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"FXSpots"},"value":{"type":"StringLiteral","value":"Spots","raw":"\"Spots\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"PropMG"},"value":{"type":"StringLiteral","value":"Guard","raw":"\"Guard\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"ImagOrb"},"value":{"type":"StringLiteral","value":"Orb","raw":"\"Orb\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"GeneratorFX"},"value":{"type":"StringLiteral","value":"GeneratorFX","raw":"\"GeneratorFX\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"Smashables"},"value":{"type":"StringLiteral","value":"Smashables","raw":"\"Smashables\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"FXManager"},"value":{"type":"StringLiteral","value":"FXManager","raw":"\"FXManager\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"PropObjs"},"value":{"type":"StringLiteral","value":"BankObj","raw":"\"BankObj\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"AmbientFX"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"Birds","raw":"\"Birds\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"Falls","raw":"\"Falls\""}}]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"BehaviorObjs"},"value":{"type":"TableConstructorExpression","fields":[{"type":"TableValue","value":{"type":"StringLiteral","value":"TrappedPlatform","raw":"\"TrappedPlatform\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"IceBarrier","raw":"\"IceBarrier\""}},{"type":"TableValue","value":{"type":"StringLiteral","value":"FireBeast","raw":"\"FireBeast\""}}]}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"flags"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"defeatedProperty"},"value":{"type":"NumericLiteral","value":98,"raw":"98"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"placedModel"},"value":{"type":"NumericLiteral","value":106,"raw":"106"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"guardMission"},"value":{"type":"NumericLiteral","value":873,"raw":"873"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"password"},"value":{"type":"StringLiteral","value":"s3kratK1ttN","raw":"\"s3kratK1ttN\""}},{"type":"TableKeyString","key":{"type":"Identifier","name":"generatorID"},"value":{"type":"NumericLiteral","value":11109,"raw":"11109"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"orbID"},"value":{"type":"NumericLiteral","value":10226,"raw":"10226"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"behavQBID"},"value":{"type":"NumericLiteral","value":11001,"raw":"11001"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"brickLinkMissionID"},"value":{"type":"NumericLiteral","value":949,"raw":"949"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onPlayerLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"setGameVariables"},"arguments":[{"type":"Identifier","name":"Group"},{"type":"Identifier","name":"Spawners"},{"type":"Identifier","name":"flags"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"basePlayerLoaded"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"},{"type":"Identifier","name":"newMsg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onZonePropertyRented"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseZonePropertyRented"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"},{"type":"Identifier","name":"newMsg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onZonePropertyModelPlaced"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseZonePropertyModelPlaced"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"},{"type":"Identifier","name":"newMsg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyDie"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseNotifyDie"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onPlayerExit"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"basePlayerExit"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyRebuildComplete"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseNotifyRebuildComplete"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"notifyCollisionPhantom"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseNotifyCollisionPhantom"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"other"},{"type":"Identifier","name":"msg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onNotifyObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseNotifyObject"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"},{"type":"Identifier","name":"newMsg"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onTimerDone"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"baseTimerDone"},"arguments":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"},{"type":"Identifier","name":"newMsg"}]}}]}],"comments":[{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" level specific Server script for Property Pushback in NS small property","raw":"-- level specific Server script for Property Pushback in NS small property"},{"type":"Comment","value":" this script requires a base script","raw":"-- this script requires a base script"},{"type":"Comment","value":" this script should be in the zone script in the DB","raw":"-- this script should be in the zone script in the DB"},{"type":"Comment","value":" updated mrb... 9/7/10 - added brickLinkMissionID","raw":"-- updated mrb... 9/7/10 - added brickLinkMissionID"},{"type":"Comment","value":" updated abeechler... 2/22/11 - added \"BankObj\" PropObjs Spawner","raw":"-- updated abeechler... 2/22/11 - added \"BankObj\" PropObjs Spawner"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"//////////////////////////////////////////////////////////////////////////////////","raw":"--//////////////////////////////////////////////////////////////////////////////////"},{"type":"Comment","value":" User Config local variables","raw":"-- User Config local variables"},{"type":"Comment","value":"GROUPS, set in Happy Flower on objects","raw":"--GROUPS, set in Happy Flower on objects"},{"type":"Comment","value":" claimmarker object that the player rebuilds","raw":"-- claimmarker object that the player rebuilds"},{"type":"Comment","value":" object the player smashes to get the claimmarker quickbuild","raw":"-- object the player smashes to get the claimmarker quickbuild"},{"type":"Comment","value":" mission giver npc","raw":"-- mission giver npc"},{"type":"Comment","value":" make sure this matching the client script","raw":"-- make sure this matching the client script"},{"type":"Comment","value":" the object the player actually rents the property from","raw":"-- the object the player actually rents the property from"},{"type":"Comment","value":" the fx on the ground that don't damage the player and say until the player places a model","raw":"-- the fx on the ground that don't damage the player and say until the player places a model"},{"type":"Comment","value":" the damaging maelstrom cloud FX around the property","raw":"-- the damaging maelstrom cloud FX around the property"},{"type":"Comment","value":" all the enemies on the map, no matter what spawner network they are in","raw":"-- all the enemies on the map, no matter what spawner network they are in"},{"type":"Comment","value":" the hidden object underground (small yellow box) that controls all the env fx for the map","raw":"-- the hidden object underground (small yellow box) that controls all the env fx for the map"},{"type":"Comment","value":"Spawner networks, set in happy flower","raw":"--Spawner networks, set in happy flower"},{"type":"Comment","value":" this can be as many spawner networks as necessary, ","raw":"-- this can be as many spawner networks as necessary, "},{"type":"Comment","value":"but all spawner networks with enemies should be listed","raw":"--but all spawner networks with enemies should be listed"},{"type":"Comment","value":"the spawner network for the claim marker, should only be one node","raw":"--the spawner network for the claim marker, should only be one node"},{"type":"Comment","value":"the spawner network for the generator, should only be one node","raw":"--the spawner network for the generator, should only be one node"},{"type":"Comment","value":" the spawner network for the damaging maelstrom clouds","raw":"-- the spawner network for the damaging maelstrom clouds"},{"type":"Comment","value":" the spawner network for the non-damaging fx spots","raw":"-- the spawner network for the non-damaging fx spots"},{"type":"Comment","value":" spawns the mission giver for this property","raw":"-- spawns the mission giver for this property"},{"type":"Comment","value":" smashables to give the player imagination if they run out","raw":"-- smashables to give the player imagination if they run out"},{"type":"Comment","value":" the hidden object underground (small yellow box) that controls all the env fx for the map","raw":"-- the hidden object underground (small yellow box) that controls all the env fx for the map"},{"type":"Comment","value":" spawns objects that player's can interact with once a property is claimed","raw":"-- spawns objects that player's can interact with once a property is claimed"},{"type":"Comment","value":" the ambient happy effects for the property, they are on by default and are turned off if maelstrom is spawned","raw":"-- the ambient happy effects for the property, they are on by default and are turned off if maelstrom is spawned"},{"type":"Comment","value":" Behavior scenerio object","raw":"-- Behavior scenerio object"},{"type":"Comment","value":" player flags. These have to be different for each property map. these are set up in the db","raw":"-- player flags. These have to be different for each property map. these are set up in the db"},{"type":"Comment","value":" when the player builds the claim marker, this flag is set","raw":"-- when the player builds the claim marker, this flag is set"},{"type":"Comment","value":" when a player places a model for the first time, this flag is set","raw":"-- when a player places a model for the first time, this flag is set"},{"type":"Comment","value":" last mission for the guard","raw":"-- last mission for the guard"},{"type":"Comment","value":" behavior password build qb object with behaviors","raw":"-- behavior password build qb object with behaviors"},{"type":"Comment","value":" lot id of the generator","raw":"-- lot id of the generator"},{"type":"Comment","value":" lot id of the orb","raw":"-- lot id of the orb"},{"type":"Comment","value":" lot id of the behavior platform quickbuild","raw":"-- lot id of the behavior platform quickbuild"},{"type":"Comment","value":" Achievement ID to complete on property rental","raw":"-- Achievement ID to complete on property rental"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" leave the functions below alone","raw":"-- leave the functions below alone"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" Called when the player fully loads into the map, passes the variables set above,","raw":"-- Called when the player fully loads into the map, passes the variables set above,"},{"type":"Comment","value":" Sets up the map for maelstrom if the player has not defeated this map before","raw":"-- Sets up the map for maelstrom if the player has not defeated this map before"},{"type":"Comment","value":"--------------------------------------------------------------\t\t\t","raw":"----------------------------------------------------------------\t\t\t"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when the player rents a zone, turns on the property border","raw":"-- called when the player rents a zone, turns on the property border"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when the player places a model, the first time it turns off the spots and sets a player flag","raw":"-- called when the player places a model, the first time it turns off the spots and sets a player flag"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called from the generator object and the claimmarker object when they die","raw":"-- called from the generator object and the claimmarker object when they die"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"-----------------------------------------------------","raw":"-------------------------------------------------------"},{"type":"Comment","value":" called when a player exits the zone","raw":"-- called when a player exits the zone"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called from the quickbuild behavior model when its done rebuilding","raw":"-- called from the quickbuild behavior model when its done rebuilding"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when orb is collided with","raw":"-- called when orb is collided with"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when notify object message is recieved","raw":"-- called when notify object message is recieved"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" called when timers are done","raw":"-- called when timers are done"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"}]}