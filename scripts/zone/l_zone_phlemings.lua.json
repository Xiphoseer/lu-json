{"type":"Chunk","body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"o_mis","raw":"'o_mis'"}]}},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"CONSTANTS"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_POS","raw":"\"PLAYER_START_POS\""}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":2.4,"raw":"2.4"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":153,"raw":"153"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":63.1,"raw":"63.1"}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_ROT","raw":"\"PLAYER_START_ROT\""}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"w"},"value":{"type":"NumericLiteral","value":0.91913521289825,"raw":"0.91913521289825"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":0.39394217729568,"raw":"0.39394217729568"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"NumericLiteral","value":0,"raw":"0"}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NPC_START_POS","raw":"\"NPC_START_POS\""}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"NumericLiteral","value":17.6,"raw":"17.6"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"NumericLiteral","value":153,"raw":"153"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"UnaryExpression","operator":"-","argument":{"type":"NumericLiteral","value":84,"raw":"84"}}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_FACTION","raw":"\"PLAYER_FACTION\""}}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INITIAL_PATH","raw":"\"INITIAL_PATH\""}}],"init":[{"type":"StringLiteral","value":"TestPath","raw":"\"TestPath\""}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PHLEGMING","raw":"\"PHLEGMING\""}}],"init":[{"type":"NumericLiteral","value":2711,"raw":"2711"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PHLEGMING_SAVE","raw":"\"PHLEGMING_SAVE\""}}],"init":[{"type":"NumericLiteral","value":0.5,"raw":"0.50"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL","raw":"\"PLAYER_SKILL\""}}],"init":[{"type":"NumericLiteral","value":68,"raw":"68"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL2","raw":"\"PLAYER_SKILL2\""}}],"init":[{"type":"NumericLiteral","value":74,"raw":"74"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"spawns"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"spawn"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawn"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"id"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PHLEGMING","raw":"\"PHLEGMING\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"time"},"value":{"type":"NumericLiteral","value":1,"raw":"1.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"speed"},"value":{"type":"NumericLiteral","value":3,"raw":"3.0"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"score"},"value":{"type":"NumericLiteral","value":50,"raw":"50"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bwpRan"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"w1"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"w2"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"w3"},"value":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"NumericLiteral","value":1,"raw":"1"}}],"init":[{"type":"Identifier","name":"spawn"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"NumericLiteral","value":2,"raw":"2"}}],"init":[{"type":"Identifier","name":"spawn"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"NumericLiteral","value":3,"raw":"3"}}],"init":[{"type":"Identifier","name":"spawn"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"NumericLiteral","value":4,"raw":"4"}}],"init":[{"type":"Identifier","name":"spawn"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"NumericLiteral","value":5,"raw":"5"}}],"init":[{"type":"Identifier","name":"spawn"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"healthSpawns"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"MAX_HEALTH","raw":"\"MAX_HEALTH\""}}],"init":[{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"healthSpawns"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_WAVES","raw":"\"NUM_WAVES\""}}],"init":[{"type":"UnaryExpression","operator":"#","argument":{"type":"Identifier","name":"spawns"}}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HEALTH_TEMPLATEID","raw":"\"HEALTH_TEMPLATEID\""}}],"init":[{"type":"NumericLiteral","value":2018,"raw":"2018"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"FIRST_WAVE_START_TIME","raw":"\"FIRST_WAVE_START_TIME\""}}],"init":[{"type":"NumericLiteral","value":15,"raw":"15.0"}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"TIME_BETWEEN_WAVES","raw":"\"TIME_BETWEEN_WAVES\""}}],"init":[{"type":"NumericLiteral","value":3,"raw":"3.0"}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strings"}],"init":[{"type":"TableConstructorExpression","fields":[]}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"strings"},"index":{"type":"StringLiteral","value":"WAVE_TEXT","raw":"\"WAVE_TEXT\""}}],"init":[{"type":"StringLiteral","value":"Monkey ","raw":"\"Monkey \""}]},{"type":"AssignmentStatement","variables":[{"type":"IndexExpression","base":{"type":"Identifier","name":"strings"},"index":{"type":"StringLiteral","value":"LIFE_LOST","raw":"\"LIFE_LOST\""}}],"init":[{"type":"StringLiteral","value":"BBQ Lost!","raw":"\"BBQ Lost!\""}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"storeObjectByName"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"varName"},{"type":"Identifier","name":"object"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"idString"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"object"}},"arguments":[]}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"finalID"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"|","raw":"\"|\""},"right":{"type":"Identifier","name":"idString"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"varName"},{"type":"Identifier","name":"finalID"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"getObjectByName"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"varName"}],"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"targetID"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"varName"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"targetID","inParens":true},"body":[{"type":"ReturnStatement","arguments":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetObjectByID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[{"type":"Identifier","name":"targetID"}]}]}]},{"type":"ElseClause","body":[{"type":"ReturnStatement","arguments":[{"type":"NilLiteral","value":null,"raw":"nil"}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"startGame"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bSendRequest"}],"body":[]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"stopGame"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"bSendRequest"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"cannon"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"cannonObject","raw":"\"cannonObject\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"bSendRequest"},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"right":{"type":"Identifier","name":"cannon","inParens":true}},"right":{"type":"Identifier","name":"player","inParens":true},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"RequestActivityStartStop"},"base":{"type":"Identifier","name":"cannon"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bStart"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"userID"},"value":{"type":"Identifier","name":"player"}}]}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoGameShutdown"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoGameStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"SpawnNum","raw":"\"SpawnNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Health","raw":"\"Health\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"MAX_HEALTH","raw":"\"MAX_HEALTH\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"DisplayWaveNum","raw":"\"DisplayWaveNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurSpawnNum","raw":"\"CurSpawnNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurSpawnHealthNum","raw":"\"CurSpawnHealthNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""},{"type":"BooleanLiteral","value":true,"raw":"true"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumDeadSpawns","raw":"\"NumDeadSpawns\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextWave","raw":"\"NextWave\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameScore","raw":"\"GameScore\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameTime","raw":"\"GameTime\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameWave","raw":"\"GameWave\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"StringLiteral","value":"Spawning Health Items","raw":"\"Spawning Health Items\""}]}},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"Identifier","name":"healthSpawns"}]}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SpawnHealth"},"arguments":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"},{"type":"Identifier","name":"self"}]}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"FIRST_WAVE_START_TIME","raw":"\"FIRST_WAVE_START_TIME\""}},{"type":"StringLiteral","value":"SpawnWave1","raw":"\"SpawnWave1\""},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DoGameShutdown"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"CancelAllTimers"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DestroyAllSpawns"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SpawnObject"},"isLocal":false,"parameters":[{"type":"Identifier","name":"num"},{"type":"Identifier","name":"spawn"},{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnNum"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"SpawnNum","raw":"\"SpawnNum\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"SpawnData"}],"init":[{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"sdTemplate"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"id"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdSpeed"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"speed"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdScore"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"score"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdUseRandomPath"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bwpRan"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdWP1"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w1"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdWP2"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w2"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"sdWP3"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w3"},"base":{"type":"Identifier","name":"spawn"}}}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""},"right":{"type":"Identifier","name":"spawnNum"}},{"type":"Identifier","name":"SpawnData"}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"timerName"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"DoSpawn","raw":"\"DoSpawn\""},"right":{"type":"Identifier","name":"spawnNum"}}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"time"},"base":{"type":"Identifier","name":"spawn"}},{"type":"Identifier","name":"timerName"},{"type":"Identifier","name":"self"}]}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"SpawnHealth"},"isLocal":false,"parameters":[{"type":"Identifier","name":"num"},{"type":"Identifier","name":"spawn"},{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HEALTH_TEMPLATEID","raw":"\"HEALTH_TEMPLATEID\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bIsSmashable"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"Identifier","name":"spawn"}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DestroyAllSpawns"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"health"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"MAX_HEALTH","raw":"\"MAX_HEALTH\""}},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"healthObject"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"healthSpawn","raw":"\"healthSpawn\""},"right":{"type":"Identifier","name":"health"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"healthObject","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"removing health item ","raw":"\"removing health item \""},"right":{"type":"Identifier","name":"health"}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"healthObject"}},"arguments":[]}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"healthObject"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"healthObject"}}]}}}]}]}]}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"maxSpawnNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurSpawnNum","raw":"\"CurSpawnNum\""}]}]},{"type":"ForNumericStatement","variable":{"type":"Identifier","name":"spawn"},"start":{"type":"NumericLiteral","value":1,"raw":"1"},"end":{"type":"Identifier","name":"maxSpawnNum"},"step":null,"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnObject"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"spawnObject","raw":"\"spawnObject\""},"right":{"type":"Identifier","name":"spawn"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"spawnObject","inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"removing spawn object ","raw":"\"removing spawn object \""},"right":{"type":"Identifier","name":"spawn"}}]}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"bDead"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"IsDead"},"base":{"type":"Identifier","name":"spawnObject"}},"arguments":[]}},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Die"},"base":{"type":"Identifier","name":"spawnObject"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"killerID"},"value":{"type":"Identifier","name":"spawnObject"}}]}}}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"DisplayWaveNumberToPlayer"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"player","inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"displayWave"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"DisplayWaveNum","raw":"\"DisplayWaveNum\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"textString"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"strings"},"index":{"type":"StringLiteral","value":"WAVE_TEXT","raw":"\"WAVE_TEXT\""}},"right":{"type":"Identifier","name":"displayWave"}}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"showSummaryDialog"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"player","inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"score"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameScore","raw":"\"GameScore\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"time"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameTime","raw":"\"GameTime\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"wave"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameWave","raw":"\"GameWave\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"StringLiteral","value":"","raw":"\"\""}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"LogicalExpression","operator":"and","left":{"type":"Identifier","name":"score"},"right":{"type":"Identifier","name":"time"}},"right":{"type":"Identifier","name":"wave"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Score/Wave: ","raw":"\"Score/Wave: \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"score"},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"/","raw":"\"/\""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"Identifier","name":"wave"},"right":{"type":"StringLiteral","value":",  Retry?","raw":"\",  Retry?\""}}}}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"strText"}],"init":[{"type":"StringLiteral","value":"Retry?","raw":"\"Retry?\""}]}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"Identifier","name":"strText"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"Shooting_Gallery_Summary","raw":"\"Shooting_Gallery_Summary\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"isLocal":false,"parameters":[{"type":"Identifier","name":"String"},{"type":"Identifier","name":"Start"}],"body":[{"type":"ReturnStatement","arguments":[{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"String"},{"type":"NumericLiteral","value":1,"raw":"1"},{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"len"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"Identifier","name":"Start"}]}]},"right":{"type":"Identifier","name":"Start"}}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"IncrementVarAndReturn"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"varName"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"value"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"varName"}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"Identifier","name":"value","inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"value"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"value"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]}]},{"type":"ElseClause","body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"value"}],"init":[{"type":"NumericLiteral","value":1,"raw":"1"}]}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"Identifier","name":"varName"},{"type":"Identifier","name":"value"}]}},{"type":"ReturnStatement","arguments":[{"type":"Identifier","name":"value"}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onStartup"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""},{"type":"BooleanLiteral","value":false,"raw":"false"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurSpawnNum","raw":"\"CurSpawnNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumDeadSpawns","raw":"\"NumDeadSpawns\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"CurSpawnHealthNum","raw":"\"CurSpawnHealthNum\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextWave","raw":"\"NextWave\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"Health","raw":"\"Health\""},{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"MAX_HEALTH","raw":"\"MAX_HEALTH\""}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameScore","raw":"\"GameScore\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameTime","raw":"\"GameTime\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameWave","raw":"\"GameWave\""},{"type":"NumericLiteral","value":0,"raw":"0"}]}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"onTimerDone"}],"init":[{"type":"FunctionDeclaration","identifier":null,"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"StringLiteral","value":"SpawnWave","raw":"\"SpawnWave\""}],"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"waveNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"NumericLiteral","value":10,"raw":"10"}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DisplayWaveNumberToPlayer"},"arguments":[{"type":"Identifier","name":"self"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Spawning Wave ","raw":"\"Spawning Wave \""},"right":{"type":"Identifier","name":"waveNum"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameWave","raw":"\"GameWave\""},{"type":"Identifier","name":"waveNum"}]}},{"type":"ForGenericStatement","variables":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"}],"iterators":[{"type":"CallExpression","base":{"type":"Identifier","name":"pairs"},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"spawns"},"index":{"type":"CallExpression","base":{"type":"Identifier","name":"tonumber"},"arguments":[{"type":"Identifier","name":"waveNum"}]}}]}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"SpawnObject"},"arguments":[{"type":"Identifier","name":"k"},{"type":"Identifier","name":"v"},{"type":"Identifier","name":"self"}]}}]},{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"waveNum"}],"init":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"waveNum"},"right":{"type":"NumericLiteral","value":1,"raw":"1"}}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"waveNum"},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NUM_WAVES","raw":"\"NUM_WAVES\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NextWave","raw":"\"NextWave\""},{"type":"Identifier","name":"waveNum"}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddTimerWithCancel"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetTimer"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},"arguments":[{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"TIME_BETWEEN_WAVES","raw":"\"TIME_BETWEEN_WAVES\""}},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SpawnWave","raw":"\"SpawnWave\""},"right":{"type":"Identifier","name":"waveNum"}},{"type":"Identifier","name":"self"}]}}]}]}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"starts"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"StringLiteral","value":"DoSpawn","raw":"\"DoSpawn\""}],"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""}]},"right":{"type":"BooleanLiteral","value":true,"raw":"true"},"inParens":true},"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnNum"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sub"},"base":{"type":"Identifier","name":"string"}},"arguments":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"Identifier","name":"msg"}},{"type":"NumericLiteral","value":8,"raw":"8"}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"SpawnData"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""},"right":{"type":"Identifier","name":"spawnNum"}}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"templateID"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sdTemplate"},"base":{"type":"Identifier","name":"SpawnData"}}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"LoadObject"},"base":{"type":"Identifier","name":"RESMGR"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"objectTemplate"},"value":{"type":"Identifier","name":"templateID"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bIsSmashable"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NPC_START_POS","raw":"\"NPC_START_POS\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NPC_START_POS","raw":"\"NPC_START_POS\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"NPC_START_POS","raw":"\"NPC_START_POS\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"owner"},"value":{"type":"Identifier","name":"self"}}]}}}]}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onChildLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"HEALTH_TEMPLATEID","raw":"\"HEALTH_TEMPLATEID\""}}},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetFaction"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"faction"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_FACTION","raw":"\"PLAYER_FACTION\""}}}]}}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"healthSpawnNum"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"CurSpawnHealthNum","raw":"\"CurSpawnHealthNum\""}]}]},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"healthSpawn","raw":"\"healthSpawn\""},"right":{"type":"Identifier","name":"healthSpawnNum"}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}}]},{"type":"ElseClause","body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"spawnNum"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"CurSpawnNum","raw":"\"CurSpawnNum\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"SpawnData"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""},"right":{"type":"Identifier","name":"spawnNum"}}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"templateID"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PHLEGMING","raw":"\"PHLEGMING\""}}},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"spawnObject","raw":"\"spawnObject\""},"right":{"type":"Identifier","name":"spawnNum"}},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeParent"},"arguments":[{"type":"Identifier","name":"self"},{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}]}},{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetVar"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[{"type":"StringLiteral","value":"SpawnData","raw":"\"SpawnData\""},{"type":"Identifier","name":"SpawnData"}]}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FollowWaypoints"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"SetCurrentPath"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"childID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pathName"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"INITIAL_PATH","raw":"\"INITIAL_PATH\""}}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onPlayerLoaded"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"print"},"arguments":[{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Player Entered: ","raw":"\"Player Entered: \""},"right":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"name"},"base":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetName"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]}}}]}},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"playerID"},"base":{"type":"Identifier","name":"msg"}}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"storedPlayer"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"storedPlayer"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"storeObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""},{"type":"Identifier","name":"player"}]}}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"Teleport"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"pos"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_POS","raw":"\"PLAYER_START_POS\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"x"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"x"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_ROT","raw":"\"PLAYER_START_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"y"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"y"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_ROT","raw":"\"PLAYER_START_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"z"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"z"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_ROT","raw":"\"PLAYER_START_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"w"},"value":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"w"},"base":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_START_ROT","raw":"\"PLAYER_START_ROT\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bSetRotation"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddSkill"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL","raw":"\"PLAYER_SKILL\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"temporary"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"temporaryReplaceAttack"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"AddSkill"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL2","raw":"\"PLAYER_SKILL2\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"temporary"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"temporaryReplaceAttack"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MapSkill"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL","raw":"\"PLAYER_SKILL\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"slot"},"value":{"type":"NumericLiteral","value":3,"raw":"3"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"MapSkill"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"skillID"},"value":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PLAYER_SKILL2","raw":"\"PLAYER_SKILL2\""}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"slot"},"value":{"type":"NumericLiteral","value":4,"raw":"4"}}]}}},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"GameStarted","raw":"\"GameStarted\""}]},"right":{"type":"BooleanLiteral","value":false,"raw":"false"},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"DisplayMessageBox"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bShow"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"imageID"},"value":{"type":"NumericLiteral","value":2,"raw":"2"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"callbackClient"},"value":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetZoneControlID"},"base":{"type":"Identifier","name":"GAMEOBJ"}},"arguments":[]}},{"type":"TableKeyString","key":{"type":"Identifier","name":"text"},"value":{"type":"BinaryExpression","operator":"..","left":{"type":"StringLiteral","value":"Save the monkeys! They're about to run! You need to save ","raw":"\"Save the monkeys! They're about to run! You need to save \""},"right":{"type":"BinaryExpression","operator":"..","left":{"type":"BinaryExpression","operator":"*","left":{"type":"IndexExpression","base":{"type":"Identifier","name":"CONSTANTS"},"index":{"type":"StringLiteral","value":"PHLEGMING_SAVE","raw":"\"PHLEGMING_SAVE\""}},"right":{"type":"NumericLiteral","value":100,"raw":"100"},"inParens":true},"right":{"type":"StringLiteral","value":"% of the monkeys. Are you ready?","raw":"\"% of the monkeys. Are you ready?\""}}}},{"type":"TableKeyString","key":{"type":"Identifier","name":"identifier"},"value":{"type":"StringLiteral","value":"PhlegmingMap","raw":"\"PhlegmingMap\""}}]}}}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onMessageBoxRespond"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"Identifier","name":"player"}},"arguments":[]},"right":{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetID"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"sender"},"base":{"type":"Identifier","name":"msg"}}},"arguments":[]},"inParens":true},"body":[{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":1,"raw":"1"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PhlegmingMap","raw":"\"PhlegmingMap\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"CallExpression","base":{"type":"Identifier","name":"DoGameStartup"},"arguments":[{"type":"Identifier","name":"self"}]}}]},{"type":"ElseifClause","condition":{"type":"LogicalExpression","operator":"and","left":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"iButton"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"NumericLiteral","value":0,"raw":"0"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"identifier"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"PhlegmingMap","raw":"\"PhlegmingMap\""}},"inParens":true},"body":[{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"ServerSetUserCtrlCompPause"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":false,"raw":"false"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"TransferToLastNonInstance"},"base":{"type":"Identifier","name":"player"}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"playerID"},"value":{"type":"Identifier","name":"player"}},{"type":"TableKeyString","key":{"type":"Identifier","name":"bUseLastPosition"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}}]}]}]}]}]},{"type":"FunctionDeclaration","identifier":{"type":"Identifier","name":"onUpdateMissionTask"},"isLocal":false,"parameters":[{"type":"Identifier","name":"self"},{"type":"Identifier","name":"msg"}],"body":[{"type":"LocalStatement","variables":[{"type":"Identifier","name":"player"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"getObjectByName"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"activityPlayer","raw":"\"activityPlayer\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"dead"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumDeadSpawns","raw":"\"NumDeadSpawns\""}]}]},{"type":"LocalStatement","variables":[{"type":"Identifier","name":"win"}],"init":[{"type":"CallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"GetVar"},"base":{"type":"Identifier","name":"self"}},"arguments":[{"type":"StringLiteral","value":"NumFinishedSpawns","raw":"\"NumFinishedSpawns\""}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"dead"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"dead"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"Identifier","name":"win"},"right":{"type":"NilLiteral","value":null,"raw":"nil"},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"win"}],"init":[{"type":"NumericLiteral","value":0,"raw":"0"}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"taskType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"phlegming_die","raw":"\"phlegming_die\""},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"dead"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"NumDeadSpawns","raw":"\"NumDeadSpawns\""}]}]}]}]},{"type":"IfStatement","clauses":[{"type":"IfClause","condition":{"type":"BinaryExpression","operator":"==","left":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"taskType"},"base":{"type":"Identifier","name":"msg"}},"right":{"type":"StringLiteral","value":"phlegming_win","raw":"\"phlegming_win\""},"inParens":true},"body":[{"type":"AssignmentStatement","variables":[{"type":"Identifier","name":"win"}],"init":[{"type":"CallExpression","base":{"type":"Identifier","name":"IncrementVarAndReturn"},"arguments":[{"type":"Identifier","name":"self"},{"type":"StringLiteral","value":"NumFinishedSpawns","raw":"\"NumFinishedSpawns\""}]}]},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"FollowWaypoints"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"target"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"bPaused"},"value":{"type":"BooleanLiteral","value":true,"raw":"true"}}]}}},{"type":"CallStatement","expression":{"type":"TableCallExpression","base":{"type":"MemberExpression","indexer":":","identifier":{"type":"Identifier","name":"PlayEmote"},"base":{"type":"MemberExpression","indexer":".","identifier":{"type":"Identifier","name":"target"},"base":{"type":"Identifier","name":"msg"}}},"arguments":{"type":"TableConstructorExpression","fields":[{"type":"TableKeyString","key":{"type":"Identifier","name":"emoteID"},"value":{"type":"StringLiteral","value":"cheer","raw":"\"cheer\""}}]}}}]}]}]}],"comments":[{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Includes","raw":"-- Includes"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Constants","raw":"-- Constants"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Start Location for the Zone","raw":"-- Start Location for the Zone"},{"type":"Comment","value":" Other constants","raw":"-- Other constants"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Spawn Data","raw":"-- Spawn Data"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"spawn[2] = { id = 2711, time = 2.0, speed = 5.0, score = 100, bwpRan = true, w1 = 1, w2 = 1, w3 = 1 }","raw":"--spawn[2] = { id = 2711, time = 2.0, speed = 5.0, score = 100, bwpRan = true, w1 = 1, w2 = 1, w3 = 1 }"},{"type":"Comment","value":"healthSpawns[1] = { x = 34.33 , y= 270.0 , z= -12.23 }","raw":"--healthSpawns[1] = { x = 34.33 , y= 270.0 , z= -12.23 }"},{"type":"Comment","value":"healthSpawns[2] = { x = 30.33 , y= 270.0 , z= -7.87 }","raw":"--healthSpawns[2] = { x = 30.33 , y= 270.0 , z= -7.87 }"},{"type":"Comment","value":"healthSpawns[3] = { x = 25.29 , y= 270.0 , z= -2.68 }","raw":"--healthSpawns[3] = { x = 25.29 , y= 270.0 , z= -2.68 }"},{"type":"Comment","value":"healthSpawns[4] = { x = 18.94 , y= 270.0 , z=  3.85 }","raw":"--healthSpawns[4] = { x = 18.94 , y= 270.0 , z=  3.85 }"},{"type":"Comment","value":"healthSpawns[5] = { x = 12.46 , y= 270.0 , z= 10.52 }","raw":"--healthSpawns[5] = { x = 12.46 , y= 270.0 , z= 10.52 }"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Activity Constants","raw":"-- Activity Constants"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" String Table","raw":"-- String Table"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Helper Functions","raw":"-- Helper Functions"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" store an object by name","raw":"-- store an object by name"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get an object by name","raw":"-- get an object by name"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" try to start the game","raw":"-- try to start the game"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get the cannon","raw":"-- get the cannon"},{"type":"Comment","value":"local cannon = getObjectByName(self, \"cannonObject\")","raw":"--local cannon = getObjectByName(self, \"cannonObject\")"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":"local player = getObjectByName(self, \"activityPlayer\")","raw":"--local player = getObjectByName(self, \"activityPlayer\")"},{"type":"Comment","value":" if we have both start it","raw":"-- if we have both start it"},{"type":"Comment","value":"if (player) then","raw":"--if (player) then"},{"type":"Comment","value":"\t\tRESMGR:LoadObject { objectTemplate = 2711, ","raw":"--\t\tRESMGR:LoadObject { objectTemplate = 2711, "},{"type":"Comment","value":"\t                    bIsSmashable = true, ","raw":"--\t                    bIsSmashable = true, "},{"type":"Comment","value":"                    x = CONSTANTS[\"NPC_START_POS\"].x, ","raw":"--                    x = CONSTANTS[\"NPC_START_POS\"].x, "},{"type":"Comment","value":"                  y = CONSTANTS[\"NPC_START_POS\"].y, ","raw":"--                  y = CONSTANTS[\"NPC_START_POS\"].y, "},{"type":"Comment","value":"                z = CONSTANTS[\"NPC_START_POS\"].z,","raw":"--                z = CONSTANTS[\"NPC_START_POS\"].z,"},{"type":"Comment","value":"             owner = self }   ","raw":"--             owner = self }   "},{"type":"Comment","value":" send request to start cannon if needed","raw":"-- send request to start cannon if needed"},{"type":"Comment","value":"\tif (bSendRequest == true) then","raw":"--\tif (bSendRequest == true) then"},{"type":"Comment","value":"\t\tcannon:RequestActivityStartStop{bStart = true, userID = player}","raw":"--\t\tcannon:RequestActivityStartStop{bStart = true, userID = player}"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" try to stop the game","raw":"-- try to stop the game"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get the cannon","raw":"-- get the cannon"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" if we have both stop it if we need to","raw":"-- if we have both stop it if we need to"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" handle all the game startup data","raw":"-- handle all the game startup data"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set game state and vars","raw":"-- set game state and vars"},{"type":"Comment","value":" spawn the health objects","raw":"-- spawn the health objects"},{"type":"Comment","value":" start the first wave","raw":"-- start the first wave"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" handle all the game shutdown data","raw":"-- handle all the game shutdown data"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" cancel all timers","raw":"-- cancel all timers"},{"type":"Comment","value":" despawn all spawns","raw":"-- despawn all spawns"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" spawn an object for the game","raw":"-- spawn an object for the game"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get the current spawn number","raw":"-- get the current spawn number"},{"type":"Comment","value":" save the spawn data for the object when it is loaded","raw":"-- save the spawn data for the object when it is loaded"},{"type":"Comment","value":" store the data","raw":"-- store the data"},{"type":"Comment","value":" set the timer to spawn the object","raw":"-- set the timer to spawn the object"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" spawns the health objects","raw":"-- spawns the health objects"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" load the object in the world","raw":"-- load the object in the world"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" destroys all health objects and spawns","raw":"-- destroys all health objects and spawns"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" sends a message to display the current wave number to player","raw":"-- sends a message to display the current wave number to player"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" show the summary dialog","raw":"-- show the summary dialog"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" get player","raw":"-- get player"},{"type":"Comment","value":" get the player's score and time","raw":"-- get the player's score and time"},{"type":"Comment","value":" show the summary message box","raw":"-- show the summary message box"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check to see if a string starts with a substring","raw":"-- check to see if a string starts with a substring"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Increment a saved variable and return its new value","raw":"-- Increment a saved variable and return its new value"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Game Message Handlers","raw":"-- Game Message Handlers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Startup","raw":"-- Startup"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" set game state","raw":"-- set game state"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Timers","raw":"-- Timers"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" parse the name to get out the wave number","raw":"-- parse the name to get out the wave number"},{"type":"Comment","value":" use the wave number to select the spawns","raw":"-- use the wave number to select the spawns"},{"type":"Comment","value":" of format \"SpawnWaveXXX\" where XXX is the spawn number","raw":"-- of format \"SpawnWaveXXX\" where XXX is the spawn number"},{"type":"Comment","value":" get the wave number from the rest of the string","raw":"-- get the wave number from the rest of the string"},{"type":"Comment","value":" setup spawns for wave","raw":"-- setup spawns for wave"},{"type":"Comment","value":" move to the next wave","raw":"-- move to the next wave"},{"type":"Comment","value":" repeat the last wave if we are at the max","raw":"-- repeat the last wave if we are at the max"},{"type":"Comment","value":"waveNum = CONSTANTS[\"NUM_WAVES\"];","raw":"--waveNum = CONSTANTS[\"NUM_WAVES\"];"},{"type":"Comment","value":" store next wave number\t\t\t","raw":"-- store next wave number\t\t\t"},{"type":"Comment","value":" setup next wave","raw":"-- setup next wave"},{"type":"Comment","value":" parse the name to get out the spawn number","raw":"-- parse the name to get out the spawn number"},{"type":"Comment","value":" use the spawn number to select the template id","raw":"-- use the spawn number to select the template id"},{"type":"Comment","value":" load the object","raw":"-- load the object"},{"type":"Comment","value":" of format \"DoSpawnXXX\" where XXX is the spawn number","raw":"-- of format \"DoSpawnXXX\" where XXX is the spawn number"},{"type":"Comment","value":" get the spawn number from the rest of the string","raw":"-- get the spawn number from the rest of the string"},{"type":"Comment","value":" get the template out of the spawn data\t\t","raw":"-- get the template out of the spawn data\t\t"},{"type":"Comment","value":" load the object in the world","raw":"-- load the object in the world"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when a Child is loaded","raw":"-- Called when a Child is loaded"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" check for health spawns, MUST BE FIRST","raw":"-- check for health spawns, MUST BE FIRST"},{"type":"Comment","value":" set the health spawn faction to same as a player","raw":"-- set the health spawn faction to same as a player"},{"type":"Comment","value":" get current spawn health number and increment","raw":"-- get current spawn health number and increment"},{"type":"Comment","value":" store health spawn for use later","raw":"-- store health spawn for use later"},{"type":"Comment","value":" get the current spawn number and increment it","raw":"-- get the current spawn number and increment it"},{"type":"Comment","value":" get the template out of the spawn data\t\t","raw":"-- get the template out of the spawn data\t\t"},{"type":"Comment","value":" check for the right template","raw":"-- check for the right template"},{"type":"Comment","value":" store spawn for use later","raw":"-- store spawn for use later"},{"type":"Comment","value":" store who the parent is","raw":"-- store who the parent is"},{"type":"Comment","value":" store the spawn data in the child","raw":"-- store the spawn data in the child"},{"type":"Comment","value":" store the waypoint data in the child","raw":"-- store the waypoint data in the child"},{"type":"Comment","value":"\tif (SpawnData.sdUseRandomPath == true) then","raw":"--\tif (SpawnData.sdUseRandomPath == true) then"},{"type":"Comment","value":"\t\t-- do random waypoints","raw":"--\t\t-- do random waypoints"},{"type":"Comment","value":"\t\tlocal wp1 = math.random(1,5)","raw":"--\t\tlocal wp1 = math.random(1,5)"},{"type":"Comment","value":"\t\tlocal wp2 = math.random(1,5)","raw":"--\t\tlocal wp2 = math.random(1,5)"},{"type":"Comment","value":"\t\tlocal wp3 = math.random(1,5)","raw":"--\t\tlocal wp3 = math.random(1,5)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint1\",waypoints[1][wp1])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint1\",waypoints[1][wp1])"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint2\",waypoints[2][wp2])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint2\",waypoints[2][wp2])"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint3\",waypoints[3][wp3])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint3\",waypoints[3][wp3])"},{"type":"Comment","value":"\telse","raw":"--\telse"},{"type":"Comment","value":"\t\t-- do normal waypoints","raw":"--\t\t-- do normal waypoints"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint1\",waypoints[1][SpawnData.sdWP1])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint1\",waypoints[1][SpawnData.sdWP1])"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint2\",waypoints[2][SpawnData.sdWP2])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint2\",waypoints[2][SpawnData.sdWP2])"},{"type":"Comment","value":"\t\tmsg.childID:SetVar(\"Waypoint3\",waypoints[3][SpawnData.sdWP3])","raw":"--\t\tmsg.childID:SetVar(\"Waypoint3\",waypoints[3][SpawnData.sdWP3])"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Called when Player Loads into Zone","raw":"-- Called when Player Loads into Zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" move player to level start location","raw":"-- move player to level start location"},{"type":"Comment","value":" @TODO: Sometimes this teleport works and sometimes it does not.....","raw":"-- @TODO: Sometimes this teleport works and sometimes it does not....."},{"type":"Comment","value":" store the player for later use","raw":"-- store the player for later use"},{"type":"Comment","value":"player:ServerSetUserCtrlCompPause{bPaused = true}","raw":"--player:ServerSetUserCtrlCompPause{bPaused = true}"},{"type":"Comment","value":" get the player","raw":"-- get the player"},{"type":"Comment","value":" try to start the game","raw":"-- try to start the game"},{"type":"Comment","value":"startGame(self, true)","raw":"--startGame(self, true)"},{"type":"Comment","value":"Shooting_Gallery_Summary\"}","raw":"--Shooting_Gallery_Summary\"}"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent from an object after loading into zone","raw":"-- Sent from an object after loading into zone"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"function onObjectLoaded(self, msg)","raw":"--function onObjectLoaded(self, msg)"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t-- Cannon Object Loaded","raw":"--\t-- Cannon Object Loaded"},{"type":"Comment","value":"\tif (msg.templateID == CONSTANTS[\"CANNON_TEMPLATEID\"]) then","raw":"--\tif (msg.templateID == CONSTANTS[\"CANNON_TEMPLATEID\"]) then"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t-- Override the cannon shooting parameters","raw":"--\t\t-- Override the cannon shooting parameters"},{"type":"Comment","value":"\t\tmsg.objectID:SetShootingGalleryParams{playerPosOffset =    CONSTANTS[\"CANNON_PLAYER_OFFSET\"],","raw":"--\t\tmsg.objectID:SetShootingGalleryParams{playerPosOffset =    CONSTANTS[\"CANNON_PLAYER_OFFSET\"],"},{"type":"Comment","value":"\t\t                                      projectileVelocity = CONSTANTS[\"CANNON_VELOCITY\"], ","raw":"--\t\t                                      projectileVelocity = CONSTANTS[\"CANNON_VELOCITY\"], "},{"type":"Comment","value":"\t\t                                      cooldown =           CONSTANTS[\"CANNON_REFIRE_RATE\"], ","raw":"--\t\t                                      cooldown =           CONSTANTS[\"CANNON_REFIRE_RATE\"], "},{"type":"Comment","value":"\t\t                                      muzzlePosOffset =    CONSTANTS[\"CANNON_BARREL_OFFSET\"], ","raw":"--\t\t                                      muzzlePosOffset =    CONSTANTS[\"CANNON_BARREL_OFFSET\"], "},{"type":"Comment","value":"\t\t                                      minDistance =        CONSTANTS[\"CANNON_MIN_DISTANCE\"], ","raw":"--\t\t                                      minDistance =        CONSTANTS[\"CANNON_MIN_DISTANCE\"], "},{"type":"Comment","value":"\t\t                                      timeLimit =          CONSTANTS[\"CANNON_TIMEOUT\"]}","raw":"--\t\t                                      timeLimit =          CONSTANTS[\"CANNON_TIMEOUT\"]}"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\t-- store the cannon object for use later","raw":"--\t\t-- store the cannon object for use later"},{"type":"Comment","value":"\t\tstoreObjectByName(self, \"cannonObject\", msg.objectID)","raw":"--\t\tstoreObjectByName(self, \"cannonObject\", msg.objectID)"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"\t\tif (self:GetVar(\"GameStarted\") == false) then\t","raw":"--\t\tif (self:GetVar(\"GameStarted\") == false) then\t"},{"type":"Comment","value":"\t\t\t-- try to start the game","raw":"--\t\t\t-- try to start the game"},{"type":"Comment","value":"\t\t\tstartGame(self, true)","raw":"--\t\t\tstartGame(self, true)"},{"type":"Comment","value":"\t\tend","raw":"--\t\tend"},{"type":"Comment","value":"\t\t\t","raw":"--\t\t\t"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent from a ninja when he gets to his final waypoint","raw":"-- Sent from a ninja when he gets to his final waypoint"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"function onArrived(self, msg)","raw":"--function onArrived(self, msg)"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\tif (self:GetVar(\"GameStarted\") == true) then","raw":"--\tif (self:GetVar(\"GameStarted\") == true) then"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t-- get the health left","raw":"--\t\t-- get the health left"},{"type":"Comment","value":"\t\tlocal health = self:GetVar(\"Health\")","raw":"--\t\tlocal health = self:GetVar(\"Health\")"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\tif (health > 0) then","raw":"--\t\tif (health > 0) then"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t\t-- tell the player they lost a life","raw":"--\t\t\t-- tell the player they lost a life"},{"type":"Comment","value":"\t\t\tlocal player = getObjectByName(self, \"activityPlayer\")\t\t\t","raw":"--\t\t\tlocal player = getObjectByName(self, \"activityPlayer\")\t\t\t"},{"type":"Comment","value":"\t\t\t","raw":"--\t\t\t"},{"type":"Comment","value":"\t\t\t-- remove health","raw":"--\t\t\t-- remove health"},{"type":"Comment","value":"\t\t\tnewhealth = health - 1","raw":"--\t\t\tnewhealth = health - 1"},{"type":"Comment","value":"\t\t\tself:SetVar(\"Health\", newhealth)","raw":"--\t\t\tself:SetVar(\"Health\", newhealth)"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t\t-- destroy a health object","raw":"--\t\t\t-- destroy a health object"},{"type":"Comment","value":"\t\t\tlocal healthObject = getObjectByName(self, \"healthSpawn\" .. health)\t","raw":"--\t\t\tlocal healthObject = getObjectByName(self, \"healthSpawn\" .. health)\t"},{"type":"Comment","value":"\t\t\tif (healthObject) then","raw":"--\t\t\tif (healthObject) then"},{"type":"Comment","value":"\t\t\t\thealthObject:Die{killerID = healthObject}","raw":"--\t\t\t\thealthObject:Die{killerID = healthObject}"},{"type":"Comment","value":"\t\t\tend","raw":"--\t\t\tend"},{"type":"Comment","value":" ","raw":"-- "},{"type":"Comment","value":" \t\t\t-- game over","raw":"-- \t\t\t-- game over"},{"type":"Comment","value":"\t\t\tif (newhealth <= 0) then","raw":"--\t\t\tif (newhealth <= 0) then"},{"type":"Comment","value":"\t\t\t\tprint(\"health empty, game over\")","raw":"--\t\t\t\tprint(\"health empty, game over\")"},{"type":"Comment","value":"\t\t\t    stopGame(self, true)","raw":"--\t\t\t    stopGame(self, true)"},{"type":"Comment","value":"\t\t\tend","raw":"--\t\t\tend"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\tend","raw":"--\t\tend"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\tend\t","raw":"--\tend\t"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":" Sent from the cannon when a player starts or stops the activity","raw":"-- Sent from the cannon when a player starts or stops the activity"},{"type":"Comment","value":"------------------------------------------------------------","raw":"--------------------------------------------------------------"},{"type":"Comment","value":"function onRequestActivityStartStop(self, msg)","raw":"--function onRequestActivityStartStop(self, msg)"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t-- if the user quit, stop the game","raw":"--\t-- if the user quit, stop the game"},{"type":"Comment","value":"\tif (msg.bStart == false) then","raw":"--\tif (msg.bStart == false) then"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\tstopGame(self, false)","raw":"--\t\tstopGame(self, false)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\tshowSummaryDialog(self)","raw":"--\t\tshowSummaryDialog(self)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\telseif (msg.bStart == true) then","raw":"--\telseif (msg.bStart == true) then"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"\t\t-- get the player","raw":"--\t\t-- get the player"},{"type":"Comment","value":"\t\tlocal player = getObjectByName(self, \"activityPlayer\")\t","raw":"--\t\tlocal player = getObjectByName(self, \"activityPlayer\")\t"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\t-- store the player just in case","raw":"--\t\t-- store the player just in case"},{"type":"Comment","value":"\t\tif (player == nil) then","raw":"--\t\tif (player == nil) then"},{"type":"Comment","value":"\t\t\tplayer = msg.userID","raw":"--\t\t\tplayer = msg.userID"},{"type":"Comment","value":"\t\t\tstoreObjectByName(self, \"activityPlayer\", player)","raw":"--\t\t\tstoreObjectByName(self, \"activityPlayer\", player)"},{"type":"Comment","value":"\t\tend","raw":"--\t\tend"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t-- start the game\t\t","raw":"--\t\t-- start the game\t\t"},{"type":"Comment","value":"\t\tstartGame(self,false)","raw":"--\t\tstartGame(self,false)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\tDoGameStartup(self)","raw":"--\t\tDoGameStartup(self)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"-- Sent from the cannon to get a score for the player","raw":"---- Sent from the cannon to get a score for the player"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"function onDoCalculateActivityRating(self, msg)","raw":"--function onDoCalculateActivityRating(self, msg)"},{"type":"Comment","value":"    ","raw":"--    "},{"type":"Comment","value":"\t-- save the score and time for later use","raw":"--\t-- save the score and time for later use"},{"type":"Comment","value":"\tself:SetVar(\"GameScore\",msg.score)","raw":"--\tself:SetVar(\"GameScore\",msg.score)"},{"type":"Comment","value":"\tself:SetVar(\"GameTime\",msg.time)","raw":"--\tself:SetVar(\"GameTime\",msg.time)"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"\t-- wave should already be set","raw":"--\t-- wave should already be set"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"    -- also return the score as the result for the activity","raw":"--    -- also return the score as the result for the activity"},{"type":"Comment","value":"\tmsg.outActivityRating = msg.score","raw":"--\tmsg.outActivityRating = msg.score"},{"type":"Comment","value":"\treturn msg","raw":"--\treturn msg"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"end","raw":"--end"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"-- Sent from a player when responding from a messagebox","raw":"---- Sent from a player when responding from a messagebox"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":" make sure this is the right player","raw":"-- make sure this is the right player"},{"type":"Comment","value":"\t\t-- User wants to retry","raw":"--\t\t-- User wants to retry"},{"type":"Comment","value":"\t\t\tstartGame(self,true)","raw":"--\t\t\tstartGame(self,true)"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\t-- User wants to quit","raw":"--\t\t-- User wants to quit"},{"type":"Comment","value":"\t\t\t","raw":"--\t\t\t"},{"type":"Comment","value":"\t\t\t-- go back to the other zone","raw":"--\t\t\t-- go back to the other zone"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"-- Sent from the spawn objects on death","raw":"---- Sent from the spawn objects on death"},{"type":"Comment","value":"--------------------------------------------------------------","raw":"----------------------------------------------------------------"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\tlocal numDeadSpawns = IncrementVarAndReturn(self,\"NumDeadSpawns\")","raw":"--\tlocal numDeadSpawns = IncrementVarAndReturn(self,\"NumDeadSpawns\")"},{"type":"Comment","value":"\t","raw":"--\t"},{"type":"Comment","value":"\t-- if all the spawns are dead or gone","raw":"--\t-- if all the spawns are dead or gone"},{"type":"Comment","value":"\tif (numDeadSpawns == maxSpawnNum) then","raw":"--\tif (numDeadSpawns == maxSpawnNum) then"},{"type":"Comment","value":"","raw":"--"},{"type":"Comment","value":"\t\t-- spawn the next wave","raw":"--\t\t-- spawn the next wave"},{"type":"Comment","value":"\t\tlocal waveNum = self:GetVar(\"NextWave\")","raw":"--\t\tlocal waveNum = self:GetVar(\"NextWave\")"},{"type":"Comment","value":"\t\t","raw":"--\t\t"},{"type":"Comment","value":"\t\t-- setup next wave","raw":"--\t\t-- setup next wave"},{"type":"Comment","value":"\t\tGAMEOBJ:GetTimer():AddTimerWithCancel( CONSTANTS[\"TIME_BETWEEN_WAVES\"], \"SpawnWave\" .. waveNum,self ) ","raw":"--\t\tGAMEOBJ:GetTimer():AddTimerWithCancel( CONSTANTS[\"TIME_BETWEEN_WAVES\"], \"SpawnWave\" .. waveNum,self ) "},{"type":"Comment","value":"\tend","raw":"--\tend"},{"type":"Comment","value":"","raw":"--"}]}